---
title: Python å…¨æ ˆä¹‹è·¯ç³»åˆ—ä¹‹é¢å‘å¯¹è±¡ç‰¹æ®Šæˆå‘˜

tags: 
  - ç¼–ç 
  - é¢å‘å¯¹è±¡
top: 4
categories: 
  - ğŸ’» å·¥ä½œ
  - ğŸPython
  - å…¨æ ˆä¹‹è·¯
  - é¢å‘å¯¹è±¡
date: 2020-05-23 18:21:46
permalink: /pages/18febb/
---

## ç±»çš„ç‰¹æ®Šæˆå‘˜ä¹‹ call

```Python
#!/usr/bin/env python
# _*_coding:utf-8 _*_

class SpecialMembers:

    # ç±»çš„æ„é€ æ–¹æ³•
    def __init__(self):
        print("My Blog is Url: http://ansheng.me")

    # å¯¹è±¡çš„æ„é€ æ–¹æ³•
    def __call__(self):
        print("My Name is: Ansheng")

# åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æ‰§è¡Œç±»çš„æ„é€ æ–¹æ³•
obj = SpecialMembers()

# æ‰§è¡Œå¯¹è±¡çš„æ„é€ æ–¹æ³•
obj()

# å…ˆæ‰§è¡Œç±»çš„æ„é€ æ–¹æ³•ï¼Œç„¶ååœ¨æ‰§è¡Œå¯¹è±¡çš„æ„é€ æ–¹æ³•
SpecialMembers()()
```

---

è¾“å‡º
```Python
ansheng@Darker:~$ python3 /home/ansheng/æ–‡æ¡£/Python_code/sublime/Week06/Day04/s2.py
My Blog is Url: http://ansheng.me
My Name is: Ansheng
My Blog is Url: http://ansheng.me
My Name is: Ansheng
```

## ç±»çš„ç‰¹æ®Šæˆå‘˜ä¹‹ getitemã€setitemã€delitem

```Python
#!/usr/bin/env python
# _*_coding:utf-8 _*_

class SpecialMembers:

    # å½“æ‰§è¡Œobj['value']çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ__getitem__æ–¹æ³•ï¼Œå¹¶ä¸”æŠŠå¯¹è±¡æ‹¬å·å†…çš„å€¼å½“åš__getitem__çš„å€¼
    def __getitem__(self, item):
        print(item)

    def __setitem__(self, key, value):
        print(key, value)

    def __delitem__(self, key):
        print(key)

# åˆ›å»ºä¸€ä¸ªå¯¹è±¡
obj = SpecialMembers()

# è‡ªåŠ¨æ‰§è¡Œ__getitem__æ–¹æ³•
obj['value']

# è‡ªåŠ¨æ‰§è¡Œ__setitem__æ–¹æ³•
obj['k1'] = "values"

# è‡ªåŠ¨æ‰§è¡Œ__delitem__æ–¹æ³•
del obj['key']
```
è¾“å‡º
```bash
ansheng@Darker:~$ python3 /home/ansheng/æ–‡æ¡£/Python_code/sublime/Week06/Day04/s2.py
value
k1 values
key
```
ç‰¹æ®Šçš„
```Python
#!/usr/bin/env python
# _*_coding:utf-8 _*_

class SpecialMembers:

    # å½“æ‰§è¡Œobj['value']çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ__getitem__æ–¹æ³•ï¼Œå¹¶ä¸”æŠŠå¯¹è±¡æ‹¬å·å†…çš„å€¼å½“åš__getitem__çš„å€¼
    def __getitem__(self, item):
        print(item, type(item), "__getitem__")

    def __setitem__(self, key, value):
        print(key, value)

    def __delitem__(self, key):
        print(key)

# åˆ›å»ºä¸€ä¸ªå¯¹è±¡
obj = SpecialMembers()

# è‡ªåŠ¨æ‰§è¡Œ__getitem__æ–¹æ³•
obj[1:3]  # __getslice__/__getitem__

# è‡ªåŠ¨æ‰§è¡Œ__setitem__æ–¹æ³•
obj[1:3] = [11, 22, 33]  # __setslice__/__setitem__

# è‡ªåŠ¨æ‰§è¡Œ__delitem__
del obj[1:3]  # __delslice__/__delitem__
```
è¾“å‡º
```bash
ansheng@Darker:~$ python3 /home/ansheng/æ–‡æ¡£/Python_code/sublime/Week06/Day04/s2.py
slice(1, 3, None) <class 'slice'> __getitem__
slice(1, 3, None) [11, 22, 33]
slice(1, 3, None)
```

## ç±»çš„ç‰¹æ®Šæˆå‘˜ä¹‹ dict

è·å–ç±»æˆ–å¯¹è±¡ä¸­çš„æ‰€æœ‰æˆå‘˜

```Python
#!/usr/bin/env python
# _*_coding:utf-8 _*_

class SpecialMembers:
    """
    ç±»çš„æ³¨é‡Š
    """

    def __init__(self):
        self.Name = "Ansheng"
        self.Blog = "https://blog.ansheng.me"

# è·å–ç±»ä¸­çš„æˆå‘˜
print(SpecialMembers.__dict__)

# åˆ›å»ºä¸€ä¸ªå¯¹è±¡
obj = SpecialMembers()

# è·å–å¯¹è±¡ä¸­çš„æˆå‘˜
print(obj.__dict__)
```
è¾“å‡º
```bash
ansheng@Darker:~$ python3 /home/ansheng/æ–‡æ¡£/Python_code/sublime/Week06/Day04/s2.py
{'__weakref__': <attribute '__weakref__' of 'SpecialMembers' objects>, '__doc__': '\n    ç±»çš„æ³¨é‡Š\n    ', '__module__': '__main__', '__dict__': <attribute '__dict__' of 'SpecialMembers' objects>, '__init__': <function SpecialMembers.__init__ at 0x7ff2af2d7598>}
{'Blog': 'https://blog.ansheng.me', 'Name': 'Ansheng'}
```

## ç±»çš„ç‰¹æ®Šæˆå‘˜ä¹‹ iter

ä¸€ä¸ªå¯¹è±¡å¦‚æœå¯ä»¥è¢«`for`å¾ªç¯è¿­ä»£æ—¶ï¼Œè¯´æ˜å¯¹è±¡ä¸­åˆ`__iter__`æ–¹æ³•ï¼Œä¸”æ–¹æ³•ä¸­æœ‰`yield`å€¼ã€‚

```Python
#!/usr/bin/env python
# _*_coding:utf-8 _*_

class SpecialMembers:

    def __iter__(self):
        yield 1
        yield 2
        yield 3

# åˆ›å»ºä¸€ä¸ªå¯¹è±¡
obj = SpecialMembers()

# å¦‚æœæ‰§è¡Œforå¾ªç¯å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨ä¼šæ‰§è¡Œå¯¹è±¡çš„__iter__æ–¹æ³•ï¼Œæ­¤æ—¶çš„__iter__å°±æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨
for i in obj:
    print(i)
```
è¾“å‡º
```bash
ansheng@Darker:~$ python3 /home/ansheng/æ–‡æ¡£/Python_code/sublime/Week06/Day04/s2.py
1
2
3
```