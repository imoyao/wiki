---
title: pep-3105
date: 2020-12-11 12:49:36
permalink: /pages/02110a/
categories:
  - ğŸPython
  - PEP
tags:
  - 
---
---
title: [è¯‘] PEP 3105--æ”¹ print ä¸ºå‡½æ•°
categories: 
  - ğŸ’» å·¥ä½œ
  - ğŸPython
  - PEP
date: 2019-11-27 23:34:31
permalink: /pages/2ab20e/
tags: 
  - 
---

**PEP åŸæ–‡ ï¼š** [https://www.python.org/dev/peps/pep-3105/](https://www.python.org/dev/peps/pep-3105/)

**PEP æ ‡é¢˜ï¼š** Make print a function

**PEP ä½œè€…ï¼š** Georg Brandl

**åˆ›å»ºæ—¥æœŸï¼š** 2006-11-19

**åˆå…¥ç‰ˆæœ¬ï¼š** 3.0

**è¯‘è€…** ï¼š[è±Œè±†èŠ±ä¸‹çŒ«](https://zhuanlan.zhihu.com/pythonCat)ï¼ˆ**Python çŒ«** å…¬ä¼—å·ä½œè€…ï¼‰

**PEP ç¿»è¯‘è®¡åˆ’** ï¼šhttps://github.com/chinesehuazhou/peps-cn

## æ‘˜è¦

æ ‡é¢˜å·²è¯´æ˜äº†ä¸€åˆ‡â€”â€”æœ¬ PEP æè®®ä½¿ç”¨æ–°çš„å†…ç½®å‡½æ•° print() æ¥æ›¿ä»£ print è¯­å¥ï¼Œå¹¶å»ºè®®ç»™æ­¤æ–°å‡½æ•°ä½¿ç”¨ç‰¹æ®Šçš„ç­¾åï¼ˆsignature ï¼‰ã€‚

## åŸç†é˜è¿°

`print è¯­å¥` æ—©å°±è¢«åˆ—åœ¨äº†ä¸å¯é çš„è¯­è¨€ç‰¹æ€§åˆ—è¡¨ä¸­ï¼Œä¾‹å¦‚ Guido çš„â€œPython ä¹‹æ‚”â€ï¼ˆPython Regretsï¼‰æ¼”è®²ã€1ã€‘ï¼Œå¹¶è®¡åˆ’åœ¨ Python 3000 ç‰ˆæœ¬ç§»é™¤ã€‚å› æ­¤ï¼Œæœ¬ PEP çš„ç›®çš„å¹¶ä¸æ–°é²œï¼Œå°½ç®¡å®ƒå¯èƒ½ä¼šåœ¨ Python å¼€å‘äººå‘˜ä¸­å¼•èµ·è¾ƒå¤§äº‰è®®ã€‚

ä»¥ä¸‹å¯¹ print() å‡½æ•°çš„äº‰è®®æ˜¯æå–è‡ª Guido æœ¬äººçš„ Python-3000 æ¶ˆæ¯ã€2ã€‘ï¼š

-  print æ˜¯å”¯ä¸€çš„åº”ç”¨ç¨‹åºçº§åŠŸèƒ½ï¼Œå¹¶æ‹¥æœ‰ä¸“å±çš„è¯­å¥ã€‚åœ¨ Python çš„ä¸–ç•Œé‡Œï¼Œå½“æŸäº›ä»»åŠ¡åœ¨ä¸é€šè¿‡ç¼–è¯‘å™¨çš„å¸®åŠ©å°±æ— æ³•å®Œæˆçš„æƒ…å†µä¸‹ï¼Œè¯­æ³•ï¼ˆsyntaxï¼‰é€šå¸¸ä¼šè¢«ç”¨ä½œæœ€åçš„æ‰‹æ®µã€‚åœ¨è¿™ç§å¼‚å¸¸æƒ…å†µä¸‹ï¼Œprint å¹¶ä¸åˆé€‚ã€‚
-  åœ¨å¼€å‘åº”ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œäººä»¬ç»å¸¸éœ€è¦ç”¨æ›´å¤æ‚çš„ä¸œè¥¿æ¥ä»£æ›¿ print è¾“å‡ºï¼Œä¾‹å¦‚è°ƒç”¨ loggingï¼Œæˆ–è€…è°ƒç”¨å…¶å®ƒçš„ I/O åº“ã€‚è‡³äº print() å‡½æ•°ï¼Œè¿™æ˜¯ä¸ªç›´æˆªäº†å½“çš„å­—ç¬¦æ›¿æ¢ï¼Œå¦‚ä»Šå®ƒæ··æ­äº†æ‰€æœ‰é‚£äº›æ‹¬å·ï¼Œè¿˜å¯èƒ½ä¼šè½¬æ¢ >>stream æ ·å¼çš„è¯­æ³•ã€‚
-  ä¸º print è®¾ç½®ç‰¹æ®Šçš„è¯­æ³•åªä¼šç»™è¿›åŒ–å¸¦æ¥ä¸€ä¸ªæ›´åŠ å·¨å¤§çš„å±éšœï¼Œä¾‹å¦‚è¿™æœ‰ä¸ªçŒœæƒ³ï¼Œä¸€ä¸ªæ–°çš„ printf() å‡½æ•°ä¸ç”¨å¤šä¹…å°±ä¼šå‡ºç°ï¼Œè·Ÿ print() å‡½æ•°å…±å­˜ã€‚
-  å½“éœ€è¦ä¸€ä¸ªä¸åŒçš„åˆ†éš”ç¬¦ï¼ˆä¸æ˜¯ç©ºæ ¼ï¼Œæˆ–è€…æ²¡æœ‰åˆ†éš”ç¬¦ï¼‰æ—¶ï¼Œæ²¡æœ‰ç®€å•çš„æ–¹æ³•å¯ä»¥å°† print è¯­å¥è½¬æ¢æˆå¦ä¸€ä¸ªè°ƒç”¨ã€‚åŒæ ·åœ°ï¼Œä½¿ç”¨å…¶å®ƒä¸€äº›åˆ†éš”ç¬¦è€Œéç©ºæ ¼æ—¶ï¼Œæ ¹æœ¬æ— æ³•æ–¹ä¾¿åœ°æ‰“å°å¯¹è±¡ã€‚
-  å¦‚æœ print() æ˜¯ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥éå¸¸å®¹æ˜“åœ°åœ¨ä¸€ä¸ªæ¨¡å—å†…æ›¿æ¢å®ƒï¼ˆä»…éœ€ def print(*args):...ï¼‰ï¼Œç”šè‡³å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºå†…æ›¿æ¢ï¼ˆä¾‹å¦‚æ”¾ä¸€ä¸ªä¸åŒçš„æ–¹æ³•è¿› \_\_builtin\_\_.printï¼‰ã€‚å®é™…ä¸Šï¼Œè¦åšåˆ°è¿™ç‚¹ï¼Œè¿˜å¯ä»¥å†™ä¸€ä¸ªå¸¦ write() æ–¹æ³•çš„ç±»ï¼Œç„¶åå®šå‘ç»™ `sys.stdout` ï¼Œè¿™æƒ³æ³•ä¸é”™ï¼Œä½†æ— ç–‘æ˜¯ä¸€ä¸ªéå¸¸å·¨å¤§çš„æ¦‚å¿µé£è·ƒï¼Œè€Œä¸”è·Ÿ print ç›¸æ¯”ï¼Œå®ƒå·¥ä½œåœ¨ä¸åŒçš„å±‚çº§ã€‚

## è®¾è®¡è§„æ ¼

print() çš„ä¹¦å†™æ–¹å¼å–è‡ªå„ç§é‚®ä»¶ï¼Œæœ€è¿‘å‘å¸ƒåœ¨ python-3000 åˆ—è¡¨é‡Œçš„æ˜¯ã€3ã€‘ï¼š

```plain
def print(*args, sep=' ', end='\n', file=None)
```

è°ƒç”¨åƒï¼š

```plain
print(a, b, c, file=sys.stderr)
```

ç›¸å½“äºå½“å‰çš„ï¼š

```plain
print >>sys.stderr, a, b, c
```

å¯é€‰çš„ sep ä¸ end å‚æ•°ç›¸åº”åœ°æŒ‡å®šäº†æ¯ä¸ªæ‰“å°å‚æ•°ä¹‹é—´åŠä¹‹åçš„å†…å®¹ã€‚

`softspace` åŠŸèƒ½ï¼ˆå½“å‰åœ¨æ–‡ä»¶ä¸Šçš„åŠç§˜å¯†å±æ€§ï¼Œç”¨äºå‘Šè¯‰ print æ˜¯å¦è¦åœ¨ç¬¬ä¸€ä¸ªæ¡ç›®å‰æ’å…¥ç©ºæ ¼ï¼‰ä¼šè¢«åˆ é™¤ã€‚å› æ­¤ï¼Œå½“å‰ç‰ˆæœ¬çš„ä»¥ä¸‹å†™æ³•ä¸èƒ½è¢«ç›´æ¥è½¬æ¢ï¼š

```plain
print "a",
print
```

å®ƒä¸ä¼šåœ¨â€œaâ€ä¸æ¢è¡Œç¬¦ä¹‹é—´æ‰“å°ä¸€ä¸ªç©ºæ ¼ã€‚

ï¼ˆè¯‘æ³¨ï¼šåœ¨ 3.3 ç‰ˆæœ¬ï¼Œprint() å‡½æ•°åˆåšäº†æ”¹åŠ¨ï¼Œå¢åŠ äº†é»˜è®¤å‚æ•° flush=Falseï¼‰

## å‘åå…¼å®¹æ€§

æœ¬ PEP ä¸­æå‡ºçš„æ”¹åŠ¨å°†è‡´ä½¿å¦‚ä»Šçš„ print è¯­å¥å¤±æ•ˆã€‚åªæœ‰é‚£äº›æ°å¥½ç”¨æ‹¬å·åŒ…å›´äº†æ‰€æœ‰å‚æ•°çš„å†™æ³•æ‰èƒ½åœ¨ Python 3 ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆï¼Œè‡³äºå…¶å®ƒï¼Œåªæœ‰åŠ ä¸Šäº†æ‹¬å·çš„å€¼æ‰èƒ½ä¿æŒåŸæ ·æ‰“å°ã€‚ä¾‹å¦‚ï¼Œåœ¨ 2.x ä¸­ï¼š

```plain
>>> print ("Hello")
Hello
>>> print ("Hello", "world")
('Hello', 'world')
```

è€Œåœ¨ 3.0 ä¸­ï¼š

```plain
>>> print ("Hello")
Hello
>>> print ("Hello", "world")
Hello world
```

å¹¸è¿çš„æ˜¯ï¼Œå› ä¸º print æ˜¯ Python 2 ä¸­çš„ä¸€ä¸ªè¯­å¥ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·è€Œæ£€æµ‹åˆ°ï¼Œå¹¶å¯é è€Œç²¾ç¡®åœ°æ›¿æ¢æ‰ï¼Œå› æ­¤åº”è¯¥æ²¡æœ‰é‡å¤§çš„ç§»æ¤é—®é¢˜ï¼ˆå¦‚æœæœ‰äººæ¥å†™è¿™ä¸ªå·¥å…·çš„è¯ï¼‰ã€‚

## å®ç°

æ›´æ”¹å°†åœ¨ Python 3000 åˆ†æ”¯ä¸­å®ç°ï¼ˆä¿®è®¢ç‰ˆä» 53685 åˆ° 53704ï¼‰ã€‚å¤§å¤šæ•°åœ¨ç»´åº“ä»£ç ï¼ˆlegacy codeï¼‰å·²ç»åšè½¬æ¢äº†ï¼Œä½†è¦æŠ“å‡ºå‘è¡Œç‰ˆæœ¬ä¸­çš„æ¯ä¸ª print è¯­å¥ï¼Œè¿˜éœ€è¦æŒç»­ä¸æ–­åœ°åŠªåŠ›ã€‚

## å‚è€ƒèµ„æ–™

[1] http://legacy.python.org/doc/essays/ppt/regrets/PythonRegrets.pdf

[2]Python 3.0 æ›¿æ¢ printï¼ˆGuido van Rossumï¼‰

https://mail.python.org/pipermail/python-dev/2005-September/056154.html

[3] py3k ä¸­ print() çš„å‚æ•°ï¼ˆGuido van Rossumï¼‰

https://mail.python.org/pipermail/python-3000/2006-November/004485.html

## ç‰ˆæƒ

æœ¬æ–‡æ¡£å·²ç»æ”¾ç½®åœ¨å…¬å…±é¢†åŸŸã€‚æºæ–‡æ¡£ï¼š

[https://github.com/python/peps/blob/master/pep-3105.txt](https://github.com/python/peps/blob/master/pep-3105.txt)
