---
title: pep-0202
date: 2020-12-11 12:49:36
permalink: /pages/7a6b06/
categories:
  - ğŸPython
  - PEP
tags:
  - 
---
---
title: [è¯‘] PEP202--åˆ—è¡¨æ¨å¯¼å¼
categories: 
  - ğŸ’» å·¥ä½œ
  - ğŸPython
  - PEP
tags: åˆ—è¡¨æ¨å¯¼å¼

date: 2019-11-27 23:34:31
permalink: /pages/ae1c38/
---

**PEP åŸæ–‡ ï¼š** [https://www.python.org/dev/peps/pep-0202/](https://www.python.org/dev/peps/pep-0202/)

**PEP æ ‡é¢˜ï¼š** PEP 202 -- List Comprehensions

**PEP ä½œè€…ï¼š** Barry Warsaw

**åˆ›å»ºæ—¥æœŸï¼š** 2000-7-13

**åˆå…¥ç‰ˆæœ¬ï¼š** 2.0

**è¯‘è€…** ï¼šè±Œè±†èŠ±ä¸‹çŒ«

**PEP ç¿»è¯‘è®¡åˆ’** ï¼šhttps://github.com/chinesehuazhou/peps-cn

## ä»‹ç»

æœ¬ PEP æè¿°äº†ç»™ Python æè®®çš„ä¸€ç§è¯­æ³•æ‹“å±•ï¼Œå³åˆ—è¡¨æ¨å¯¼å¼ã€‚

## æ‹Ÿè®®çš„æ–¹æ¡ˆ

æè®®å…è®¸ä½¿ç”¨ for å’Œ if è¯­å¥ï¼Œè¿›è¡Œæ¡ä»¶å¼åœ°æ„é€ åˆ—è¡¨ã€‚for å¾ªç¯å’Œ if è¯­å¥å¯ä»¥åµŒå¥—å¼åœ°ä½¿ç”¨ã€‚

## åŸºæœ¬åŸç†

å¯¹æ¯”å½“å‰ä½¿ç”¨ map() å’Œ filter() å’Œ/æˆ–åµŒå¥—å¾ªç¯æ¥åˆ›å»ºåˆ—è¡¨çš„åœºæ™¯ï¼Œåˆ—è¡¨æ¨å¯¼å¼ä¼šæä¾›ä¸€ç§æ›´ä¸ºç®€æ´çš„æ–¹æ³•ã€‚

## ä¾‹å­

```python
>>> print [i for i in range(10)]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

>>> print [i for i in range(20) if i%2 == 0]
[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

>>> nums = [1, 2, 3, 4]
>>> fruit = ["Apples", "Peaches", "Pears", "Bananas"]
>>> print [(i, f) for i in nums for f in fruit]
[(1, 'Apples'), (1, 'Peaches'), (1, 'Pears'), (1, 'Bananas'),
 (2, 'Apples'), (2, 'Peaches'), (2, 'Pears'), (2, 'Bananas'),
 (3, 'Apples'), (3, 'Peaches'), (3, 'Pears'), (3, 'Bananas'),
 (4, 'Apples'), (4, 'Peaches'), (4, 'Pears'), (4, 'Bananas')]
>>> print [(i, f) for i in nums for f in fruit if f[0] == "P"]
[(1, 'Peaches'), (1, 'Pears'),
 (2, 'Peaches'), (2, 'Pears'),
 (3, 'Peaches'), (3, 'Pears'),
 (4, 'Peaches'), (4, 'Pears')]
>>> print [(i, f) for i in nums for f in fruit if f[0] == "P" if i%2 == 1]
[(1, 'Peaches'), (1, 'Pears'), (3, 'Peaches'), (3, 'Pears')]
>>> print [i for i in zip(nums, fruit) if i[0]%2==0]
[(2, 'Peaches'), (4, 'Bananas')]
```

## å‚è€ƒå®ç°

åˆ—è¡¨æ¨å¯¼å¼ä¼šæˆä¸º Python 2.0 ç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œæ–‡æ¡£åœ¨[è¿™é‡Œ](http://docs.python.org/reference/expressions.html#list-displays)ã€‚

## BDFL å£°æ˜

- ä¸Šé¢æè®®çš„è¯­æ³•å°±æ˜¯ the Right Oneã€‚
- ä¸å…è®¸ [xï¼Œy for ...] æ ¼å¼ï¼›éœ€è¦å†™æˆ [(xï¼Œy) for ...]ã€‚
- [... for x ... for y ...] è¿™ç§åµŒå¥—å°±åƒåµŒå¥—çš„ for å¾ªç¯ï¼Œåä¸€ä¸ªç´¢å¼•ä¼šå…ˆæ‰§è¡Œã€‚

## ç›¸å…³é“¾æ¥

æœ¬æ–‡æ¡£å·²è¿›å…¥å…¬å…±é¢†åŸŸã€‚

æºæ–‡æ¡£:[https://github.com/python/peps/blob/master/pep-0202.txt](https://github.com/python/peps/blob/master/pep-0202.txt) 

