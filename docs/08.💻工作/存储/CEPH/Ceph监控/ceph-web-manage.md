---
title: Ceph ç®¡ç†ç³»ç»Ÿå¯¹æ¯”
tags: 
  - Ceph
  - å­˜å‚¨
categories: 
  - ğŸ’» å·¥ä½œ
  - å­˜å‚¨
  - CEPH
  - Ceph ç›‘æ§
date: 2019-10-22 11:12:35
permalink: /pages/1ef74d/
---
{% note danger no-icon %}
## è¿‡æ—¶æç¤º @Deprecated
æ­¤æ–‡å†™äºåˆšå¼€å§‹å¯¹ Ceph è¿˜ä¸äº†è§£çš„æ—¶å€™ï¼Œè°ƒç ”äº†ä¸€å¤§å †æœ€åä¹Ÿæ²¡ç”¨ä¸Šã€‚åæ¥å‘ç°ç¤¾åŒº`Luminous`ç‰ˆæœ¬ä¸“é¡¹å¼€å‘åŸºäº`Ceph-mgr-dashboard`çš„ç®¡ç†ç³»ç»Ÿï¼Œè§[æ­¤å¤„](https://docs.ceph.com/docs/master/mgr/dashboard/)ï¼Œæ•…ä¸å†å¯¹è¯¥æ–¹å‘è¿›è¡Œè·Ÿè¿›ã€ç»´æŠ¤å’Œç»§ç»­æ¢ç´¢ã€‚è¯¥æ–‡ä¸å†æ›´æ–°ã€‚
{% endnote %}

æœ¬æ–‡ä¸»è¦åœ¨[Ceph å¼€æºç®¡ç†ç›‘æ§å¹³å°åˆ†æ](http://www.hl10502.com/2017/03/30/ceph-web-manage/)åŸºç¡€ä¸Šåšä¸€ç‚¹è¡¥å……ã€‚

## ç°çŠ¶
Ceph çš„å¼€æºç®¡ç†ç›‘æ§å¹³å°æœ‰å¦‚ VSMï¼ˆä¸‰å¹´å‰æœ€åæ›´æ–°ï¼Œread-onlyï¼‰ï¼ŒInkScopeï¼ŒCalamariï¼Œ[Suse-enterprise-storage](https://www.suse.com/zh-cn/products/suse-enterprise-storage/)ç­‰ã€‚

## VSM
![VSM](/images/img_20191022164357.jpg)  
[VSM | Virtual Storage Manager](https://github.com/intel/virtual-storage-manager)

### å®˜ç½‘
[virtual-storage-manager](https://01.org/zh/virtual-storage-manager)

### ç»„ä»¶
â–ª Dashboardï¼ˆvsm-dashboardï¼‰ï¼šVSM çš„ webUI ç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡ Dashboard æ¥ç®¡ç†ä¸ç›‘æ§ ceph é›†ç¾¤
â–ª vsmclientï¼ˆpython-vsmclientï¼‰ï¼šVSM restapi è°ƒç”¨çš„ client
â–ª APIï¼ˆvsmï¼‰ï¼šVSM çš„ restapi
â–ª schedulerï¼ˆvsmï¼‰ï¼šVSM çš„è°ƒåº¦ç»„ä»¶
â–ª conductorï¼ˆvsmï¼‰ï¼šVSM çš„æ•°æ®åº“æ“ä½œç»„ä»¶ï¼Œå³æ‰€æœ‰çš„æ•°æ®åº“æ“ä½œéƒ½æ˜¯é€šè¿‡ conductor æ¥è°ƒç”¨ mysql
â–ª RabbitMQï¼šæ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒVSM çš„å„ä¸ªç»„ä»¶ç›¸å¯¹ç‹¬ç«‹ï¼Œéƒ½æ˜¯é€šè¿‡å‘é€æ¶ˆæ¯ï¼Œé€šè¿‡ RPC çš„æ–¹å¼æ¥ç›¸äº’è°ƒç”¨
â–ª agentï¼ˆvsmï¼‰ï¼šVSM ä»£ç†æœåŠ¡

### ä¼˜ç¼ºç‚¹

#### ä¼˜ç‚¹
 1.	ç®¡ç†åŠŸèƒ½å®Œå–„ã€å……è¶³
 2.	ç•Œé¢å‹å¥½
 3.	å¯ä»¥éƒ¨ç½² Ceph å’Œç›‘æ§ Ceph
 4.	ä¸ OpenStack ä¸€è„‰ä¼ æ‰¿ï¼Œè®¾è®¡é£æ ¼ç±»ä¼¼ï¼ˆè¯¦è§æ¶æ„éƒ¨åˆ†è¯´æ˜ï¼‰
 
#### ç¼ºç‚¹
 1.	éå®˜æ–¹ï¼Œç¤¾åŒºç»´æŠ¤ï¼Œä¸”ç›®å‰å·²å¤„äºå½’æ¡£çŠ¶æ€ï¼ˆread-onlyï¼‰
 2.	ä¾èµ– OpenStack æŸäº›åŒ…å’Œç»„ä»¶
 3.	å°è£…ä¸€å¥—è‡ªå·±çš„ rest-apiï¼Œä»£ç å¤æ‚åº¦è¾ƒé«˜
 
### æŠ€æœ¯é€‰å‹
åŸºäº Django å¼€å‘

## inkScope
![inkScope](/images/img_20191022164353.jpg) 
[inkScope](https://github.com/inkscope/inkscope)

### ä»‹ç»
Inscope æ­å»ºçš„ä¸»è¦ç»„ä»¶:

- inkscope-common   
åŒ…å« inkscope çš„é»˜è®¤é…ç½®æ–‡ä»¶ä»¥åŠå…¶ä»–è¿›ç¨‹(cephprobe,sysprobe)å¯åŠ¨æ‰€éœ€çš„ä¾èµ–æ–‡ä»¶ï¼Œæ‰€æœ‰ç›¸å…³èŠ‚ç‚¹éƒ½éœ€è¦å®‰è£…ã€‚
- inkscope-admviz   
åŒ…å« inkscope çš„ web æ§åˆ¶å°æ–‡ä»¶ï¼Œå«æ¥å£å’Œç•Œé¢ï¼Œä»…éœ€è¦å®‰è£…ä¸€ä¸ªï¼Œè¯¥èŠ‚ç‚¹ï¼ˆç®¡ç†èŠ‚ç‚¹ï¼‰ä¸ŠåŒæ—¶éœ€è¦æŒ‰å®‰è£… flask å’Œ mongodb
- inkscope-cephrestapi  
ç”¨äºå®‰è£…å¯åŠ¨ ceph RESTful api çš„è„šæœ¬ï¼Œä»…éœ€è¦å®‰è£…åœ¨æä¾› api æ¥å£çš„èŠ‚ç‚¹ä¸Šï¼Œå³ mon èŠ‚ç‚¹ã€‚
- inkscope-cephprobe    
ç”¨äºå®‰è£…å¯åŠ¨ cephprobe çš„è„šæœ¬(æ•´ä¸ªé›†ç¾¤åªéœ€ä¸€ä¸ª)ï¼Œå®‰è£…åœ¨ mon èŠ‚ç‚¹ï¼Œè„šæœ¬ä¸»è¦å®ç°ï¼šè·å– Ceph é›†ç¾¤çš„ä¸€äº›ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨ç«¯å£ï¼ˆ5000ï¼‰æä¾›æœåŠ¡ï¼Œå°†æ•°æ®å­˜å…¥ mongodb æ•°æ®åº“ä¸­ã€‚
- inkscope-sysprobe         
å®‰è£…ç”¨äºæ‰€æœ‰ mon å’Œ osd çš„ sysprobe æ‰€éœ€è¦è„šæœ¬ï¼Œå³æ‰€æœ‰èŠ‚ç‚¹å‡å®‰è£…ï¼Œå®ç°è·å–èŠ‚ç‚¹è®¾å¤‡èµ„æºä¿¡æ¯å¦‚ï¼šCPUã€å†…å­˜ã€ç£ç›˜ç­‰ç­‰ã€‚

### æ­å»º
[Centos7.2ï¼šæ­å»º Ceph ç®¡ç†ç³»ç»Ÿ Inscope](https://blog.csdn.net/je930502/article/details/50812014)
[Ceph web ç®¡ç†/ç›‘æ§å¹³å° Inkscope éƒ¨ç½²](https://gtcsq.readthedocs.io/en/latest/others/inkscope_install.html)
[å¼€æº Ceph ç®¡ç†å¹³å° Inkscope éƒ¨ç½²æ‰‹å†Œ](http://cloud.51cto.com/art/201507/486005_all.htm)

### æŠ€æœ¯é€‰å‹
PHPï¼ˆï¼Ÿï¼‰ã€Flaskã€MongoDBã€AngularJS 

## Calamari
![Calamari](/images/img_20191022164326.jpg)  
[calamari](https://github.com/ceph/calamari)

### ç»„ä»¶
Calamari åŒ…å«çš„ç»„ä»¶ä¸»è¦æœ‰ calamari-serverã€romanaã€salt-minionã€salt-masterã€diamondã€‚

è¿™äº›æ¨¡å—å„è‡ªçš„ä½œç”¨ï¼š

- calamari-serverÂ   
è¿™ä¸ªæ˜¯æä¾›ä¸€ä¸ªä¸é›†ç¾¤è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”è‡ªå·±å°è£…äº†ä¸€ä¸ªè‡ªå·±çš„ APIï¼Œåšé›†ä¸­ç®¡ç†çš„åœ°æ–¹ï¼Œè¿™ä¸ªåªéœ€è¦åœ¨é›†ç¾¤å½“ä¸­çš„æŸä¸€å°æœºå™¨ä¸Šå®‰è£…

- romanaÂ    
å°±æ˜¯åŸæ¥çš„ calamari-clientï¼Œè™½ç„¶å« client,å…¶å®æ˜¯ä¸€ä¸ª web çš„ç•Œé¢ï¼Œè¿™ä¸ªå« calamari-web æ›´å¥½ï¼Œç°åœ¨å·²ç»æ›´åä¸º romanaï¼Œè¿™ä¸ªåªéœ€è¦åœ¨é›†ç¾¤å½“ä¸­çš„æŸä¸€å°æœºå™¨ä¸Šå®‰è£…ï¼Œéœ€è¦è·Ÿ calamari-server å®‰è£…åœ¨ä¸€å°æœºå™¨ä¸Š

- salt-masterÂ   
æ˜¯ä¸€ä¸ªè¿œç¨‹ç®¡ç†çš„å·¥å…·ï¼Œå¯ä»¥æ‰¹é‡çš„ç®¡ç†å…¶ä»–çš„æœºå™¨ï¼Œå¯ä»¥å¯¹å®‰è£…äº† salt-minion çš„æœºå™¨è¿›è¡Œç®¡ç†ï¼Œåœ¨é›†ç¾¤å½“ä¸­ï¼Œè¿™ä¸ªä¹Ÿæ˜¯è·Ÿ calamari-server å®‰è£…åœ¨ä¸€èµ·çš„

- salt-minionÂ   
æ˜¯å®‰è£…åœ¨é›†ç¾¤çš„æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„ï¼Œè¿™ä¸ªæ˜¯æ¥æ”¶ salt-master çš„æŒ‡ä»¤å¯¹é›†ç¾¤çš„æœºå™¨è¿›è¡Œæ“ä½œï¼Œå¹¶ä¸”åé¦ˆä¸€äº›ä¿¡æ¯åˆ° salt-master ä¸Š

- diamondÂ   
è¿™ä¸ªæ˜¯ç³»ç»Ÿçš„ç›‘æ§ä¿¡æ¯çš„æ”¶é›†æ§ä»¶ï¼Œæä¾›é›†ç¾¤çš„ç¡¬ä»¶ä¿¡æ¯çš„ç›‘æ§å’Œé›†ç¾¤çš„ä¿¡æ¯çš„ç›‘æ§ï¼Œæ•°æ®æ˜¯å‘é€åˆ° romana çš„æœºå™¨ä¸Šçš„ï¼Œæ˜¯ç”± romana ä¸Šçš„ carbon æ¥æ”¶å–æ•°æ®å¹¶å­˜å‚¨åˆ°æœºå™¨å½“ä¸­çš„æ•°æ®åº“å½“ä¸­çš„
- Graphite      
å›¾å½¢æ˜¾ç¤ºå·¥å…·ï¼Œå…¶ä¸­ carbon ç”¨æ¥æ”¶é›†æ•°æ®ï¼Œwhisper æ˜¯é’ˆå¯¹å…¶ä¸“é—¨å¼€å‘çš„æ•°æ®åº“ï¼Œç”¨æ¥æŒä¹…åŒ–æ•°æ®ï¼Œgraphite-web å€ŸåŠ© Djangoã€apache ç­‰æä¾› web æœåŠ¡ï¼Œä»è€Œç”¨æµè§ˆå™¨å¯ä»¥å›¾å½¢åŒ–å±•ç¤ºæ•°æ®ã€‚

Graphite ä¸ä»…æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„ç›‘æ§å·¥å…·, è¿˜å¯ä»¥å®æ—¶ç»˜å›¾ã€‚Graphite åç«¯è¿è¡Œä¸€ä¸ªåä¸º carbon-cache.py çš„ python ç¨‹åºï¼Œæ˜¯é«˜åº¦å¯æ‰©å±•çš„äº‹ä»¶é©±åŠ¨çš„ I/O æ¶æ„çš„åç«¯è¿›ç¨‹ï¼Œè´Ÿè´£å¤„ç†å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸Šçš„ä¸šåŠ¡æ•°æ®ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆåœ°è·Ÿå¤§é‡çš„å®¢æˆ·ç«¯é€šä¿¡å¹¶ä¸”ä»¥è¾ƒä½çš„å¼€é”€å¤„ç†å¤§é‡çš„ä¸šåŠ¡é‡ã€‚é…ç½®æ–‡ä»¶ä½äº/etc/graphite/carbon.confï¼›

Calamari ä½¿ç”¨äº† Saltstack è®© Calamari Server å’Œ Ceph server node é€šä¿¡ã€‚Saltstack æ˜¯ä¸€ä¸ªå¼€æºçš„è‡ªåŠ¨åŒ–è¿ç»´ç®¡ç†å·¥å…·ï¼Œä¸ Chef å’Œ Puppet åŠŸèƒ½ç±»ä¼¼ã€‚Salt-master å‘é€æŒ‡ä»¤ç»™æŒ‡å®šçš„ Salt-minion æ¥å®Œæˆå¯¹ Cpeh Cluster çš„ç®¡ç†å·¥ä½œï¼›Salt-minion åœ¨ Ceph server node å®‰è£…åéƒ½ä¼šä» master åŒæ­¥å¹¶å®‰è£…ä¸€ä¸ª ceph.py æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å« Ceph æ“ä½œçš„ APIï¼Œå®ƒä¼šè°ƒç”¨ librados æˆ–å‘½ä»¤è¡Œæ¥æœ€ç»ˆå’Œ Ceph Cluster é€šä¿¡ï¼›

cthulhu å¯ä»¥ç†è§£æ˜¯ Calamari Server çš„ Service å±‚ï¼Œå¯¹ä¸Šä¸º API æä¾›æ¥å£ï¼Œå¯¹ä¸‹è°ƒç”¨ Salt-masterã€‚ä½†æ˜¯ä»£ç ç¾ä¸­ä¸è¶³çš„æ˜¯ calamari_rest æœ‰äº›åŠŸèƒ½ç›´æ¥è°ƒç”¨äº† Salt-master è€Œæ²¡æœ‰è°ƒç”¨ cthulhuã€‚calamari_rest æä¾› Calamari REST APIï¼Œè¯¦ç»†çš„æ¥å£è¯·å¤§å®¶å‚ç…§å®˜æ–¹æ–‡æ¡£ã€‚Ceph çš„ REST API æ˜¯ä¸€ç§ä½å±‚æ¬¡çš„æ¥å£ï¼Œå…¶ä¸­æ¯ä¸ª URL ç›´æ¥æ˜ å°„åˆ°ç­‰æ•ˆçš„ CEPH CLIï¼›Calamari REST API æä¾›äº†ä¸€ä¸ªæ›´é«˜å±‚æ¬¡çš„æ¥å£ï¼ŒAPI çš„ä½¿ç”¨è€…å¯ä»¥ä¹ æƒ¯çš„ä½¿ç”¨ GET/POST/PATCH æ–¹æ³•æ¥æ“ä½œå¯¹è±¡ï¼Œè€Œæ— éœ€çŸ¥é“åº•å±‚çš„ Ceph çš„å‘½ä»¤ï¼›å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒCeph çš„ REST API çš„ä½¿ç”¨è€…éœ€è¦éå¸¸äº†è§£ Ceph æœ¬èº«ï¼Œè€Œ Calamari çš„ REST API æ›´è´´è¿‘å¯¹ Ceph èµ„æºçš„æè¿°ï¼Œæ‰€ä»¥æ›´åŠ é€‚åˆç»™ä¸Šå±‚çš„åº”ç”¨ç¨‹åºè°ƒç”¨ï¼›   
supervisord æ˜¯ä¸€ä¸ªå…è®¸ç”¨æˆ·ç›‘æ§å’Œæ§åˆ¶è¿›ç¨‹æ•°é‡çš„ç³»ç»Ÿç¨‹åºã€‚å®ƒå¯ä»¥æŒ‡å®šä¸€ä¸ªæœåŠ¡å¦‚ä½•è¿è¡Œï¼› 
romanaï¼ˆcalamari_clientsï¼‰æ˜¯ä¸€ä¸ªæä¾› web UI çš„æ¨¡å—ï¼Œä¸»è¦ä¸ºå®¢æˆ·ç«¯ä½¿ç”¨ Calamari API æä¾›æœåŠ¡ï¼Œç”± salt-minion å’Œ diamond ç»„æˆï¼› 
Diamond è´Ÿè´£æ”¶é›†ç›‘æ§æ•°æ®ï¼Œå®ƒæ”¯æŒéå¸¸å¤šçš„æ•°æ®ç±»å‹å’Œ metricsï¼Œé€šè¿‡æŸ¥çœ‹æºä»£ç ï¼Œå®ƒæ”¯æŒ 90 å¤šç§ç±»å‹çš„æ•°æ®ï¼›æ¯ä¸€ä¸ªç±»å‹çš„æ•°æ®éƒ½æ˜¯ä¸Šå›¾ä¸­çš„ä¸€ä¸ª collectorï¼Œå®ƒé™¤äº†æ”¶é›† Ceph æœ¬èº«çš„çŠ¶æ€ä¿¡æ¯ï¼Œå®ƒè¿˜å¯ä»¥æ”¶é›†å…³é”®çš„èµ„æºä½¿ç”¨æƒ…å†µå’Œæ€§èƒ½æ•°æ®ï¼ŒåŒ…æ‹¬ CPUï¼Œå†…å­˜ï¼Œç½‘ç»œï¼ŒI / O è´Ÿè½½å’Œç£ç›˜æŒ‡æ ‡ï¼Œè€Œä¸”è¿˜èƒ½æ”¶é›†å¾ˆå¤šæµè¡Œè½¯ä»¶çš„æ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ Hadoop, Mongo, Kafka, MySQL, NetApp, RabbitMQ, Redis, and AWS S3 ç­‰ã€‚Collector éƒ½æ˜¯ä½¿ç”¨æœ¬åœ°çš„å‘½ä»¤è¡Œæ¥æ”¶é›†æ•°æ®ï¼Œç„¶åæŠ¥å‘Šç»™ Graphiteã€‚

romana åŒ…æ‹¬ dashboardã€loginã€adminã€manage å››å¤§æ¨¡å—ï¼Œæ„å»º rpm è½¯ä»¶åŒ…æ—¶ï¼Œè¿™äº›æ¨¡å—ç¼ºä¸€ä¸å¯ã€‚

- dashboard æ˜¯ä¸€ä¸ª javascript çš„å®¢æˆ·ç«¯ï¼Œç›´æ¥ä¸ ceph restful api äº¤äº’æ¥ç®¡ç† cephã€‚dashboard åŒ…å« 3 ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸º dashboardã€workbenchã€graphsã€‚
ã€€ã€€1. dashboard æ˜¯ä¸€ä¸ªåªè¯»çš„è§†å›¾ï¼Œè´Ÿè´£å±•ç° ceph é›†ç¾¤çš„å¥åº·çŠ¶æ€
ã€€ã€€2. workbench æ˜¯åå° OSD å’Œ host çš„è™šæ‹Ÿå±•ç°ï¼Œæœ€å¤šé™åˆ¶å±•ç° 256 ä¸ª OSD
ã€€ã€€3. graphs æ˜¯æœ‰è´Ÿè´£å±•ç¤ºå›¾å½¢çš„ graphite å’Œè´Ÿè´£åœ¨æ¯ä¸ªèŠ‚ç‚¹æ”¶é›†æ•°æ®çš„ diamond å…±åŒå±•ç¤ºå„ç§åº¦é‡æ•°æ®çš„è§†å›¾
- login æ¨¡å—ç”¨äºç™»å½• web ç•Œé¢
- admin æ¨¡å—ç”¨æ¥ç®¡ç†ç”¨æˆ·å’Œ calamari ä¿¡æ¯çš„ç®¡ç†å·¥å…·
- manage æ¨¡å—ç”¨äºç®¡ç† ceph é›†ç¾¤ä¸­çš„å„ç§åº”ç”¨ï¼Œå¦‚ OSD ç®¡ç†ã€pool ç®¡ç†ã€é›†ç¾¤è®¾ç½®å’Œé›†ç¾¤æ—¥å¿—å±•ç°ç­‰åŠŸèƒ½

calamari_clients æ˜¯ä¸€å¥—ç”¨æˆ·ç•Œé¢ï¼ŒCalamari Server åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ä¼šé¦–å…ˆåˆ›å»º opt/calamari/webapp ç›®å½•ï¼Œå¹¶ä¸”æŠŠ webapp/calamari ä¸‹çš„ manager.py(django é…ç½®)æ–‡ä»¶è€ƒè¿›å»ï¼Œ calamari_web çš„æ‰€æœ‰å†…å®¹åˆ°è¦æ”¾åˆ° opt/calamari/webapp ä¸‹é¢æ¥æä¾› UI çš„è®¿é—®é¡µé¢ã€‚

calamari-web åŒ…ä¸‹é¢çš„æ–‡ä»¶æä¾›æ‰€æœ‰ web ç›¸å…³çš„é…ç½®ï¼Œcalamari_rest å’Œ calamari_clients éƒ½è¦ç”¨åˆ°ã€‚

### ä¼˜ç¼ºç‚¹

#### ä¼˜ç‚¹
 1. è½»é‡çº§
 2. å®˜æ–¹åŒ–
 3. ç•Œé¢å‹å¥½

#### ç¼ºç‚¹
 1. ä¸æ˜“å®‰è£…
 2. ç®¡ç†åŠŸèƒ½æ»å
 3. æä¾›çš„ç®¡ç†åŠŸèƒ½å¤ªå°‘

Calamari ä¸º Ceph çš„è¿ç»´å’Œç®¡ç†æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„å¹³å°ï¼Œè€Œä¸”ç”¨æˆ·è¿˜å¯ä»¥åŸºäºè¿™ä¸ªå¹³å°æ‰©å±•è‡ªå·±çš„å­˜å‚¨ç®¡ç†äº§å“ï¼Œä½†åŒæ—¶ä¹Ÿå­˜åœ¨ç€ä¸è¶³å’Œéœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚

1. Calamari è¿˜ä¸èƒ½å®Œæˆ Ceph deploy æ‰€å®ç°çš„éƒ¨ç½²åŠŸèƒ½ï¼Œè¿™æ˜¯å®ƒæœ€å¤§ä¸€ä¸ªä¸è¶³ï¼›Fuel å¯ä»¥å®Œæˆéƒ¨ç½²åŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹© Ceph server çš„æ•°æ®ç›˜å’Œæ—¥å¿—ç›˜ä»¥åŠå®šåˆ¶é»˜è®¤çš„å¤‡ä»½æ•°ç­‰ï¼Œæ‰€ä»¥ Calamari + Fuel å¯ä»¥æ¥å®ç°ä¸€ä¸ªå®Œæˆçš„åŸºäº Ceph çš„éƒ¨ç½²å’Œç®¡ç†å·¥å…·ã€‚
2. Calamari æä¾›çš„ç®¡ç†åŠŸèƒ½å¤ªå°‘ï¼Œç”¨æˆ·æ— æ³•åªä½¿ç”¨å®ƒæ¥è¿ç»´ä¸€ä¸ª Ceph ç¯å¢ƒã€‚
3. ç”¨æˆ·å¯ä»¥åŸºäº Calamari å¼€å‘è‡ªå·±çš„ Ceph ç®¡ç†è½¯ä»¶ï¼ŒUI éƒ¨åˆ†å¯ä»¥ä¿®æ”¹ calamari_clients çš„é¡µé¢ï¼Œä¹Ÿå¯ä¹Ÿå•ç‹¬å®ç°ä¸€å¥—è‡ªå·±çš„ UI åŸºäº calamari_rest å’Œ Graphite_webï¼Œåç«¯çš„åŠŸèƒ½çš„ç›‘æ§éƒ¨åˆ†å¯ä»¥æ‰©å±• diamond çš„ collector å®ç°ï¼Œç®¡ç† Ceph çš„åŠŸèƒ½å¯ä»¥æ‰©å±• rest apiï¼Œcthulhuï¼Œsalt ç­‰æ¥å®ç°ã€‚

### æ­å»º
[calamariï¼šåŸºäº web é¡µé¢çš„ ceph ç³»ç»Ÿç›‘æ§ç®¡ç†å·¥å…·å®‰è£…](https://blog.csdn.net/hit1944/article/details/38752717)
[ceph ç›‘æ§ç®¡ç†å¹³å° calamari](https://blog.51cto.com/linuxww/1944963)
[calamari ä»å…¥é—¨åˆ°æ”¾å¼ƒ](https://www.gitbook.com/book/zphj1987/calamaribook)
[ceph | calamari](https://wiki.shileizcc.com/confluence/display/CEPH/Ceph%20Calamari)

### æŠ€æœ¯é€‰å‹
Django

## ceph-dash
![ceph-dash](/images/img_20191022173026.jpg)   
[ceph-dash](https://github.com/Crapworks/ceph-dash)

### æŠ€æœ¯é€‰å‹
Flask

## ceph-DASHBOARD

![ceph-dashboard](/images/snipaste_20191026_172347.jpg)     
ä» Luminous å¼€å§‹ï¼ŒCephÂ æä¾›äº†åŸç”Ÿçš„ Dashboard åŠŸèƒ½ï¼Œé€šè¿‡ Dashboard å¯ä»¥è·å– Ceph é›†ç¾¤çš„å„ç§åŸºæœ¬çŠ¶æ€ä¿¡æ¯ã€‚  
å…·ä½“å‚è€ƒå®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼š[DASHBOARD PLUGIN](https://docs.ceph.com/docs/mimic/mgr/dashboard/#enabling-the-object-gateway-management-frontend)

### æŠ€æœ¯é€‰å‹
CherryPyã€AngularJS  
[Ceph Mimic - å¯ç”¨ Dashboard åŠŸèƒ½](https://blog.csdn.net/YoFog/article/details/85318736)

## æ¨ªå‘å¯¹æ¯”
[ceph-days-sf2015](http://de.slideshare.net/Inktank_Ceph/07-ceph-days-sf2015-paul-evans-static)

### å¯¹æ¯”èƒŒæ™¯
![compare](/images/img_20191022163356.jpg)

### ç®¡ç†
![management](/images/img_20191022164343.jpg)

### ç›‘æ§
![monitor](/images/img_20191022164348.jpg)
   
## ä¸€ç§å£°éŸ³
> ä» ceph ç¤¾åŒº qq ç¾¤çœ‹è¿‡å»ï¼Œæ€»ä¼šæœ‰ä¸€äº›è¿ç»´æˆ–è€…å¼€å‘è¯¢é—®å“ªç§ ceph ç®¡ç†å¹³å°æ–¹ä¾¿å¥½ç”¨ï¼Œç„¶åå°±å¼€å§‹å¯¹æ¯” inkscopeã€vsmã€calamariã€‚å…¶å®è¿™äº›éƒ½ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯çœ‹çœ‹ github ä¸Šçš„è¿™äº›é¡¹ç›®å·²ç» long long ago ä¸æ›´æ–°ä»£ç äº†ï¼Œä¹Ÿå°±æ˜¯è¯´è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸèµ°åˆ°äº†å°½å¤´ï¼Œæ²¡æœ‰æ›´æ–°å’Œæ‰©å±•ã€‚æƒ³æƒ³ç¾¤é‡Œçš„å…„å¼Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸Šç”¨è¿™äº›è½¯ä»¶ï¼Œæœ€åæ˜¯ä»€ä¹ˆç»“æœâ€¦â€¦å†µä¸”å¤§éƒ¨åˆ†å…¬å¸éƒ½æ˜¯ä¸€ä¸¤ä¸ªç å†œåœ¨æ¬ç –ï¼ŒæŠ•å…¥åˆ°å¼€å‘è¿™ä¸‰ä¸ªç›‘æ§å¹³å°ä¸Šä¹Ÿä¸ç°å®ã€‚
>
>å¤§éƒ¨åˆ†ç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯ç”¨ cli å¯¹ ceph è¿›è¡Œç®¡ç†ï¼Œæ‰€ä»¥ç”Ÿäº§ç¯å¢ƒå¯¹ ceph çš„ç®¡ç†éœ€æ±‚ä¸å¤§ã€‚åœ¨ç›‘æ§ä¸Šï¼Œustack ä¹‹å‰çš„æ–‡æ¡£æè¿‡äº†ä¸€å¥—ç›‘æ§æ–¹æ¡ˆã€‚å»ºè®®å…³æ³¨ä¸€ä¸‹[prometheus](https://prometheus.io/)é¡¹ç›®ã€‚å‰å°é›†æˆ grafanaï¼Œè¿ç»´äººå‘˜æ ¹æ®è‡ªå·±å®é™…éœ€æ±‚ï¼ŒDIY ç›‘æ§é¢æ¿ï¼Œé…åˆåç«¯ exporters å¾ˆå°çš„å¼€å‘é‡ï¼Œå®ç°ç›‘æ§ä»»æ„æŒ‡æ ‡ã€‚æŠ¥è­¦æ–¹é¢ prometheus ä¹Ÿæœ‰è‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚è”é‚¦æœºåˆ¶çš„å®ç°å¯ä»¥ä½¿ç›‘æ§å¹³å°æ¨ªå‘æ‰©å±•ã€‚ç›®å‰å¾ˆå¤šå…¬å¸çš„ç”Ÿäº§ç¯å¢ƒéƒ½åœ¨ç”¨æ­¤æ–¹æ¡ˆã€‚è€ƒè™‘åˆ°å¤§è§„æ¨¡è¿è¥ï¼Œåç»­è¿˜éœ€è¦ ELK ç­‰å·¥å…·çš„å¸®åŠ©ã€‚

[å…³äº ceph ç›‘æ§ç®¡ç†å¹³å°çš„ä¸€ç‚¹ä¸ªäººè§‚ç‚¹](https://my.oschina.net/yangfanlinux/blog/783756)

å®Œæ•´æ–‡æ¡£[ç‚¹æ­¤](/doc/Ceph-manager-explore.pdf)    
 
## å‚è€ƒé“¾æ¥ 
[zphj1987](http://www.zphj1987.com/)
[Ceph å¼€æºç®¡ç†ç›‘æ§å¹³å°åˆ†æ](http://www.hl10502.com/2017/03/30/ceph-web-manage/)
[CEPH ç›‘æ§è½¯ä»¶](https://www.cnblogs.com/luxiaodai/p/10043183.html)
[ceph-days-sf2015](http://de.slideshare.net/Inktank_Ceph/07-ceph-days-sf2015-paul-evans-static)