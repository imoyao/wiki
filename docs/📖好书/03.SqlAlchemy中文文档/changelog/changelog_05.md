---
title: changelog_05
date: 2021-02-20 22:41:28
permalink: /pages/77563b/
categories:
  - ğŸ“–å¥½ä¹¦
  - SqlAlchemyä¸­æ–‡æ–‡æ¡£
  - changelog
tags:
  - 
---
0.5 Changelog [Â¶](#changelog "Permalink to this headline")
==========================================================

0.5.9 [Â¶ T0\>](#change-0.5.9 "Permalink to this headline")
----------------------------------------------------------

æ²¡æœ‰å‘å¸ƒæ—¥æœŸ

### SQL [Â¶ T0\>](#change-0.5.9-sql "Permalink to this headline")

-   **[sql]**ä¿®å¤è¡¨è¾¾å¼åŒ…ä¸­çš„é”™è¯¯self\_group()è°ƒç”¨ã€‚[Â¶](#change-2b3dbc23ccb7c7fba44587cc3e64c2b4)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1661](http://www.sqlalchemy.org/trac/ticket/1661)

0.5.8 [Â¶ T0\>](#change-0.5.8 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒæ—¶é—´ï¼š2010å¹´1æœˆ16æ—¥

### SQL [Â¶ T0\>](#change-0.5.8-sql "Permalink to this headline")

-   **[sql]**
    Columnä¸Šçš„copy()æ–¹æ³•ç°åœ¨æ”¯æŒæœªåˆå§‹åŒ–çš„æœªå‘½åçš„Columnå¯¹è±¡ã€‚è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå£°æ˜å¼åŠ©æ‰‹ï¼Œè¿™äº›åŠ©æ‰‹å¯ä»¥åœ¨å¤šä¸ªå­ç±»ä¸­æ”¾ç½®å…¬å…±åˆ—ã€‚[Â¶](#change-cfd691fb4a1a3dc9cc52fbd338afb03e)

-   **[sql]**åƒSequence()è¿™æ ·çš„é»˜è®¤ç”Ÿæˆå™¨å¯ä»¥åœ¨copy()æ“ä½œä¸­æ­£ç¡®è½¬æ¢ã€‚[Â¶](#change-33eee31f1b1df00ed8abad9a8b9bb7d4)

-   **[sql]**Sequence() and other DefaultGenerator objects are accepted
    as the value for the â€œdefaultâ€ and â€œonupdateâ€ keyword arguments of
    Column, in addition to being accepted
    positionally.[Â¶](#change-357782766666ec6efb3f7d938d277a2d)

-   ä¿®å¤äº†ä¸€ä¸ªåˆ—ç®—æœ¯é”™è¯¯ï¼Œå®ƒå½±å“äº†åŒ…å«ç‹¬ç«‹åˆ—è¡¨è¾¾å¼çš„å…‹éš†é€‰æ‹©åˆ—çš„åˆ—å¯¹åº”å…³ç³»ã€‚**[sql]**è¿™ä¸ªbugé€šå¸¸åªåœ¨æ‰§è¡Œ0.6
    viaæ—¶ä½¿ç”¨æ›´æ–°çš„ORMè¡Œä¸ºæ—¶æ‰ä¼šå¼•äººæ³¨æ„ï¼Œä½†åœ¨SQLè¡¨è¾¾å¼çº§åˆ«ä¹Ÿæ›´åŠ æ­£ç¡®ã€‚[Â¶](#change-8bee8818221b5bb1cf4c4108b3aa9610)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1568](http://www.sqlalchemy.org/trac/ticket/1568)ï¼Œ[ï¼ƒ1617](http://www.sqlalchemy.org/trac/ticket/1617)

### çš„PostgreSQL [Â¶ T0\>](#change-0.5.8-postgresql "Permalink to this headline")

-   **[postgresql]**The extract() function, which was slightly improved
    in 0.5.7, needed a lot more work to generate the correct typecast
    (the typecasts appear to be necessary in PGâ€™s EXTRACT quite a lot of
    the time).
    ç°åœ¨ä½¿ç”¨åŸºäºPGçš„æ—¥æœŸ/æ—¶é—´/é—´éš”ç®—æœ¯æ–‡æ¡£çš„è§„åˆ™å­—å…¸ç”Ÿæˆç±»å‹è½¬æ¢ã€‚å®ƒä¹Ÿæ¥å—text()æ„é€ ï¼Œå®ƒåœ¨0.5.7ä¸­è¢«æ‰“ç ´ã€‚[Â¶](#change-dd873689e69524aaf89929bdce508264)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1647](http://www.sqlalchemy.org/trac/ticket/1647)

### ç«é¸Ÿ[Â¶ T0\>](#change-0.5.8-firebird "Permalink to this headline")

-   **[firebird]**å°†æ›´å¤šé”™è¯¯è§†ä¸ºæ–­çº¿ã€‚[Â¶](#change-9083459c05e2b92c9fefe9ca76cd36db)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1646](http://www.sqlalchemy.org/trac/ticket/1646)

0.5.7 [Â¶ T0\>](#change-0.5.7 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒäºï¼š2009å¹´12æœˆ26æ—¥æ˜ŸæœŸå…­

### ORM [Â¶ T0\>](#change-0.5.7-orm "Permalink to this headline")

-   **[orm]**contains\_eager() now works with the automatically
    generated subquery that results when you say
    â€œquery(Parent).join(Parent.somejoinedsubclass)â€, i.e. when Parent
    joins to a joined-table-inheritance subclass.
    ä»¥å‰ï¼Œcontains\_eager()ä¼šé”™è¯¯åœ°å°†å­ç±»è¡¨æ·»åŠ åˆ°æŸ¥è¯¢ä¸­ï¼Œåˆ†åˆ«ç”Ÿæˆç¬›å¡å°”ç§¯ã€‚ä¸€ä¸ªä¾‹å­æ˜¯åœ¨ç¥¨æ®æè¿°ä¸­ã€‚[Â¶](#change-560431e6a014d0ad8ba45deb990b3e40)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1543](http://www.sqlalchemy.org/trac/ticket/1543)

-   **[orm]**query.options() now only propagate to loaded objects for
    potential further sub-loads only for options where such behavior is
    relevant, keeping various unserializable options like those
    generated by contains\_eager() out of individual instance
    states.[Â¶](#change-b39b877f6bf39bfdf655bc9f19edbbe0)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1553](http://www.sqlalchemy.org/trac/ticket/1553)

-   **[orm]**Session.execute() now locates table- and mapper-specific
    binds based on a passed in expression which is an
    insert()/update()/delete()
    construct.[Â¶](#change-af73d67063a48f3d8eb60df156646a1d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1054](http://www.sqlalchemy.org/trac/ticket/1054)

-   **[orm]**å¦‚æœè¦åˆå¹¶çš„ç»™å®šå¯¹è±¡ä¸­çš„å±æ€§ä¹Ÿä¸ºNoneï¼Œåˆ™Session.merge()ç°åœ¨å¯ä»¥æ­£ç¡®è¦†ç›–å¤šå¯¹ä¸€æˆ–uselist
    = Falseå±æ€§ä¸ºNoneã€‚[Â¶\< /
    T2\>](#change-5f51b3a5ed232849fed023e0e50c68c0)

-   **[orm]**ä¿®å¤äº†åˆå¹¶åŒ…å«ç©ºä¸»é”®æ ‡è¯†ç¬¦çš„ä¸´æ—¶å¯¹è±¡æ—¶å‘ç”Ÿçš„ä¸å¿…è¦çš„é€‰æ‹©ã€‚[Â¶](#change-7971259a1cd52e28cfaaca415345964d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1618](http://www.sqlalchemy.org/trac/ticket/1618)

-   **[orm]**ä¼ é€’ç»™relation()ï¼Œcolumn\_property()ç­‰çš„â€œextensionâ€å±æ€§çš„å¯å˜é›†åˆå°†ä¸ä¼šåœ¨å¤šä¸ªå·¥å…·è°ƒç”¨ä¸­å‘ç”Ÿå˜åŒ–æˆ–å…±äº«ï¼Œä»è€Œé˜²æ­¢å°†é‡å¤çš„æ‰©å±•ï¼ˆå¦‚backref
    populatorï¼‰æ’å…¥åˆ°åˆ—è¡¨ä¸­ã€‚[Â¶](#change-4250173297f3d118a49e5b7b3dabe57e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1585](http://www.sqlalchemy.org/trac/ticket/1585)

-   **[orm]**ä¿®å¤äº†å¯¹CompositePropertyä¸Šçš„get\_committed\_value()çš„è°ƒç”¨ã€‚[Â¶](#change-1dc4c6e7d74bb61d6fa728e67a228d6d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1504](http://www.sqlalchemy.org/trac/ticket/1504)

-   **[orm]**Fixed bug where Query would crash if a join() with no clear
    â€œleftâ€ side were called when a non-mapped column entity appeared in
    the columns list.[Â¶](#change-0f42893b8a0ff586bba4d1d1b7a1b642)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1602](http://www.sqlalchemy.org/trac/ticket/1602)

-   **[orm]**Fixed bug whereby composite columns wouldnâ€™t load properly
    when configured on a joined-table subclass, introduced in version
    0.5.6 as a result of the fix for. thx to Scott
    Torborgã€‚[Â¶](#change-83dc5691a5f7015fc10d5cf5d8cc181f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1616](http://www.sqlalchemy.org/trac/ticket/1616)ï¼Œ[ï¼ƒ1480](http://www.sqlalchemy.org/trac/ticket/1480)

-   **[orm]**The â€œuse getâ€ behavior of many-to-one relations, i.e. that
    a lazy load will fallback to the possibly cached query.get() value,
    now works across join conditions where the two compared types are
    not exactly the same class, but share the same â€œaffinityâ€ - i.e.
    Integer and SmallInteger.
    è¿˜å…è®¸åå°„ç±»å‹å’Œéåå°„ç±»å‹çš„ç»„åˆä½¿ç”¨0.5æ ·å¼ç±»å‹çš„åå°„ï¼Œä¾‹å¦‚PGText /
    Textï¼ˆæ³¨æ„0.6åæ˜ ç±»å‹ä½œä¸ºå…¶é€šç”¨ç‰ˆæœ¬ï¼‰ã€‚[Â¶](#change-56b79c2153a808998c71d6d836429bd8)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1556](http://www.sqlalchemy.org/trac/ticket/1556)

-   **[orm]**Fixed bug in query.update() when passing Cls.attribute as
    keys in the value dict and using synchronize\_session=â€™expireâ€™
    (â€˜fetchâ€™ in 0.6).[Â¶](#change-0e7c7e57cbf63637c2c6d7e339b898d2)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1436](http://www.sqlalchemy.org/trac/ticket/1436)

### SQL [Â¶ T0\>](#change-0.5.7-sql "Permalink to this headline")

-   **[sql]**Fixed bug in two-phase transaction whereby commit() method
    didnâ€™t set the full state which allows subsequent close() call to
    succeed.[Â¶](#change-90ddd20ebdf9aa18aa6b46e383828843)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1603](http://www.sqlalchemy.org/trac/ticket/1603)

-   **[sql]**Fixed the â€œnumericâ€ paramstyle, which apparently is the
    default paramstyle used by
    Informixdb.[Â¶](#change-dea36b8a8804bde0500e3de803341e81)

-   **[sql]**Repeat expressions in the columns clause of a select are
    deduped based on the identity of each clause element, not the actual
    string.
    è¿™å…è®¸ä½ç½®å…ƒç´ æ­£ç¡®åœ°å‘ˆç°ï¼Œå³ä½¿å®ƒä»¬å…¨éƒ¨å‘ˆç°ç›¸åŒï¼Œä¾‹å¦‚â€œqmarkâ€æ ·å¼ç»‘å®šå‚æ•°ã€‚[Â¶](#change-1113d645a6af6e994b228afb6af6d0cc)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1574](http://www.sqlalchemy.org/trac/ticket/1574)

-   **[sql]**ä¸è¿æ¥æ± è¿æ¥å…³è”çš„æ¸¸æ ‡ï¼ˆå³\_CursorFairyï¼‰ç°åœ¨æ­£ç¡®åœ°å°†\_\_
    iter
    \_\_()ä»£ç†åˆ°åº•å±‚æ¸¸æ ‡ã€‚[Â¶](#change-282c334839ec8fc95e85b310efe0b0ec)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1632](http://www.sqlalchemy.org/trac/ticket/1632)

-   **[sql]**types now support an â€œaffinity comparisonâ€ operation, i.e.
    that an Integer/SmallInteger are â€œcompatibleâ€, or a Text/String,
    PickleType/Binary, etc.
    éƒ¨åˆ†ã€‚[Â¶](#change-6447c5455b1dc2e4085905562e5a90d7)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1556](http://www.sqlalchemy.org/trac/ticket/1556)

-   **[sql]**Fixed bug preventing alias() of an alias() from being
    cloned or adapted (occurs frequently in ORM
    operations).[Â¶](#change-e3d9eb142cd6308934879b26398c804a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1641](http://www.sqlalchemy.org/trac/ticket/1641)

### çš„PostgreSQL [Â¶ T0\>](#change-0.5.7-postgresql "Permalink to this headline")

-   **[postgresql]**é€šè¿‡æ–°çš„postgres.PGDoublePrecisionå¯¹è±¡æ·»åŠ äº†å¯¹åæ˜ DOUBLE
    PRECISIONç±»å‹çš„æ”¯æŒã€‚è¿™æ˜¯0.6ä¸­çš„postgresql.DOUBLE\_PRECISIONã€‚[Â¶](#change-285f02813a233d1a64010965c7e7d46e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1085](http://www.sqlalchemy.org/trac/ticket/1085)

-   **[postgresql]**æ·»åŠ äº†å¯¹INTERVALç±»å‹çš„INTERVAL YEAR TO
    MONTHå’ŒINTERVAL DAY TO
    SECONDè¯­æ³•çš„æ”¯æŒã€‚[Â¶](#change-9869dc611263b6a47738adeb046e8e92)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ460](http://www.sqlalchemy.org/trac/ticket/460)

-   **[postgresql]**æ›´æ­£äº†â€œhas\_sequenceâ€æŸ¥è¯¢ä»¥è€ƒè™‘å½“å‰æ¨¡å¼æˆ–æ˜¾å¼åºåˆ—æ¨¡å¼ã€‚[Â¶](#change-348276082502e7ee642501b51e87b609)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1576](http://www.sqlalchemy.org/trac/ticket/1576)

-   **[postgresql]**ä¿®æ­£äº†extract()åœ¨åº”ç”¨â€œtimestampâ€è½¬æ¢æ—¶å°†è¿ç®—ç¬¦ä¼˜å…ˆçº§è§„åˆ™åº”ç”¨äºâ€œ::â€è¿ç®—ç¬¦
    - ç¡®ä¿æ­£ç¡®çš„æ‹¬å·ã€‚[Â¶](#change-16cb8f29ef1c6da912d1c738ae74068d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1611](http://www.sqlalchemy.org/trac/ticket/1611)

### æºç [Â¶ T0\>](#change-0.5.7-sqlite "Permalink to this headline")

-   **[sqlite]** sqliteæ–¹è¨€æ­£ç¡®åœ°ä¸ºå¤„äºå¤‡ç”¨æ¨¡å¼ä¸­çš„è¡¨ç”ŸæˆCREATE
    INDEXã€‚[Â¶](#change-38abbb1aa83741482b4943a46d20a835)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1439](http://www.sqlalchemy.org/trac/ticket/1439)

### MSSQL [Â¶ T0\>](#change-0.5.7-mssql "Permalink to this headline")

-   **[mssql]**åœ¨æ„å»ºpyodbcè¿æ¥å‚æ•°æ—¶å°†TrustedConnectionçš„åç§°æ›´æ”¹ä¸ºTrusted\_Connection
    [Â¶](#change-b91807fd16a6879d886a98e03172a36b)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1561](http://www.sqlalchemy.org/trac/ticket/1561)

### é¢„è¨€[Â¶ T0\>](#change-0.5.7-oracle "Permalink to this headline")

-   **[oracle]**The â€œtable\_namesâ€ dialect function, used by MetaData
    .reflect(), omits â€œindex overflow tablesâ€, a system table generated
    by Oracle when â€œindex only tablesâ€ with overflow are used.
    è¿™äº›è¡¨ä¸èƒ½é€šè¿‡SQLè®¿é—®ï¼Œä¸èƒ½åæ˜ ã€‚[Â¶](#change-8da4a36b631015a25392cbcab3c7ad04)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1637](http://www.sqlalchemy.org/trac/ticket/1637)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.7-misc "Permalink to this headline")

-   **[ext]**åœ¨æ„é€ ç±»ä¹‹åï¼ˆå³é€šè¿‡ç±»çº§å±æ€§åˆ†é…ï¼‰ï¼Œå¯ä»¥å°†åˆ—æ·»åŠ åˆ°è”åˆè¡¨å£°æ˜å¼è¶…ç±»ä¸­ï¼Œå¹¶ä¸”è¯¥åˆ—å°†å‘ä¸‹ä¼ æ’­åˆ°å­ç±»ã€‚è¿™æ˜¯ç›¸åçš„æƒ…å†µï¼Œå›ºå®šåœ¨0.5.6.
    [Â¶](#change-ed2a389aec169db8a34e5c988818084f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1570](http://www.sqlalchemy.org/trac/ticket/1570)ï¼Œ[ï¼ƒ1523](http://www.sqlalchemy.org/trac/ticket/1523)

-   **[ext]**ä¿®æ­£äº†åˆ†ç‰‡ç¤ºä¾‹ä¸­çš„è½»å¾®ä¸å‡†ç¡®æ€§ã€‚æ¯”è¾ƒORMä¸­åˆ—çš„ç­‰ä»·æ€§æœ€å¥½ä½¿ç”¨col1.shares\_lineageï¼ˆcol2ï¼‰ã€‚[Â¶](#change-e611ebfe687b0c2ef99c6348a9a40b35)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1491](http://www.sqlalchemy.org/trac/ticket/1491)

-   **[ext]**ä»ShardedQueryä¸­ç§»é™¤æœªä½¿ç”¨çš„load()æ–¹æ³•ã€‚[Â¶](#change-c23faacc23d4d5d4fcf2fbc5a6a00340)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1606](http://www.sqlalchemy.org/trac/ticket/1606)

0.5.6 [Â¶ T0\>](#change-0.5.6 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒäºï¼š2009å¹´9æœˆ12æ—¥

### ORM [Â¶ T0\>](#change-0.5.6-orm "Permalink to this headline")

-   **[orm]**ä¿®æ­£å¤åˆä¸»é”®çš„ç»§æ‰¿é‰´åˆ«å™¨éƒ¨åˆ†åœ¨æ›´æ–°æ—¶å¤±è´¥çš„é—®é¢˜ã€‚ç»§ç»­ã€‚[Â¶](#change-e377a6ac781cb62d4d6abf3473c81a24)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1300](http://www.sqlalchemy.org/trac/ticket/1300)

-   **[orm]**ä¿®æ­£äº†ä¸€ä¸ªä¸å…è®¸å¤šå¯¹å¤šåŒå‘å¼•ç”¨çš„ä¸€è¾¹å£°æ˜è‡ªå·±ä¸ºâ€œviewonlyâ€çš„bug
    [Â¶](#change-21bec2bccd75a800dce74b993437f025)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1507](http://www.sqlalchemy.org/trac/ticket/1507)

-   **[orm]**æ·»åŠ äº†ä¸€ä¸ªæ–­è¨€ï¼Œç”¨äºé˜»æ­¢@validateså‡½æ•°æˆ–å…¶ä»–AttributeExtensionåŠ è½½æœªåŠ è½½çš„é›†åˆï¼Œä½¿å†…éƒ¨çŠ¶æ€å¯èƒ½æŸåã€‚[Â¶](#change-413bce465d70e4b30ba74d205de21bbc)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1526](http://www.sqlalchemy.org/trac/ticket/1526)

-   **[orm]**Fixed bug which prevented two entities from mutually
    replacing each otherâ€™s primary key values within a single flush()
    for some orderings of
    operations.[Â¶](#change-939ca7047297631279649cb4be7ffa8a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1519](http://www.sqlalchemy.org/trac/ticket/1519)

-   **[orm]**Fixed an obscure issue whereby a joined-table subclass with
    a self-referential eager load on the base class would populate the
    related objectâ€™s â€œsubclassâ€ table with data from the â€œsubclassâ€
    table of the parent.[Â¶](#change-9e614f68926a2f9caf784974ef2ab8d6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1485](http://www.sqlalchemy.org/trac/ticket/1485)

-   **[orm]**relations() now have greater ability to be â€œoverriddenâ€,
    meaning a subclass that explicitly specifies a relation() overriding
    that of the parent class will be honored during a flush.
    ç›®å‰è¿™æ˜¯ä¸ºäº†æ”¯æŒæ¥è‡ªå…·ä½“ç»§æ‰¿è®¾ç½®çš„å¤šå¯¹å¤šå…³ç³»ã€‚åœ¨è¿™ä¸ªç”¨ä¾‹ä¹‹å¤–ï¼ŒYMMVã€‚[Â¶](#change-36501830fd25288209b9374d875ddde6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1477](http://www.sqlalchemy.org/trac/ticket/1477)

-   **[orm]**ä»å…³ç³»()ä¸­æŒ¤å‡ºæ›´å¤šä¸å¿…è¦çš„â€œå»¶è¿ŸåŠ è½½â€ã€‚å½“ä¸€ä¸ªé›†åˆå‘ç”Ÿå˜åŒ–æ—¶ï¼Œé™¤éè®¾ç½®äº†â€œsingle\_parent
    =
    Trueâ€ï¼Œå¦åˆ™å¦ä¸€ç«¯çš„å¤šå¯¹ä¸€åé€€å°†ä¸ä¼šè§¦å‘åŠ è½½â€œæ—§â€å€¼ã€‚å¤šå¯¹ä¸€çš„ç›´æ¥åˆ†é…ä»ä¼šåŠ è½½â€œæ—§â€å€¼ï¼Œä»¥ä¾¿æ›´æ–°è¯¥å€¼ä¸Šçš„backrefé›†åˆï¼Œè¯¥é›†åˆå¯èƒ½å·²å­˜åœ¨äºä¼šè¯ä¸­ï¼Œä»è€Œç»´æŠ¤0.5è¡Œä¸ºå¥‘çº¦ã€‚[Â¶
    t0 \>](#change-271faabb70c445bb48c86563489eabe9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1483](http://www.sqlalchemy.org/trac/ticket/1483)

-   **[orm]**Fixed bug whereby a load/refresh of joined table
    inheritance attributes which were based on column\_property() or
    similar would fail to
    evaluate.[Â¶](#change-b11ab392a8221aaae324a0b843f92436)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1480](http://www.sqlalchemy.org/trac/ticket/1480)

-   **[orm]**æ”¹è¿›äº†å¯¹MapperPropertyå¯¹è±¡çš„æ”¯æŒï¼Œè¦†ç›–äº†éå…·ä½“ç»§æ‰¿è®¾ç½®çš„ç»§æ‰¿æ˜ å°„å™¨
    -
    å±æ€§æ‰©å±•ä¸ä¼šéšæœºç›¸äº’ç¢°æ’ã€‚[Â¶](#change-0a60b4eab11c772d6c8d654d52bf3c4b)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1488](http://www.sqlalchemy.org/trac/ticket/1488)

-   **[orm]** UPDATEå’ŒDELETEä¸æ”¯æŒORDER
    BYï¼ŒLIMITï¼ŒOFFSETç­‰ã€‚åœ¨æ ‡å‡†çš„SQLä¸­ã€‚å¦‚æœè°ƒç”¨äº†limit()ï¼Œoffset()ï¼Œorder\_by()ï¼Œgroup\_by()æˆ–distinct()ï¼Œåˆ™Query.update()å’ŒQuery.delete()ç°åœ¨ä¼šå¼•å‘å¼‚å¸¸ã€‚[Â¶](#change-0d4f1ab1ab6b39d352893b946e2af9d9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1487](http://www.sqlalchemy.org/trac/ticket/1487)

-   **[orm]**å°†AttributeExtensionæ·»åŠ åˆ°sqlalchemy.orm .\_\_ all \_\_
    [Â¶](#change-cd80ef9fe6dc09fc2205346b05be66a4)

-   **[orm]**Improved error message when query() is called with a
    non-SQL /entity
    expression.[Â¶](#change-ec7f05f44d5c54351798f563518bf6e5)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1476](http://www.sqlalchemy.org/trac/ticket/1476)

-   **[orm]**ä½¿ç”¨Falseæˆ–0ä½œä¸ºå¤šæ€é‰´åˆ«ç¬¦ï¼Œç°åœ¨å¯ä»¥åœ¨åŸºç±»å’Œå­ç±»ä¸Šä½¿ç”¨[Â¶](#change-622cc5e00f4af851cab2ca4cdbe9816a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1440](http://www.sqlalchemy.org/trac/ticket/1440)

-   **[orm]**æ·»åŠ äº†enable\_assertionsï¼ˆFalseï¼‰ä»¥æŸ¥è¯¢å“ªäº›åŠŸèƒ½ä¼šç¦ç”¨é¢„æœŸçŠ¶æ€çš„å¸¸ç”¨æ–­è¨€
    - æŸ¥è¯¢å­ç±»ç”¨äºè®¾è®¡è‡ªå®šä¹‰çŠ¶æ€ã€‚è¯·å‚é˜…[http://www.sqlalchemy.org/ trac
    / wiki / UsageRecipes /
    PreFilteredQuery](http://www.sqlalchemy.org/trac/wiki/UsageRecipes/PreFilteredQuery)ä¸ºä¾‹ã€‚[Â¶](#change-86add61f8d0b31f3db1dafe61599f9fd)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1424](http://www.sqlalchemy.org/trac/ticket/1424)

-   **[orm]**Fixed recursion issue which occurred if a mapped objectâ€™s
    \_\_len\_\_() or \_\_nonzero\_\_() method resulted in state
    changes.[Â¶](#change-bd03cdda4f3805582c68e5d89d128cee)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1501](http://www.sqlalchemy.org/trac/ticket/1501)

-   **[orm]**Fixed incorrect exception raise in
    Weak/StrongIdentityMap.add()[Â¶](#change-492e04471392666b62e00c94cf43b82e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1506](http://www.sqlalchemy.org/trac/ticket/1506)

-   **[orm]**Fixed the error message for â€œcould not find a FROM clauseâ€
    in query.join() which would fail to issue correctly if the query was
    against a pure SQL
    construct.[Â¶](#change-79f7955b6626dd510154f8e555b4f143)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1522](http://www.sqlalchemy.org/trac/ticket/1522)

-   **[orm]**ä¿®å¤äº†ä¸€ä¸ªæœ‰ç‚¹å‡è®¾çš„é—®é¢˜ï¼Œå®ƒä¼šå¯¼è‡´ä½¿ç”¨æ—§çš„polymorphic\_unionå‡½æ•°è®¡ç®—æ˜ å°„å™¨çš„é”™è¯¯ä¸»é”®
    - ä½†è¿™æ˜¯æ—§ä¸œè¥¿ã€‚[Â¶](#change-06567c7b80f2bf5f775fcdac8f4fb117)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1486](http://www.sqlalchemy.org/trac/ticket/1486)

### SQL [Â¶ T0\>](#change-0.5.6-sql "Permalink to this headline")

-   **[sql]**ä¿®å¤äº†column.copy()æ¥å¤åˆ¶é»˜è®¤å€¼å’Œonupdatesã€‚[Â¶](#change-3a5e144720affd0b71e0cea44d85fa80)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1373](http://www.sqlalchemy.org/trac/ticket/1373)

-   **[sql]**Fixed a bug in extract() introduced in 0.5.4 whereby the
    string â€œfieldâ€ argument was getting treated as a ClauseElement,
    causing various errors within more complex SQL
    transformations.[Â¶](#change-99749b627af38a3ab394a246b4f50b4e)

-   **[sql]**ä¸€å…ƒè¡¨è¾¾å¼ï¼ˆå¦‚DISTINCTï¼‰å°†å…¶ç±»å‹å¤„ç†ä¼ æ’­åˆ°ç»“æœé›†ï¼Œä»è€Œå…è®¸åƒunicodeä¹‹ç±»çš„è½¬æ¢å‘ç”Ÿã€‚[Â¶](#change-a2da94cbd3d65ae38ac60a995fca7496)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1420](http://www.sqlalchemy.org/trac/ticket/1420)

-   **[sql]**ä¿®æ­£äº†Tableå’ŒColumnä¸­çš„é”™è¯¯ï¼Œä¼ é€’â€œinfoâ€å‚æ•°çš„ç©ºå­—å…¸ä¼šå¼•å‘å¼‚å¸¸ã€‚[Â¶](#change-42423bddc5c58508e18ba4802e3cfd52)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1482](http://www.sqlalchemy.org/trac/ticket/1482)

### é¢„è¨€[Â¶ T0\>](#change-0.5.6-oracle "Permalink to this headline")

-   **[oracle]**é’ˆå¯¹Oracleåˆ«åçš„Backported
    0.6ä¿®å¤ä¸ä¼šè¢«æˆªæ–­[Â¶](#change-2cbd246043e6f11db78ec4d9bcf2b6cd)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1309](http://www.sqlalchemy.org/trac/ticket/1309)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.6-misc "Permalink to this headline")

-   **[ext]**ç”±associationproxyç”Ÿæˆçš„é›†åˆä»£ç†ç°åœ¨å¯ä»¥è¢«pickleableã€‚ä½†æ˜¯ï¼Œç”¨æˆ·å®šä¹‰çš„proxy\_factoryé™¤éå®šä¹‰\_\_getstate\_\_å’Œ\_\_setstate
    \_\_ï¼Œå¦åˆ™ä»ç„¶ä¸å¯é€‰ã€‚[Â¶](#change-4093be8cbdab495564f9ccc28298b34f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1446](http://www.sqlalchemy.org/trac/ticket/1446)

-   **[ext]**Declarative will raise an informative exception if
    \_\_table\_args\_\_ is passed as a tuple with no dict argument.
    æ”¹è¿›çš„æ–‡æ¡£ã€‚[Â¶](#change-fda92ddefb6831ca7c8303d4489d964a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1468](http://www.sqlalchemy.org/trac/ticket/1468)

-   **[ext]**Table objects declared in the MetaData can now be used in
    string expressions sent to primaryjoin/secondaryjoin/ secondary -
    the name is pulled from the MetaData of the declarative
    base.[Â¶](#change-8fc95671d45876214d8e04f575f2981b)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1527](http://www.sqlalchemy.org/trac/ticket/1527)

-   **[ext]**åœ¨æ„é€ ç±»ä¹‹åï¼ˆå³ï¼Œé€šè¿‡ç±»çº§å±æ€§åˆ†é…ï¼‰ï¼Œå¯ä»¥å°†åˆ—æ·»åŠ åˆ°è”æ¥è¡¨å­ç±»ä¸­ã€‚è¯¥åˆ—ä¸€ç›´è¢«æ·»åŠ åˆ°åº•å±‚è¡¨ï¼Œä½†ç°åœ¨æ˜ å°„å™¨å°†é‡æ–°æ„å»ºå®ƒçš„â€œè¿æ¥â€ä»¥åŒ…å«æ–°åˆ—ï¼Œè€Œä¸æ˜¯å¼•å‘â€œæ²¡æœ‰è¿™æ ·çš„åˆ—â€çš„é”™è¯¯ï¼Œè€Œæ˜¯ä½¿ç”¨column\_property()ä»£æ›¿â€œã€‚[Â¶\<
    / T0\>](#change-d11b075fc91fd14dae4a242abd35198a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1523](http://www.sqlalchemy.org/trac/ticket/1523)

-   **[test]**åœ¨æµ‹è¯•å¥—ä»¶ä¸­å¢åŠ äº†ä¸€äº›ç¤ºä¾‹ï¼Œä»¥ä¾¿å®ƒä»¬å®šæœŸé”»ç‚¼å¹¶æ¸…é™¤ä¸€äº›åå¯¹å¼ƒç”¨è­¦å‘Šã€‚[Â¶](#change-94585ae176a1f269e4d1db5e4819e921)

0.5.5 [Â¶ T0\>](#change-0.5.5 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒäºï¼š2009å¹´7æœˆ13æ—¥

### ä¸€èˆ¬[Â¶ T0\>](#change-0.5.5-general "Permalink to this headline")

-   **[general]**å•å…ƒæµ‹è¯•å·²ä»unittestè¿ç§»åˆ°noseã€‚æœ‰å…³å¦‚ä½•è¿è¡Œæµ‹è¯•çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…README.unittestsã€‚[Â¶](#change-b291919579ac2922c1861f30d9c48534)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ970](http://www.sqlalchemy.org/trac/ticket/970)

### ORM [Â¶ T0\>](#change-0.5.5-orm "Permalink to this headline")

-   **[orm]**
    relation()çš„â€œforeign\_keysâ€å‚æ•°ç°åœ¨å°†ä»¥ä¸primaryjoinå’Œsecondaryjoinç›¸åŒçš„æ–¹å¼è‡ªåŠ¨ä¼ æ’­åˆ°backrefã€‚For
    the extremely rare use case where the backref of a relation() has
    intentionally different â€œforeign\_keysâ€ configured, both sides now
    need to be configured explicitly (if they do in fact require this
    setting, see the next
    note...).[Â¶](#change-4e7cee15f685dfecf68097230f6e27be)

-   **[orm]**
    ...å”¯ä¸€å·²çŸ¥çš„ï¼ˆå®é™…ä¸Šéâ€‹â€‹å¸¸ç½•è§çš„ï¼‰ç”¨ä¾‹ï¼Œå…¶ä¸­åœ¨å‘å‰/å‘åä¾§ä½¿ç”¨ä¸åŒçš„foreign\_keysè®¾ç½®ï¼Œéƒ¨åˆ†æŒ‡å‘å…¶è‡ªå·±çš„åˆ—çš„ç»„åˆå¤–é”®ï¼Œå·²è¢«å¢å¼ºï¼Œä½¿å¾—å…³ç³»çš„fk-\>è‡ªèº«æ–¹é¢ä¸ä¼šç”¨äºç¡®å®šå…³ç³»æ–¹å‘ã€‚[Â¶](#change-24fc47177d47aae7dc806a78788115f0)

-   **[orm]** Session.mapperç°åœ¨*å·²å¼ƒç”¨*ã€‚

    å¦‚æœä½ æƒ³è®©ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡æˆä¸ºä¼šè¯çš„ä¸€éƒ¨åˆ†ï¼Œè¯·è°ƒç”¨session.add()ã€‚å¦åˆ™ï¼Œç°åœ¨åœ¨[http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper](http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper)ä¸­è®°å½•äº†ä¸€ä¸ªDIYç‰ˆæœ¬çš„Session.mapperã€‚è¯¥æ–¹æ³•å°†åœ¨æ•´ä¸ª0.6ç‰ˆæœ¬ä¸­ä¿æŒä¸æ¨èä½¿ç”¨ã€‚

    [Â¶](#change-5ec7b4a36de5fda6af191af1682064eb)

-   **[orm]**Fixed Query being able to join() from individual columns of
    a joined-table subclass entity, i.e. query(SubClass.foo,
    SubcClass.bar).join().
    åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¼šå‡ºç°é”™è¯¯â€œæ— æ³•æ‰¾åˆ°è¦ä»ä¸­åŠ å…¥çš„FROMå­å¥â€ã€‚åœ¨å…¶ä»–ä¸€äº›æƒ…å†µä¸‹ï¼Œç»“æœå°†ä»¥åŸºç±»è€Œä¸æ˜¯å­ç±»çš„å½¢å¼è¿”å›
    -
    å› æ­¤éœ€è¦è°ƒæ•´ä¾èµ–æ­¤é”™è¯¯ç»“æœçš„åº”ç”¨ç¨‹åºã€‚[Â¶](#change-17862f643537dcbc4df0471a4553a0bd)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1431](http://www.sqlalchemy.org/trac/ticket/1431)

-   **[orm]**Fixed a bug involving contains\_eager(), which would apply
    itself to a secondary (i.e. lazy) load in a particular rare case,
    producing cartesian products.
    æ”¹è¿›äº†å¯¹äºŒçº§è´Ÿè½½query.options()çš„æ•´ä½“å®šä½ã€‚[Â¶](#change-45cab12e273914c4095fe6753eb613b7)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1461](http://www.sqlalchemy.org/trac/ticket/1461)

-   **[orm]**ä¿®æ­£äº†åœ¨0.5.4ä¸­å¼•å…¥çš„ç¼ºé™·ï¼Œå› æ­¤å½“æ¸…é™¤é»˜è®¤æŒæœ‰çš„åˆ—æ—¶å¤åˆç±»å‹å¤±è´¥ã€‚[Â¶](#change-103ff88cc328345956bf43128d6228a2)

-   **[orm]**ä¿®æ­£äº†å¦ä¸€ä¸ª0.5.4çš„bugï¼Œå³å½“æ•´ä¸ªå¯¹è±¡è¢«åºåˆ—åŒ–æ—¶ï¼Œå¯å˜å±æ€§ï¼ˆå³PickleTypeï¼‰ä¸ä¼šè¢«æ­£ç¡®åœ°ååºåˆ—åŒ–ã€‚[Â¶](#change-a4bd6f267de2ee8961aca6a80454335c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1426](http://www.sqlalchemy.org/trac/ticket/1426)

-   **[orm]**Fixed bug whereby session.is\_modified() would raise an
    exception if any synonyms were in
    use.[Â¶](#change-9786df0adacfa866cdc2f8a7e8ef1ba4)

-   **[orm]**ä¿®å¤äº†æ½œåœ¨çš„å†…å­˜æ³„æ¼ï¼Œå› ä¸ºå…ˆå‰è¢«å‰”é™¤çš„å¯¹è±¡æ”¾å›åˆ°ä¼šè¯ä¸­å°†ä¸ä¼šè¢«å®Œå…¨åƒåœ¾æ”¶é›†ï¼Œé™¤éSessionè¢«æ˜ç¡®å…³é—­ã€‚[Â¶](#change-41602c4224b47194b140b47ade7dc16f)

-   **[orm]**ä¿®æ­£äº†åŸºäºåˆ—è¡¨çš„å±æ€§ï¼Œå¦‚pickletypeå’ŒPGArrayï¼Œæ— æ³•åˆå¹¶()çš„é”™è¯¯ã€‚[Â¶](#change-c44cbe8c9a172ffd50841eca0f7e0e4b)

-   **[orm]**ä¿®å¤äº†éå·¥ä½œå±æ€§.set\_committed\_valueå‡½æ•°ã€‚[Â¶](#change-fddc914c8b585115272b6107670f7d9a)

-   **[orm]**ä¿®å‰ªInstanceStateçš„pickleæ ¼å¼ï¼Œè¿™ä¼šè¿›ä¸€æ­¥å‡å°‘pickledå®ä¾‹çš„å†…å­˜å ç”¨ã€‚æ ¼å¼åº”è¯¥ä¸0.5.4å’Œä¹‹å‰çš„æ ¼å¼å‘åå…¼å®¹ã€‚[Â¶](#change-38276e4fa1687abecb695e85c17bf6c0)

-   **[orm]**sqlalchemy.orm.join and sqlalchemy.orm.outerjoin are now
    added to \_\_all\_\_ in sqlalchemy.orm. \* [Â¶
    T0\>](#change-938ee7f755114d272d61da8161799836)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1463](http://www.sqlalchemy.org/trac/ticket/1463)

-   **[orm]**Fixed bug where Query exception raise would fail when a
    too-short composite primary key value were passed to
    get().[Â¶](#change-e4350e9ef86688cbc129c52b3135c7af)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1458](http://www.sqlalchemy.org/trac/ticket/1458)

### SQL [Â¶ T0\>](#change-0.5.5-sql "Permalink to this headline")

-   **[sql]**Removed an obscure feature of execute() (including
    connection, engine, Session) whereby a bindparam() construct can be
    sent as a key to the params dictionary.
    è¿™ä¸ªç”¨æ³•æ˜¯æ²¡æœ‰è®°å½•çš„ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªé—®é¢˜çš„æ ¸å¿ƒï¼Œç”±text()æ„é€ éšå¼åˆ›å»ºçš„bindparam()å¯¹è±¡å¯èƒ½ä¸æ”¾ç½®åœ¨paramså­—å…¸ä¸­çš„å­—ç¬¦ä¸²å…·æœ‰ç›¸åŒçš„æ•£åˆ—å€¼ï¼Œå¹¶ä¸”åœ¨è®¡ç®—æ—¶å¯èƒ½ä¼šå¯¼è‡´ä¸é€‚å½“çš„åŒ¹é…æœ€ç»ˆç»‘å®šå‚æ•°ã€‚å¯¹è¿™ç§æƒ…å†µçš„å†…éƒ¨æ£€æŸ¥ä¼šå¢åŠ å‚æ•°å‘ˆç°çš„å…³é”®ä»»åŠ¡çš„æ˜¾ç€å»¶è¿Ÿï¼Œå› æ­¤è¡Œä¸ºå°†è¢«åˆ é™¤ã€‚å¯¹äºä»»ä½•å¯èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå‘åä¸å…¼å®¹çš„å˜åŒ–ï¼Œä½†æ˜¯è¯¥åŠŸèƒ½ä»æœªè¢«è®°å½•è¿‡ã€‚[Â¶](#change-b94ba806169e988459d7239aad691687)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.5-misc "Permalink to this headline")

-   **[engine/pool]**ä¸ºStaticPoolå®ç°äº†recreate()ã€‚[Â¶](#change-8d79519ee7c9700dfa29d6abe4cdc84f)

0.5.4p2 [Â¶ T0\>](#change-0.5.4p2 "Permalink to this headline")
--------------------------------------------------------------

å‘å¸ƒæ—¶é—´ï¼š2009å¹´5æœˆ26æ—¥

### SQL [Â¶ T0\>](#change-0.5.4p2-sql "Permalink to this headline")

-   **[sql]**ä¿®å¤äº†ä¸åŸºäºå‚æ•°æˆ–ä¸æ˜¯executemany()é£æ ¼çš„SQLå¼‚å¸¸æ‰“å°ã€‚[Â¶](#change-62b7b5ea2627c1a58405b73e6485a68a)

### çš„PostgreSQL [Â¶ T0\>](#change-0.5.4p2-postgresql "Permalink to this headline")

-   **[postgresql]**å¼ƒç”¨ç¡¬ç¼–ç çš„TIMESTAMPå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨ç”¨ä½œfunc.TIMESTAMPï¼ˆvalueï¼‰æ—¶ä¼šå‘ˆç°â€œTIMESTAMPå€¼â€ã€‚ç”±äºPostgreSQLä¸å…è®¸åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ç»‘å®šå‚æ•°ï¼Œå› æ­¤åœ¨æŸäº›å¹³å°ä¸Šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ç¡¬ç¼–ç çš„å¤§å†™å­—æ¯ä¹Ÿæ˜¯ä¸åˆé€‚çš„ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„PGéœ€è¦æˆ‘ä»¬æ”¯æŒã€‚ç›¸åï¼Œä½¿ç”¨æ–‡æœ¬ç»“æ„å³selectï¼ˆ[â€œtimestamp
    '12 / 05/09'â€]ï¼‰ã€‚[Â¶](#change-bb7bb4c34e0e00220dd3155755cebe15)

0.5.4p1 [Â¶ T0\>](#change-0.5.4p1 "Permalink to this headline")
--------------------------------------------------------------

å‘å¸ƒæ—¥æœŸï¼š2009å¹´5æœˆ18æ—¥

### ORM [Â¶ T0\>](#change-0.5.4p1-orm "Permalink to this headline")

-   **[orm]**ä¿®æ­£äº†0.5.4ä¸­å¼•å…¥çš„ä¸€ä¸ªå±æ€§é”™è¯¯ï¼Œå½“merge()ä¸ä¸€ä¸ªä¸å®Œæ•´çš„å¯¹è±¡ä¸€èµ·ä½¿ç”¨æ—¶ä¼šå‘ç”Ÿã€‚[Â¶](#change-fe8595c476f4a3e16ce1856812832d7c)

0.5.4 [Â¶ T0\>](#change-0.5.4 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒäºï¼š2009å¹´5æœˆ17æ—¥

### ORM [Â¶ T0\>](#change-0.5.4-orm "Permalink to this headline")

-   **[orm]**Significant performance enhancements regarding
    Sessions/flush() in conjunction with large mapper graphs, large
    numbers of objects:

    -   ä»flush()è¿›ç¨‹ä¸­åˆ é™¤äº†æ‰€æœ‰\*
        Oï¼ˆNï¼‰æ‰«æè¡Œä¸ºï¼Œå³æ‰«ææ•´ä¸ªä¼šè¯çš„æ“ä½œï¼ŒåŒ…æ‹¬éå¸¸æ˜‚è´µçš„ï¼Œé”™è¯¯åœ°å‡å®šä¸»é”®å€¼åœ¨éæƒ…å†µä¸‹æ­£åœ¨æ”¹å˜çš„æ“ä½œã€‚
        -   å¦‚æœç°æœ‰ä¸»é”®å±æ€§è¢«ä¿®æ”¹ä¸ºæ–°å€¼ï¼Œåˆ™å¯èƒ½ä¼šè°ƒç”¨å…¨æ‰«æçš„ä¸€ä¸ªè¾¹ç¼˜æ¡ˆä¾‹ã€‚
    -   The Sessionâ€™s â€œweak referencingâ€ behavior is now *full* - no
        strong references whatsoever are made to a mapped object or
        related items/collections in its \_\_dict\_\_.
        å¯¹è±¡ä¸­çš„åé€€å¤„ç†å’Œå…¶ä»–å¾ªç¯ä¸å†å½±å“ä¼šè¯ä¸¢å¤±å¯¹æœªä¿®æ”¹å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨çš„èƒ½åŠ›ã€‚å…·æœ‰æŒ‚èµ·æ›´æ”¹çš„å¯¹è±¡ä»ç„¶å¼ºçƒˆç»´æŠ¤ï¼Œç›´åˆ°åˆ·æ–°ã€‚

        é€šè¿‡å°†åƒåœ¾æ”¶é›†é¡¹ç›®çš„â€œå¤æ´»â€è¿‡ç¨‹ç§»åŠ¨åˆ°ä»…ä¸æ˜ å°„â€œå¯å˜â€å±æ€§ï¼ˆå³PickleTypeï¼Œå¤åˆå…³è”ï¼‰çš„æ˜ å°„ç›¸å…³ï¼Œè¯¥å®ç°è¿˜æé«˜äº†æ€§èƒ½ã€‚è¿™æ¶ˆé™¤äº†gcè¿‡ç¨‹çš„å¼€é”€å¹¶ç®€åŒ–äº†å†…éƒ¨è¡Œä¸ºã€‚

        å¦‚æœâ€œå¯å˜â€å±æ€§æ›´æ”¹æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å”¯ä¸€æ›´æ”¹ï¼Œç„¶åè¯¥å¯¹è±¡è¢«è§£å¼•ç”¨ï¼Œé‚£ä¹ˆå½“UPDATEå‘å¸ƒæ—¶ï¼Œæ˜ å°„å™¨å°†æ— æ³•è®¿é—®å…¶ä»–å±æ€§çŠ¶æ€ã€‚å¯¹äºæŸäº›MapperExtensionsï¼Œè¿™å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚

        æ­¤æ›´æ”¹è¿˜ä¼šå½±å“å†…éƒ¨å±æ€§APIï¼Œä½†ä¸ä¼šå½±å“AttributeExtensionç•Œé¢æˆ–ä»»ä½•å…¬å¼€è®°å½•çš„å±æ€§å‡½æ•°ã€‚

    -   å·¥ä½œå•å…ƒä¸å†ä¸ºflush()æœŸé—´çš„mapperå®Œæ•´å›¾å½¢ç”Ÿæˆä¸€ä¸ªâ€œdependencyâ€å¤„ç†å™¨å›¾è¡¨ï¼Œè€Œæ˜¯ä»…ä¸ºä»£è¡¨å…·æœ‰æœªå†³æ›´æ”¹å¯¹è±¡çš„æ˜ å°„å™¨åˆ›å»ºæ­¤ç±»å¤„ç†å™¨ã€‚è¿™åœ¨æ˜ å°„å™¨çš„å¤§å‹äº’è¿å›¾çš„ä¸Šä¸‹æ–‡ä¸­èŠ‚çœäº†å¤§é‡çš„æ–¹æ³•è°ƒç”¨ã€‚
    -   ç¼“å­˜äº†å…ˆå‰æ¯æ¬¡åˆ·æ–°å¤šæ¬¡å‡ºç°çš„æµªè´¹çš„â€œè¡¨æ ¼æ’åºâ€æ“ä½œï¼Œä¹Ÿä»flush()ä¸­åˆ é™¤äº†é‡è¦çš„æ–¹æ³•è°ƒç”¨è®¡æ•°ã€‚
    -   å…¶ä»–å¤šä½™çš„è¡Œä¸ºå·²ç»åœ¨mapper.\_save\_obj()ä¸­ç®€åŒ–äº†ã€‚

    [Â¶](#change-8c507593c28a9c706a8b28b9bb6a4906)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1398](http://www.sqlalchemy.org/trac/ticket/1398)

-   **[orm]**ä¿®æ”¹äº†DynamicAttributeImplä¸Šçš„query\_clsä»¥æ¥å—AppenderQueryçš„å®Œæ•´æ··åˆç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬å…è®¸å¯¹AppenderMixinè¿›è¡Œå­ç±»åŒ–ã€‚[Â¶](#change-02d1af2be8f7649b6004f9e563fc9e85)

-   **[orm]**â€œå¤šæ€é‰´åˆ«å™¨â€åˆ—å¯ä»¥æ˜¯ä¸»é”®çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”å°†å¡«å……æ­£ç¡®çš„é‰´åˆ«ç¬¦å€¼ã€‚[Â¶](#change-9afb5ea823566aaac340ca1fdcd9d108)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1300](http://www.sqlalchemy.org/trac/ticket/1300)

-   **[orm]**ä¿®æ­£äº†è¯„ä¼°è€…æ— æ³•è¯„ä¼°IS
    NULLå­å¥çš„æƒ…å†µã€‚[Â¶](#change-765bf6633bf8d6d51c59b3bf1dc71045)

-   **[orm]**ä¿®æ­£äº†â€œåŠ¨æ€â€å…³ç³»çš„â€œé›†åˆé›†åˆâ€åŠŸèƒ½ï¼Œä»¥æ­£ç¡®å¯åŠ¨äº‹ä»¶ã€‚ä»¥å‰åªèƒ½å°†ä¸€ä¸ªé›†åˆåˆ†é…ç»™å¾…å¤„ç†çš„çˆ¶å®ä¾‹ï¼Œå¦åˆ™ä¿®æ”¹åçš„äº‹ä»¶ä¸ä¼šè¢«æ­£ç¡®è§¦å‘ã€‚Seté›†åˆç°åœ¨å…¼å®¹merge()ï¼Œä¿®å¤ã€‚[Â¶](#change-33e14ebeceaa52fab11e805acf5eb04e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1352](http://www.sqlalchemy.org/trac/ticket/1352)

-   **[orm]**å…è®¸å¯¹ä½¿ç”¨æ£€æµ‹æè¿°ç¬¦æ„é€ çš„PropertyOptionå¯¹è±¡è¿›è¡Œé…¸æ´—ï¼›ä»¥å‰ï¼Œåœ¨é…¸æ´—ä¸€ä¸ªåŠ è½½äº†åŸºäºæè¿°ç¬¦çš„é€‰é¡¹çš„å¯¹è±¡ï¼ˆæ¯”å¦‚query.optionsï¼ˆeagerloadï¼ˆMyClass.fooï¼‰ï¼‰æ—¶ä¼šå‘ç”Ÿpickleé”™è¯¯ã€‚[Â¶](#change-0f4934965e99f59451b514175a5478a7)

-   å¦‚æœâ€œå»¶è¿ŸåŠ è½½â€SQLå­å¥ä¸get()ä½¿ç”¨çš„å­å¥ç›¸åŒ¹é…ï¼Œä½†åŒ…å«æŸäº›ç¡¬ç¼–ç å‚æ•°ï¼Œåˆ™æ‡’æƒ°åŠ è½½ç¨‹åºå°†ä¸ä¼šä½¿ç”¨get()ã€‚**[orm]**ä»¥å‰ï¼Œæ‡’æƒ°ç­–ç•¥ä¼šå¤±è´¥ï¼Œget()ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œget()å°†ç”¨äºç¡¬ç¼–ç å‚æ•°ï¼Œä½†è¿™éœ€è¦è¿›ä¸€æ­¥å¼€å‘ã€‚[Â¶](#change-08b2a4944a9b24faa36cfd730f464541)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1357](http://www.sqlalchemy.org/trac/ticket/1357)

-   **[orm]**MapperOptions and other state associated with
    query.options() is no longer bundled within callables associated
    with each lazy/deferred-loading attribute during a load.
    ç°åœ¨ï¼Œé€‰é¡¹åœ¨å¡«å……æ—¶ä¸å®ä¾‹çš„çŠ¶æ€å¯¹è±¡å…³è”ä¸€æ¬¡ã€‚è¿™æ¶ˆé™¤äº†å¤§å¤šæ•°æƒ…å†µä¸‹å¯¹æ¯ä¸ªå®ä¾‹/å±æ€§åŠ è½½å™¨å¯¹è±¡çš„éœ€æ±‚ï¼Œæé«˜äº†å•ä¸ªå®ä¾‹çš„åŠ è½½é€Ÿåº¦å’Œå†…å­˜å¼€é”€ã€‚[Â¶](#change-ede32bc8bf8a18fb1c656d4d0d19c2de)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1391](http://www.sqlalchemy.org/trac/ticket/1391)

-   **[orm]**ä¿®å¤äº†autoflushå¹²æ‰°session.merge()çš„å¦ä¸€ä¸ªä½ç½®ã€‚autoflushåœ¨merge()nowæœŸé—´è¢«å®Œå…¨ç¦ç”¨ã€‚[Â¶](#change-68a6b0a8471cb14cc06532a4b3ee39ec)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1360](http://www.sqlalchemy.org/trac/ticket/1360)

-   **[orm]**Fixed bug which prevented â€œmutable primary keyâ€ dependency
    logic from functioning properly on a one-to-one
    relation().[Â¶](#change-c143a7896b6a700568186ae4cdd28302)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1406](http://www.sqlalchemy.org/trac/ticket/1406)

-   **[orm]**Fixed bug in relation(), introduced in 0.5.3, whereby a
    self referential relation from a base class to a joined-table
    subclass would not configure
    correctly.[Â¶](#change-a29f9754bc238d3a72cda15f442d153b)

-   **[orm]**ä½¿ç”¨ç»§æ‰¿æ˜ å°„å™¨çš„å›ºå®šæ¨¡ç³Šæ˜ å°„å™¨ç¼–è¯‘é—®é¢˜ä¼šå¯¼è‡´æœªåˆå§‹åŒ–çš„å±æ€§[Â¶](#change-b92b0b122859758ffdb16e6c35539077)

-   **[orm]**ä¼šè¯çš„å›ºå®šæ–‡æ¡£weak\_identity\_map -
    é»˜è®¤å€¼ä¸ºTrueï¼Œè¡¨ç¤ºæ­£åœ¨ä½¿ç”¨çš„å¼±å¼•ç”¨åœ°å›¾ã€‚[Â¶](#change-fa6a44199fecae4da34ff430bf581a4c)

-   **[orm]**Fixed a unit of work issue whereby the foreign key
    attribute on an item contained within a collection owned by an
    object being deleted would not be set to None if the relation() was
    self-referential.[Â¶](#change-8e34b36b4b2a7c1908d3d1f8d9dc789f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1376](http://www.sqlalchemy.org/trac/ticket/1376)

-   **[orm]**ä¿®å¤äº†ä½¿ç”¨é¢„å…ˆåŠ è½½å…³ç³»çš„Query.update()å’ŒQuery.delete()å¤±è´¥ã€‚[Â¶](#change-98f3b9a092c02fbbc7ad6057d90ff7b9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1378](http://www.sqlalchemy.org/trac/ticket/1378)

-   **[orm]**åœ¨foreign\_keysæˆ–remote\_sideé›†åˆä¸­æŒ‡å®šäºŒè¿›åˆ¶primaryjoinæ¡ä»¶çš„åˆ—ç°åœ¨æ˜¯é”™è¯¯çš„ã€‚è€Œä»¥å‰å®ƒåªæ˜¯æ— æ„ä¹‰çš„ï¼Œä½†ä¼šä»¥éç¡®å®šæ€§çš„æ–¹å¼è·å¾—æˆåŠŸã€‚[Â¶](#change-dc9f22bb714dcf5a5310cb3c1a45ec33)

### SQL [Â¶ T0\>](#change-0.5.4-sql "Permalink to this headline")

-   **[sql]**Back-ported the â€œcompilerâ€ extension from SQLA 0.6.
    è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ¥å£ï¼Œå…è®¸åˆ›å»ºè‡ªå®šä¹‰çš„ClauseElementå­ç±»å’Œç¼–è¯‘å™¨ã€‚ç‰¹åˆ«æ˜¯å½“æ‚¨æƒ³è¦æ„å»ºå…·æœ‰ç‰¹å®šäºæ•°æ®åº“çš„ç¼–è¯‘çš„æ„é€ æ—¶ï¼Œå®ƒå¯ä»¥ä½œä¸ºtext()çš„æ›¿ä»£æ–¹æ³•ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ‰©å±•æ–‡æ¡£ã€‚[Â¶](#change-89258126655ed4679dfaa9df772ac8ba)

-   **[sql]**Exception messages are truncated when the list of bound
    parameters is larger than 10, preventing enormous multi-page
    exceptions from filling up screens and logfiles for large
    executemany()
    statements.[Â¶](#change-6a264288f4c28d189d06b156158f75f9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1413](http://www.sqlalchemy.org/trac/ticket/1413)

-   **[sql]**`sqlalchemy.extract()` is now dialect
    sensitive and can extract components of timestamps idiomatically
    across the supported databases, including
    SQLite.[Â¶](#change-01d31f576dc5491eb4674d5a24c5dd32)

-   **[sql]**ä¿®å¤äº†\_\_clause\_element
    \_\_()é£æ ¼æ„é€ ï¼ˆå³å£°æ˜æ€§åˆ—ï¼‰æ„é€ çš„ForeignKeyä¸Šçš„\_\_repr
    \_\_()å’Œå…¶ä»–\_get\_colspec()æ–¹æ³•ã€‚[Â¶](#change-898794cdf1dd9645bd1fd9efac46a7f0)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1353](http://www.sqlalchemy.org/trac/ticket/1353)

### æ¶æ„[Â¶ T0\>](#change-0.5.4-schema "Permalink to this headline")

-   **[schema] [1341] [ticket: 594]**Added a quote\_schema() method to
    the IdentifierPreparer class so that dialects can override how
    schemas get handled.
    è¿™ä½¿å¾—MSSQLæ–¹è¨€å¯ä»¥å°†æ¨¡å¼è§†ä¸ºå¤šéƒ¨åˆ†æ ‡è¯†ç¬¦ï¼Œå¦‚'database.owner'ã€‚[Â¶](#change-794d23381cdd544ab4c3b79eab6cac16)

### MySQLçš„[Â¶ T0\>](#change-0.5.4-mysql "Permalink to this headline")

-   **[mysql]**å¦‚æœå¤–é”®å¼•ç”¨è¿œç¨‹æ¨¡å¼ä¸­çš„è¡¨ï¼Œåˆ™åæ˜ FOREIGN
    KEYç»“æ„å°†è€ƒè™‘è™šçº¿schema.tablenameç»„åˆã€‚[Â¶](#change-e9757b5037798376d36b7052c50712f6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1405](http://www.sqlalchemy.org/trac/ticket/1405)

### æºç [Â¶ T0\>](#change-0.5.4-sqlite "Permalink to this headline")

-   **[sqlite]**ä¿®æ­£äº†SLBooleanç±»å‹ï¼Œä»¥ä¾¿å®ƒåªå°†1ä½œä¸ºTrueã€‚[Â¶](#change-4450dd533e773dd96f7a084af9a2a7ca)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1402](http://www.sqlalchemy.org/trac/ticket/1402)

-   **[sqlite]**æ›´æ­£æµ®ç‚¹ç±»å‹ï¼Œä»¥ä¾¿åœ¨åå°„æ—¶æ­£ç¡®æ˜ å°„åˆ°SLFloatç±»å‹ã€‚[Â¶](#change-7cd77e4e92c89a03ee8a6bd01ea65288)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1273](http://www.sqlalchemy.org/trac/ticket/1273)

### MSSQL [Â¶ T0\>](#change-0.5.4-mssql "Permalink to this headline")

-   **[mssql]**ä¿®æ”¹äº†ä¿å­˜ç‚¹é€»è¾‘çš„å·¥ä½œæ–¹å¼ï¼Œä»¥é˜²æ­¢å®ƒè·¨è¿‡éä¿å­˜ç‚¹å¯¼å‘çš„ä¾‹ç¨‹ã€‚Savepointæ”¯æŒä»ç„¶æ˜¯éå¸¸å®éªŒæ€§çš„ã€‚[Â¶](#change-34b2f02d462e1dad2f952dfca3b176d2)

-   **[mssql]**æ·»åŠ MSSQLçš„ä¿ç•™å­—ï¼Œæ¶µç›–ç‰ˆæœ¬2008å’Œä»¥å‰çš„æ‰€æœ‰ç‰ˆæœ¬ã€‚[Â¶](#change-2dfd6cf98bed7b00fa27c24db33e98ef)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1310](http://www.sqlalchemy.org/trac/ticket/1310)

-   **[mssql]**æ›´æ­£äº†ä¿¡æ¯æ¨¡å¼çš„é—®é¢˜ï¼Œä¸é€‚ç”¨äºåŸºäºäºŒè¿›åˆ¶æ’åºè§„åˆ™çš„æ•°æ®åº“ã€‚æ¸…ç†ä¿¡æ¯æ¨¡å¼ï¼Œå› ä¸ºå®ƒç°åœ¨åªè¢«mssqlä½¿ç”¨ã€‚[Â¶](#change-a58e32c6e4a30bcfc4a03e4bb2997895)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1343](http://www.sqlalchemy.org/trac/ticket/1343)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.4-misc "Permalink to this headline")

-   **[extensions]**ä¿®æ­£äº†å£°æ˜å¼ç±»çš„å»¶è¿Ÿæˆ–å…¶ä»–åˆ—å±æ€§çš„å¢åŠ ã€‚[Â¶](#change-6142a6736e533364992dc02fc1bd2905)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1379](http://www.sqlalchemy.org/trac/ticket/1379)

0.5.3 [Â¶ T0\>](#change-0.5.3 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒæ—¥æœŸï¼š2009å¹´3æœˆ24æ—¥

### ORM [Â¶ T0\>](#change-0.5.3-orm "Permalink to this headline")

-   **[orm]**ä¸æ¨èä½¿ç”¨session.flush()çš„â€œobjectsâ€å‚æ•°ã€‚è¡¨ç¤ºçˆ¶å¯¹è±¡ä¸å­å¯¹è±¡ä¹‹é—´é“¾æ¥çš„çŠ¶æ€ä¸æ”¯æŒé“¾æ¥ä¸€ä¾§è€Œä¸æ˜¯å¦ä¸€ä¾§çš„â€œåˆ·æ–°â€çŠ¶æ€ï¼Œå› æ­¤æ”¯æŒæ­¤æ“ä½œä¼šå¯¼è‡´è¯¯å¯¼ç»“æœã€‚[Â¶](#change-db1d72103852cfcb972a2119cd1e8100)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1315](http://www.sqlalchemy.org/trac/ticket/1315)

-   **[orm]**Query now implements \_\_clause\_element\_\_() which
    produces its selectable, which means a Query instance can be
    accepted in many SQL expressions, including col.in\_(query),
    union(query1, query2), select([foo]).select\_from(query),
    etc.[Â¶](#change-e7587d306012f7b240f0e8d0b47973bd)

-   **[orm]**Query.join() can now construct multiple FROM clauses, if
    needed. å¦‚æŸ¥è¯¢ï¼ˆAï¼ŒBï¼‰.joinï¼ˆA.xï¼‰.joinï¼ˆB.yï¼‰å¯èƒ½ä¼šè¯´SELECT
    A.\*ï¼ŒB\*ä»A JOIN Xï¼ŒB JOIN
    Y.æ€¥åˆ‡çš„åŠ è½½ä¹Ÿå¯ä»¥åŠ å…¥åˆ°å¤šä¸ªFROMå­å¥ä¸­ã€‚[Â¶](#change-1ea1a46ef46bddd4113e372777bbdd7b)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1337](http://www.sqlalchemy.org/trac/ticket/1337)

-   **[orm]**Fixed bug in dynamic\_loader() where append/remove events
    after construction time were not being propagated to the UOW to pick
    up on flush().[Â¶](#change-87e7bf3e238b44f6f2d0b81211ee2d90)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1347](http://www.sqlalchemy.org/trac/ticket/1347)

-   **[orm]**Fixed bug where column\_prefix wasnâ€™t being checked before
    not mapping an attribute that already had class-level name
    present.[Â¶](#change-ee1b0cf4caa20be816da0374ad4e7fe9)

-   **[orm]**a session.expire() on a particular collection attribute
    will clear any pending backref additions as well, so that the next
    access correctly returns only what was present in the database.
    å°½ç®¡æˆ‘ä»¬æ­£åœ¨è€ƒè™‘å½»åº•åˆ é™¤flushï¼ˆ[objects]ï¼‰ç‰¹æ€§ï¼Œä½†ä¸ºæŸç§ç¨‹åº¦çš„è§£å†³æ–¹æ¡ˆæä¾›äº†ä¸€äº›è§£å†³æ–¹æ³•ã€‚[Â¶](#change-442895d66bb3ffff66fa2aaa04e5a00f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1315](http://www.sqlalchemy.org/trac/ticket/1315)

-   **[orm]**Session.scalar() now converts raw SQL strings to text() the
    same way Session.execute() does and accepts same alternative \*\*kw
    args.[Â¶](#change-e39483da4bef1d4c9c7a2563d9fd396f)

-   **[orm]**improvements to the â€œdetermine directionâ€ logic of
    relation() such that the direction of tricky situations like
    mapper(A.join(B)) -\> relation-\> mapper(B) can be
    determined.[Â¶](#change-a502af23359ad8929b580406382ab22f)

-   **[orm]**When flushing partial sets of objects using
    session.flush([somelist]), pending objects which remain pending
    after the operation wonâ€™t inadvertently be added as
    persistent.[Â¶](#change-d959719a53bc430983e9bdfb60ed473c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1306](http://www.sqlalchemy.org/trac/ticket/1306)

-   **[orm]**å‘InstrumentationManageræ·»åŠ äº†â€œpost\_configure\_attributeâ€æ–¹æ³•ï¼Œä»¥ä¾¿â€œlisten\_for\_events.pyâ€ç¤ºä¾‹å†æ¬¡è¿è¡Œã€‚[Â¶](#change-1e7641278419404b4ccff781a8493eef)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1314](http://www.sqlalchemy.org/trac/ticket/1314)

-   **[orm]**a forward and complementing backwards reference which are
    both of the same direction, i.e. ONETOMANY or MANYTOONE, is now
    detected, and an error message is raised.
    ç¨åä¿å­˜ç–¯ç‹‚çš„CircularDependencyErrorsã€‚[Â¶](#change-1416ba36c9a6db7488347ac2f1836434)

-   **[orm]**Fixed bugs in Query regarding simultaneous selection of
    multiple joined-table inheritance entities with common base classes:

    -   å…ˆå‰åœ¨â€œA JOIN Bâ€ä¸Šåº”ç”¨äºâ€œBâ€çš„é€‚é…å°†é”™è¯¯åœ°éƒ¨åˆ†åº”ç”¨äºâ€œAâ€ã€‚
    -   å…³ç³»çš„æ¯”è¾ƒï¼ˆå³A.related == somebï¼‰æ²¡æœ‰å¾—åˆ°é€‚åº”çš„æ—¶å€™ï¼Œä»–ä»¬åº”è¯¥ã€‚
    -   å…¶ä»–è¿‡æ»¤å™¨ï¼Œå¦‚æŸ¥è¯¢ï¼ˆAï¼‰.joinï¼ˆA.bsï¼‰.filterï¼ˆB.foo
        =='bar'ï¼‰ï¼Œé”™è¯¯åœ°å°†â€œB.fooâ€æ”¹å†™ä¸ºâ€œAâ€ã€‚

    [Â¶](#change-82634554436213406975972cc9a9185f)

-   **[orm]**Fixed adaptation of EXISTS clauses via any(), has(), etc.
    ç»“åˆå·¦ä¾§çš„åˆ«åå¯¹è±¡å’Œå³ä¾§çš„of\_type()ã€‚[Â¶](#change-192d36e5463caf99edcc9d7d3b1d9ccc)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1325](http://www.sqlalchemy.org/trac/ticket/1325)

-   **[orm]**åœ¨sqlalchemy.orm.attributesä¸­æ·»åŠ äº†ä¸€ä¸ªå±æ€§åŠ©æ‰‹æ–¹æ³•`set_committed_value`ã€‚ç»™å®šä¸€ä¸ªå¯¹è±¡ï¼Œå±æ€§åç§°å’Œå€¼ï¼Œä¼šå°†è¯¥å¯¹è±¡çš„å€¼è®¾ç½®ä¸ºå…¶â€œå·²æäº¤â€çŠ¶æ€çš„ä¸€éƒ¨åˆ†ï¼Œå³å¯ä»¥ç†è§£ä¸ºå·²ä»æ•°æ®åº“åŠ è½½çš„çŠ¶æ€ã€‚å¸®åŠ©åˆ›å»ºæœ¬åœŸæ”¶é›†è£…è½½æœºç­‰ã€‚[Â¶](#change-2a46f035edea7feda9d9d6a572b6975f)

-   **[orm]**å½“ä¼ é€’äº†éæ˜ å°„å™¨/ç±»çš„æ£€æµ‹æè¿°ç¬¦æ—¶ï¼ŒæŸ¥è¯¢ä¸ä¼šå¤±è´¥ï¼Œå¹¶å‡ºç°weakrefé”™è¯¯ï¼Œå¹¶å¼•å‘â€œæ— æ•ˆçš„åˆ—ç»éªŒâ€ã€‚[Â¶](#change-7dae2aa4d2d51b88a2c767d11a880027)

-   **[orm]**Query.group\_by() properly takes into account aliasing
    applied to the FROM clause, such as with select\_from(), using
    with\_polymorphic(), or using
    from\_self().[Â¶](#change-0d291e026106f5b96e459c08e07d64ef)

### SQL [Â¶ T0\>](#change-0.5.3-sql "Permalink to this headline")

-   **[sql]**An alias() of a select() will convert to a â€œscalar
    subqueryâ€ when used in an unambiguously scalar context, i.e. itâ€™s
    used in a comparison operation.
    è¿™åŒæ ·é€‚ç”¨äºä½¿ç”¨query.subquery()çš„ORMã€‚[Â¶](#change-f4c329ebf5d4f8d39ed26796f4776135)

-   **[sql]**Fixed missing \_label attribute on Function object, others
    when used in a select() with use\_labels (such as when used in an
    ORM
    column\_property()).[Â¶](#change-3a5a52f698452fd0c3775848413f0a4b)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1302](http://www.sqlalchemy.org/trac/ticket/1302)

-   **[sql]**anonymous alias names now truncate down to the max length
    allowed by the dialect.
    å¯¹äºåƒOracleè¿™æ ·çš„æ•°æ®åº“æ¥è¯´ï¼Œå®ƒçš„å­—ç¬¦é™åˆ¶éå¸¸å°ï¼Œå› æ­¤æ›´ä¸ºé‡è¦ã€‚[Â¶](#change-f925a1a1d2ef2848907b27d9344a9157)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1309](http://www.sqlalchemy.org/trac/ticket/1309)

-   **[sql]** \_\_selectable \_\_()æ¥å£å·²è¢«å®Œå…¨æ›¿æ¢ä¸º\_\_clause\_element
    \_\_()ã€‚[Â¶](#change-add28ca90a6f17b7082c1f017ab736eb)

-   **[sql]**The per-dialect cache used by TypeEngine to cache
    dialect-specific types is now a WeakKeyDictionary.
    è¿™æ ·å¯ä»¥é˜²æ­¢æ–¹è¨€å¯¹è±¡è¢«æ°¸ä¹…å¼•ç”¨åˆ°åˆ›å»ºä»»æ„æ•°é‡çš„å¼•æ“æˆ–æ–¹è¨€çš„åº”ç”¨ç¨‹åºä¸­ã€‚æœ‰ä¸€ä¸ªå°çš„æ€§èƒ½æŸå¤±ï¼Œå°†åœ¨0.6ä¸­å¾—åˆ°è§£å†³ã€‚[Â¶](#change-c60dd590c50147430235f1343500fc91)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1299](http://www.sqlalchemy.org/trac/ticket/1299)

### çš„PostgreSQL [Â¶ T0\>](#change-0.5.3-postgresql "Permalink to this headline")

-   **[postgresql]**é‡åˆ°å…·æœ‰å¤šä¸ªè¡¨è¾¾å¼çš„ç´¢å¼•æ—¶ï¼Œç´¢å¼•åå°„ä¸ä¼šå¤±è´¥ã€‚[Â¶](#change-dcbcca3e16a72bb4257afe818c178a07)

-   **[postgresql]**å°†PGUuidå’ŒPGBitç±»å‹æ·»åŠ åˆ°sqlalchemy.databases.postgresã€‚[Â¶](#change-a08e9891d7c2750db9f6802c3d168768)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1327](http://www.sqlalchemy.org/trac/ticket/1327)

-   **[postgresql]**åœ¨åŸŸä¸­æŒ‡å®šè¿™äº›ç±»å‹æ—¶ï¼ŒæœªçŸ¥PGç±»å‹çš„ååº”ä¸ä¼šå´©æºƒã€‚[Â¶](#change-23ab1c01c10410310246fe16a0c49afe)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1327](http://www.sqlalchemy.org/trac/ticket/1327)

### æºç [Â¶ T0\>](#change-0.5.3-sqlite "Permalink to this headline")

-   **[sqlite]**Fixed SQLite reflection methods so that non-present
    cursor.description, which triggers an auto-cursor close, will be
    detected so that no results doesnâ€™t fail on recent versions of
    pysqlite which raise an error when fetchone() called with no rows
    present.[Â¶](#change-bce03de137e528e4dc184cd2d6a2c750)

### MSSQL [Â¶ T0\>](#change-0.5.3-mssql "Permalink to this headline")

-   **[mssql]**åˆæ­¥æ”¯æŒpymssql 1.0.1
    [Â¶](#change-3194055f787560d6f9ffd8ff886494d5)

-   **[mssql]**æ›´æ­£äº†mssqlä¸­max\_identifier\_lengthä¸å—å°Šé‡çš„é—®é¢˜ã€‚[Â¶](#change-deccb81a88d339fadb2c73679aa3bdb9)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.3-misc "Permalink to this headline")

-   **[extensions]**ä¿®æ­£äº†åºåˆ—åŒ–ç¨‹åºä¸­çš„ä¸€ä¸ªé€’å½’é…¸æ´—é—®é¢˜ï¼Œç”±EXISTSæˆ–å…¶ä»–åµŒå…¥å¼FROMç»“æ„è§¦å‘ã€‚[Â¶](#change-d808456099666feebbfc2d6d0319c26f)

-   **[extensions]**å£°æ˜å¼å®šä½â€œinheritsâ€ç±»ï¼Œä½¿ç”¨\_\_bases\_\_è¿›è¡Œæœç´¢ï¼Œè·³è¿‡å­ç±»æœ¬åœ°çš„mixinsã€‚[Â¶](#change-8ff5afad7258930672d81ad7e55e1cd4)

-   **[extensions]**å³ä½¿æ˜ç¡®ç»™å‡ºäº†â€œç»§æ‰¿â€æ˜ å°„å™¨å‚æ•°ï¼Œå£°æ˜å¼æ•°å­—ä¹Ÿä¸ä¼šè¿æ¥è¡¨ç»§æ‰¿ä¸»è¿æ¥æ¡ä»¶ã€‚[Â¶](#change-5b4c354d7202eb0cead4c9fdac357c17)

-   **[extensions]**å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒDeclarativeå°†æ­£ç¡®åœ°è§£é‡Šbackref()ä¸­çš„â€œforeign\_keysâ€å‚æ•°ã€‚[Â¶](#change-4c8e2bad941cf4481721c166b8fc630d)

-   **[extensions]**Declarative will accept a table-bound column as a
    property when used in conjunction with \_\_table\_\_, if the column
    is already present in \_\_table\_\_.
    è¯¥åˆ—å°†ä»¥ä¸æ·»åŠ åˆ°mapper()å±æ€§å­—å…¸ç›¸åŒçš„æ–¹å¼é‡æ–°æ˜ å°„åˆ°ç»™å®šé”®ã€‚[Â¶](#change-3b8983c231c5a078b26bdd1615b26546)

0.5.2 [Â¶ T0\>](#change-0.5.2 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒäºï¼š2009å¹´1æœˆ24æ—¥

### ORM [Â¶ T0\>](#change-0.5.2-orm "Permalink to this headline")

-   **[orm]**è¿›ä¸€æ­¥æ”¹è¿›äº†0.5.1å…³äºæ”¾ç½®åœ¨å¤šå¯¹å¤šå…³ç³»ä¸Šçš„åˆ é™¤å­¤ç«‹çº§è”çš„è­¦å‘Šã€‚é¦–å…ˆï¼Œåæ¶ˆæ¯æ˜¯ï¼šè¿™ä¸ªè­¦å‘Šå°†é€‚ç”¨äºå¤šå¯¹å¤šä»¥åŠå¤šå¯¹ä¸€çš„å…³ç³»ã€‚è¿™æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºåœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼ŒSQLAåœ¨ç¡®å®šâ€œå­¤ç«‹â€çŠ¶æ€æ—¶éƒ½ä¸ä¼šæ‰«ææ•´å¥—æ½œåœ¨çˆ¶æ¯
    -
    å¯¹äºæŒä¹…å¯¹è±¡ï¼Œå®ƒåªæ£€æµ‹åˆ°ä¸€ä¸ªin-pythonè§£é™¤å…³è”äº‹ä»¶ä»¥å°†è¯¥å¯¹è±¡å»ºç«‹ä¸ºâ€œå­¤å„¿â€ã€‚æ¥ä¸‹æ¥ï¼Œå¥½æ¶ˆæ¯æ˜¯ï¼šé€šè¿‡å¤–é”®æˆ–å…³è”è¡¨æ¥æ”¯æŒä¸€å¯¹ä¸€ï¼Œæˆ–è€…é€šè¿‡å…³è”è¡¨æ¥æ”¯æŒä¸€å¯¹å¤šï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªæ–°çš„æ ‡å¿—single\_parent
    =
    Trueï¼Œè¯¥æ ‡å¿—æŒ‡ç¤ºé“¾æ¥åˆ°è¯¥å…³ç³»çš„å¯¹è±¡åªæ„å‘³ç€æœ‰ä¸€ä¸ªå•äº²ã€‚å¦‚æœåœ¨Pythonä¸­å‘ç”Ÿå¤šä¸ªçˆ¶å…³è”äº‹ä»¶ï¼Œè¯¥å…³ç³»å°†å¼•å‘é”™è¯¯ã€‚[Â¶](#change-5cdc10aa381b945a9fb6df668bae7f5c)

-   **[orm]**ä»0.5.1è°ƒæ•´å±æ€§æ£€æµ‹æ›´æ”¹ï¼Œä»¥å®Œå…¨å»ºç«‹åœ¨è¶…ç±»å·²ç»å®Œå…¨æ£€æµ‹ååˆ›å»ºæ˜ å°„å™¨çš„å­ç±»çš„æ£€æµ‹ã€‚[Â¶](#change-ac6a6c886cc28b8a4624799f3a67e800)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1292](http://www.sqlalchemy.org/trac/ticket/1292)

-   **[orm]**Fixed bug in delete-orphan cascade whereby two one-to-one
    relations from two different parent classes to the same target class
    would prematurely expunge the
    instance.[Â¶](#change-252f8ac693af8a64d5cbaa517d732448)

-   **[orm]**ä¿®å¤äº†ä¸€ä¸ªæ€¥åˆ‡çš„åŠ è½½é”™è¯¯ï¼Œå³è‡ªå¼•ç”¨åŠ è½½åŠ è½½ä¼šé˜»æ­¢å…¶ä»–åŠ è½½ï¼Œè‡ªå¼•ç”¨æˆ–ä¸åŠ è½½ï¼Œä»è€Œæ­£ç¡®åŠ å…¥çˆ¶JOINã€‚æ„Ÿè°¢Alex
    Kåˆ›é€ äº†ä¸€ä¸ªä¼Ÿå¤§çš„æµ‹è¯•æ¡ˆä¾‹ã€‚[Â¶](#change-e2b026833b662fec2ba7e60e9fd8dba1)

-   **[orm]**session.expire() and related methods will not expire()
    unloaded deferred attributes.
    è¿™æ ·å¯ä»¥é˜²æ­¢åœ¨å®ä¾‹åˆ·æ–°æ—¶ä¸å¿…è¦åœ°åŠ è½½å®ƒä»¬ã€‚[Â¶](#change-8feb07e7f3baa53af64fcf4a674c0511)

-   **[orm]**query.join()/outerjoin() will now properly join an
    aliased() construct to the existing left side, even if
    query.from\_self() or query.select\_from(someselectable) has been
    called.[Â¶](#change-03ac4ea79a651b4ca097f9c08aa6a490)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1293](http://www.sqlalchemy.org/trac/ticket/1293)

### SQL [Â¶ T0\>](#change-0.5.2-sql "Permalink to this headline")

-   **[sql]**

    è¿›ä¸€æ­¥ä¿®å¤â€œåˆ—/è¡¨ä¸­çš„ç™¾åˆ†å·å’Œç©ºæ ¼â€
    :   åç§°â€œåŠŸèƒ½ã€‚

    [Â¶](#change-5e680aeeda4bbf301e587736a84ba9ed)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1284](http://www.sqlalchemy.org/trac/ticket/1284)

### MSSQL [Â¶ T0\>](#change-0.5.2-mssql "Permalink to this headline")

-   **[mssql]**æ¢å¤äº†convert\_unicodeå¤„ç†ã€‚ç»“æœæ­£åœ¨é€šè¿‡è€Œæ²¡æœ‰è½¬æ¢ã€‚[Â¶](#change-0c390545c0b67d6ec4a1bc02bbd89894)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1291](http://www.sqlalchemy.org/trac/ticket/1291)

-   **[mssql]**è¿™æ¬¡ç¡®å®ä¿®å¤äº†åè¿›åˆ¶å¤„ç†ã€‚[Â¶](#change-507536fb87345f67009c56fd2bf3b89c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1282](http://www.sqlalchemy.org/trac/ticket/1282)

-   **[mssql] [Ticket:1289]**ä¿®æ”¹è¡¨åå°„ä»£ç ï¼Œåœ¨æ„é€ è¡¨æ—¶åªä½¿ç”¨kwargs
    [Â¶](#change-2db326e86e2e0155290796bca98be830)

0.5.1 [Â¶ T0\>](#change-0.5.1 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒäºï¼š2009å¹´1æœˆ17æ—¥

### ORM [Â¶ T0\>](#change-0.5.1-orm "Permalink to this headline")

-   **[orm]**åˆ é™¤äº†ä¸€ä¸ªå†…éƒ¨è¿æ¥ç¼“å­˜ï¼Œå½“é‡å¤å‘å‡ºquery.join()ç»™ad-hoc
    selectablesæ—¶å¯èƒ½ä¼šæ³„æ¼å†…å­˜ã€‚[Â¶](#change-5f7ebabe0cc040a9dfe4ff0e48f322df)

-   **[orm]**The â€œclear()â€, â€œsave()â€, â€œupdate()â€, â€œsave\_or\_update()â€
    Session methods have been deprecated, replaced by â€œexpunge\_all()â€
    and â€œadd()â€.
    â€œexpunge\_all()â€ä¹Ÿè¢«æ·»åŠ åˆ°ScopedSessionä¸­ã€‚[Â¶](#change-77cb4815db5b7492e88c260f9285a6d9)

-   **[orm]**å¯¹â€œno mapped
    tableâ€å¼‚å¸¸è¿›è¡Œäº†ç°ä»£åŒ–å¤„ç†ï¼Œå¹¶ä¸ºå£°æ˜å¼æ·»åŠ äº†æ›´æ˜ç¡®çš„\_\_table \_\_ /
    \_\_
    tablename\_\_å¼‚å¸¸ã€‚[Â¶](#change-c83d9cf2b7e16bf5f23858a2629cdc3c)

-   **[orm]**Concrete inheriting mappers now instrument attributes which
    are inherited from the superclass, but are not defined for the
    concrete mapper itself, with an InstrumentedAttribute that issues a
    descriptive error when
    accessed.[Â¶](#change-69f3da8d1cbab03f36506ddf26ba16fe)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1237](http://www.sqlalchemy.org/trac/ticket/1237)

-   **[orm]**æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å…³ç³»()å…³é”®å­—back\_populatesã€‚è¿™å…è®¸ä½¿ç”¨æ˜¾å¼å…³ç³»æ¥é…ç½®åå‘å¼•ç”¨ã€‚åœ¨åˆ›å»ºå…·ä½“æ˜ å°„å™¨å±‚æ¬¡ç»“æ„ä¸å…¶ä»–ç±»ä¹‹é—´çš„åŒå‘å…³ç³»æ—¶ï¼Œè¿™æ˜¯å¿…éœ€çš„ã€‚[Â¶](#change-3a079ea5d41a22d7814b5d922e478025)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1237](http://www.sqlalchemy.org/trac/ticket/1237)ï¼Œ[ï¼ƒ781](http://www.sqlalchemy.org/trac/ticket/781)

-   **[orm]**ä¸ºå…·ä½“æ˜ å°„å™¨ä¸ŠæŒ‡å®šçš„relation()å¯¹è±¡æ·»åŠ çš„æµ‹è¯•è¦†ç›–ç‡ã€‚[Â¶](#change-9d5221a68f4c01b3524dfd39940a7643)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1237](http://www.sqlalchemy.org/trac/ticket/1237)

-   **[orm]**Query.from\_self() as well as query.subquery() both disable
    the rendering of eager joins inside the subquery produced.
    é€šè¿‡ä¸€ä¸ªæ–°çš„query.enable\_eagerloads()ç”ŸæˆåŠŸèƒ½å…¬å…±åœ°æä¾›â€œç¦ç”¨æ‰€æœ‰æ¸´æœ›åŠ å…¥â€åŠŸèƒ½ã€‚[Â¶](#change-f7d09fa52c66733af926a77dcc6889b8)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1276](http://www.sqlalchemy.org/trac/ticket/1276)

-   **[orm]**Added a rudimental series of set operations to Query that
    receive Query objects as arguments, including union(), union\_all(),
    intersect(), except\_(), insertsect\_all(), except\_all().
    æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜…Query.union()çš„APIæ–‡æ¡£ã€‚[Â¶](#change-d84677c9459d45a1aa0c69a534f2dcf6)

-   **[orm]**Fixed bug that prevented Query.join() and eagerloads from
    attaching to a query that selected from a union or aliased
    union.[Â¶](#change-a390ebca59496b69af528a1f6dcd1882)

-   **[orm]**ä¸ºå…·ä½“æ˜ å°„å™¨ä¸ŠæŒ‡å®šçš„åŒå‘å…³ç³»æ·»åŠ çš„ç®€çŸ­æ–‡æ¡£ç¤ºä¾‹ã€‚[Â¶](#change-4e519ca0bc4a46ef1572da0ad263a948)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1237](http://www.sqlalchemy.org/trac/ticket/1237)

-   **[orm]**ä½¿ç”¨ä¿æŒæŒä¹…æ€§çš„æœ€ç»ˆInstrumentedAttributeå¯¹è±¡æ„é€ ç°åœ¨çš„ä»ªå™¨ç±»å±æ€§ã€‚\_CompileOnAttr
    / \_\_ getattribute
    \_\_()æ–¹æ³•å·²è¢«åˆ é™¤ã€‚æœ€ç»ˆç»“æœæ˜¯ï¼ŒåŸºäºåˆ—çš„æ˜ å°„ç±»å±æ€§ç°åœ¨å¯ä»¥åœ¨ç±»çº§å®Œå…¨ä½¿ç”¨ï¼Œè€Œæ— éœ€è°ƒç”¨æ˜ å°„å™¨ç¼–è¯‘æ“ä½œï¼Œä»è€Œå¤§å¤§ç®€åŒ–äº†å£°æ˜ä¸­çš„å…¸å‹ä½¿ç”¨æ¨¡å¼ã€‚[Â¶](#change-d942c9f0feaf7f8fe8d86dd5f3846838)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1269](http://www.sqlalchemy.org/trac/ticket/1269)

-   **[orm]** ColumnPropertyï¼ˆå’Œ`deferred`ç­‰å‰ç«¯åŠ©æ‰‹ï¼‰ä¸å†å¿½ç•¥æœªçŸ¥çš„\*\*å…³é”®å­—å‚æ•°ã€‚[Â¶](#change-82c422d444d39214d5378d7961dd511b)

-   **[orm]**Fixed a bug with the unitofworkâ€™s â€œrow switchâ€ mechanism,
    i.e. the conversion of INSERT/DELETE into an UPDATE, when combined
    with joined-table inheritance and an object which contained no
    defined values for the child table where an UPDATE with no SET
    clause would be
    rendered.[Â¶](#change-1cae8adff596e0421b11143747cac92f)

-   **[orm]**ä¸å»ºè®®ä½¿ç”¨å¤šå¯¹å¤šå…³ç³»ä¸­çš„delete-orphanã€‚è¿™ä¼šäº§ç”Ÿè¯¯å¯¼æˆ–é”™è¯¯çš„ç»“æœï¼Œå› ä¸ºSQLAä¸æ£€ç´¢m2mçš„â€œçˆ¶æ¯â€çš„å®Œæ•´åˆ—è¡¨ã€‚è¦ä½¿ç”¨m2mè¡¨è·å¾—åˆ é™¤å­¤ç«‹è¡Œä¸ºï¼Œè¯·ä½¿ç”¨explcitå…³è”ç±»ï¼Œä»¥ä¾¿å°†å„ä¸ªå…³è”è¡Œè§†ä¸ºçˆ¶é¡¹ã€‚[Â¶](#change-12c056541bc4fd04c59756c40cb8e530)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1281](http://www.sqlalchemy.org/trac/ticket/1281)

-   **[orm]**delete-orphan cascade always requires delete cascade.
    ç°åœ¨æŒ‡å®šdelete-orphanè€Œä¸åˆ é™¤ä¼šå¼•å‘å¼ƒç”¨è­¦å‘Šã€‚[Â¶](#change-1bfde55510fa78321ebc2a86ed56639d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1281](http://www.sqlalchemy.org/trac/ticket/1281)

### SQL [Â¶ T0\>](#change-0.5.1-sql "Permalink to this headline")

-   **[sql]**æ”¹è¿›äº†å¤„ç†åˆ—åä¸­çš„ç™¾åˆ†å·çš„æ–¹æ³•ã€‚å¢åŠ äº†æ›´å¤šæµ‹è¯•ã€‚MySQLå’ŒPostgreSQLæ–¹è¨€ä»ç„¶ä¸ä¼šä¸ºåŒ…å«ç™¾åˆ†å·çš„æ ‡è¯†ç¬¦å‘å‡ºæ­£ç¡®çš„CREATE
    TABLEè¯­å¥ã€‚[Â¶](#change-f22d8d0a0f98407735a67c6d3dcc1181)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1256](http://www.sqlalchemy.org/trac/ticket/1256)

### æ¶æ„[Â¶ T0\>](#change-0.5.1-schema "Permalink to this headline")

-   **[schema]**ç´¢å¼•ç°åœ¨æ¥å—åˆ—å¯¼å‘çš„InstrumentedAttributesï¼ˆå³åŸºäºåˆ—çš„æ˜ å°„ç±»å±æ€§ï¼‰ä½œä¸ºåˆ—å‚æ•°ã€‚[Â¶](#change-2cbce9f8f05e9d65a6b86934e8c67a99)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1214](http://www.sqlalchemy.org/trac/ticket/1214)

-   **[schema]**æ²¡æœ‰åç§°çš„åˆ—ï¼ˆå¦‚å£°æ˜å¼ï¼‰ä¸ä¼šåœ¨è¯·æ±‚å­—ç¬¦ä¸²è¾“å‡ºæ—¶å¼•å‘NoneTypeé”™è¯¯ï¼ˆä¾‹å¦‚åœ¨å †æ ˆè·Ÿè¸ªä¸­ï¼‰ã€‚[Â¶](#change-2c9147ef2ccab23fc1b8801fe1dcbde9)

-   **[schema]**Fixed bug when overriding a Column with a ForeignKey on
    a reflected table, where derived columns (i.e. the â€œvirtualâ€ columns
    of a select, etc.)
    ä¼šæ— æ„ä¸­è°ƒç”¨ä»…ç”¨äºåŸå§‹åˆ—çš„æ¨¡å¼çº§æ¸…ç†é€»è¾‘ã€‚[Â¶](#change-a3dad3ae16e7410704efd7b0ac6e059f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1278](http://www.sqlalchemy.org/trac/ticket/1278)

### MySQLçš„[Â¶ T0\>](#change-0.5.1-mysql "Permalink to this headline")

-   **[mysql]**åœ¨MySQL
    4.1ä¸­æ·»åŠ ç¼ºå°‘çš„å…³é”®å­—ï¼Œä»¥ä¾¿å®ƒä»¬æ­£ç¡®è½¬ä¹‰ã€‚[Â¶](#change-72b1b1a78ead597e7b1f225bc193c234)

### MSSQL [Â¶ T0\>](#change-0.5.1-mssql "Permalink to this headline")

-   **[mssql]**é€šè¿‡æ›´å¼ºå¤§çš„æµ‹è¯•æ›´æ­£äº†å¯¹å¤§åè¿›åˆ¶å€¼çš„å¤„ç†ã€‚åˆ é™¤äº†æµ®ç‚¹ä¸Šçš„å­—ç¬¦ä¸²æ“ä½œã€‚[Â¶](#change-34cdd9f929bd0dca34a8aca677e572d2)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1280](http://www.sqlalchemy.org/trac/ticket/1280)

-   **[mssql]**ä¿®æ”¹äº†mssqlä¸­çš„do\_beginå¤„ç†ï¼Œä½¿ç”¨Cursorè€Œä¸æ˜¯Connectionï¼Œå› æ­¤å®ƒä¸DBAPIå…¼å®¹ã€‚[Â¶](#change-f6267ad5ec64ce02c5d649e0a9656e15)

-   **[mssql]**é€šè¿‡æ›´æ”¹å¯¹mssqlä¸æ”¯æŒçš„savepoint\_releaseçš„å¤„ç†ï¼Œæ›´æ­£äº†adodbapiä¸Šçš„SAVEPOINTæ”¯æŒã€‚[Â¶](#change-50f4cc34e316267b64a62baad731764e)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.1-misc "Permalink to this headline")

-   **[declarative]**ç°åœ¨å¯ä»¥åœ¨æ²¡æœ‰è‡ªå·±è¡¨çš„å­ç±»ä¸ŠæŒ‡å®šColumnå¯¹è±¡ï¼ˆå³ä½¿ç”¨å•ä¸ªè¡¨ç»§æ‰¿ï¼‰ã€‚è¿™äº›åˆ—å°†é™„åŠ åˆ°åŸºè¡¨ä¸­ï¼Œä½†åªèƒ½ç”±å­ç±»æ˜ å°„ã€‚[Â¶](#change-1576364825a1be661c97e91433441123)

-   **[declarative]**å¯¹äºè¿æ¥å’Œå•ä¸ªç»§æ‰¿å­ç±»ï¼Œå­ç±»åªæ˜ å°„é‚£äº›å·²ç»æ˜ å°„åˆ°è¶…ç±»çš„åˆ—å’Œé‚£äº›åœ¨å­ç±»ä¸Šæ˜¾å¼æ˜ å°„çš„åˆ—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¡¨ä¸­å­˜åœ¨çš„å…¶ä»–åˆ—å°†ä»æ˜ å°„ä¸­æ’é™¤ï¼Œå¯é€šè¿‡å‘\_\_
    mapper\_args \_\_ä¼ é€’ç©ºçš„exclude\_properties
    \>ã€‚è¿™ä½¿å¾—å®šä¹‰å®ƒä»¬è‡ªå·±çš„åˆ—çš„å•ä¸€ç»§æ‰¿ç±»æ˜¯æ˜ å°„è¿™äº›åˆ—çš„å”¯ä¸€ç±»ã€‚é™¤éæ˜ç¡®è®¾ç½®äº†exclude\_propertieså‚æ•°ï¼Œå¦åˆ™æ•ˆæœå®é™…ä¸Šæ˜¯æ¯”é€šå¸¸ä½¿ç”¨æ˜¾å¼mapper()è°ƒç”¨æ›´æœ‰ç»„ç»‡çš„æ˜ å°„ã€‚[Â¶
    t2 \>](#change-adcaa17526d45c7edf13c8a1451209c3)

-   **[declarative]**å°†æ–°çš„Columnå¯¹è±¡æ·»åŠ åˆ°ä½¿ç”¨\_\_table
    \_\_æŒ‡å®šç°æœ‰è¡¨çš„å£°æ˜ç±»ä¸­æ˜¯é”™è¯¯çš„ã€‚[Â¶](#change-5aa4c8c1650f1958b4b640fd1d5b28e8)

0.5.0 [Â¶ T0\>](#change-0.5.0 "Permalink to this headline")
----------------------------------------------------------

å‘å¸ƒæ—¶é—´ï¼š2009å¹´1æœˆ6æ—¥

### ä¸€èˆ¬[Â¶ T0\>](#change-0.5.0-general "Permalink to this headline")

-   **[general]**æ–‡æ¡£å·²è¢«è½¬æ¢ä¸ºSphinxã€‚ç‰¹åˆ«æ˜¯ï¼Œç”Ÿæˆçš„APIæ–‡æ¡£å·²ç»æ„å»ºä¸ºä¸€ä¸ªå®Œæ•´çš„â€œAPIå‚è€ƒâ€éƒ¨åˆ†ï¼Œè¯¥éƒ¨åˆ†ç»„ç»‡ç¼–è¾‘æ–‡æ¡£ä»¥åŠç”Ÿæˆçš„æ–‡æ¡£å­—ç¬¦ä¸²ã€‚éƒ¨åˆ†å’ŒAPIæ–‡æ¡£ä¹‹é—´çš„äº¤å‰é“¾æ¥å¤§å¤§æ”¹è¿›ï¼Œæä¾›äº†ä¸€ä¸ªåŸºäºjavascriptçš„æœç´¢åŠŸèƒ½ï¼Œå¹¶æä¾›äº†æ‰€æœ‰ç±»ï¼Œå‡½æ•°å’Œæˆå‘˜çš„å®Œæ•´ç´¢å¼•ã€‚[Â¶](#change-eea66a331a882cd7bbab29da2a14aace)

-   **[general]**
    setup.pyç°åœ¨åªèƒ½é€‰æ‹©æ€§åœ°å¯¼å…¥setuptoolsã€‚å¦‚æœä¸å­˜åœ¨ï¼Œä½¿ç”¨distutilsã€‚æ–°çš„â€œpipâ€å®‰è£…ç¨‹åºå»ºè®®ä½¿ç”¨easy\_installï¼Œå› ä¸ºå®ƒä»¥æ›´ç®€åŒ–çš„æ–¹å¼è¿›è¡Œå®‰è£…ã€‚[Â¶](#change-3a9d633de48ce51f826b6d7223742ad6)

-   **[general]**åœ¨ç¤ºä¾‹æ–‡ä»¶å¤¹ä¸­æ·»åŠ äº†PostGISé›†æˆçš„ä¸€ä¸ªéå¸¸åŸºæœ¬çš„æ’å›¾ã€‚[Â¶](#change-32af7159db8d14dc32feb73b2f845e43)

### ORM [Â¶ T0\>](#change-0.5.0-orm "Permalink to this headline")

-   **[orm]**Query.with\_polymorphic() now accepts a third argument
    â€œdiscriminatorâ€ which will replace the value of
    mapper.polymorphic\_on for that query.
    æ˜ å°„å™¨æœ¬èº«ä¸å†éœ€è¦è®¾ç½®polymorphic\_onï¼Œå³ä½¿æ˜ å°„å™¨å…·æœ‰polymorphic\_identityã€‚æœªè®¾ç½®æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜ å°„å™¨å°†éå¤šæ€åŠ è½½ã€‚åœ¨ä¸€èµ·ï¼Œè¿™ä¸¤ä¸ªç‰¹æ€§å…è®¸éå¤šæ€æ··å‡åœŸç»§æ‰¿è®¾ç½®åœ¨æ¯ä¸ªæŸ¥è¯¢çš„åŸºç¡€ä¸Šä½¿ç”¨å¤šæ€åŠ è½½ï¼Œå› ä¸ºåœ¨æ‰€æœ‰æƒ…å†µä¸‹ä½¿ç”¨å¤šæ€æ—¶ï¼Œå…·ä½“è®¾ç½®å¾ˆå®¹æ˜“å‡ºç°è®¸å¤šé—®é¢˜ã€‚[Â¶](#change-b7910c83dd3b7784efb8dc7292ea337b)

-   **[orm]** dynamic\_loaderæ¥å—query\_class
    =æ¥è‡ªå®šä¹‰ç”¨äºåŠ¨æ€é›†åˆå’Œç”±å®ƒæ„å»ºçš„æŸ¥è¯¢çš„Queryç±»ã€‚[Â¶](#change-e31793af1ffe0503ed92f4a18d66ec82)

-   **[orm]**query.order\_by() accepts None which will remove any
    pending order\_by state from the query, as well as cancel out any
    mapper/relation configured ordering.
    è¿™å¯¹äºé‡å†™åœ¨dynamic\_loader()ä¸­æŒ‡å®šçš„é¡ºåºå¾ˆæœ‰ç”¨ã€‚[Â¶](#change-06ef25b63d4278d910e873a167d4ce8a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1079](http://www.sqlalchemy.org/trac/ticket/1079)

-   **[orm]**Exceptions raised during compile\_mappers() are now
    preserved to provide â€œsticky behaviorâ€ - if a hasattr() call on a
    pre-compiled mapped attribute triggers a failing compile and
    suppresses the exception, subsequent compilation is blocked and the
    exception will be reiterated on the next compile() call.
    å½“ä½¿ç”¨å£°æ˜æ—¶ï¼Œè¿™ä¸ªé—®é¢˜ç»å¸¸å‘ç”Ÿã€‚[Â¶](#change-02567c4d2f0747eb216a42367bcec8c7)

-   **[orm]**property.of\_type() is now recognized on a single-table
    inheriting target, when used in the context of
    prop.of\_type(..).any()/has(), as well as
    query.join(prop.of\_type(...)).[Â¶](#change-a84f7f35a63cff6eef0ed8514b84e187)

-   **[orm]**query.join() raises an error when the target of the join
    doesnâ€™t match the property-based attribute - while itâ€™s unlikely
    anyone is doing this, the SQLAlchemy author was guilty of this
    particular loosey-goosey
    behavior.[Â¶](#change-2440c5dcd446cdd0047720b5de4cffa5)

-   **[orm]**Fixed bug when using weak\_instance\_map=False where
    modified events would not be intercepted for a
    flush().[Â¶](#change-079005f18e95c701b36d4bbb9dbc1224)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1272](http://www.sqlalchemy.org/trac/ticket/1272)

-   **[orm]**Fixed some deep â€œcolumn correspondenceâ€ issues which could
    impact a Query made against a selectable containing multiple
    versions of the same table, as well as unions and similar which
    contained the same table columns in different column positions at
    different levels.[Â¶](#change-493f00822d5a6a6c58ff9b68a83154e9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1268](http://www.sqlalchemy.org/trac/ticket/1268)

-   **[orm]**Custom comparator classes used in conjunction with
    column\_property(), relation() etc.
    å¯ä»¥åœ¨æ¯”è¾ƒå™¨ä¸Šå®šä¹‰æ–°çš„æ¯”è¾ƒæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†é€šè¿‡InstrumentedAttributeä¸Šçš„\_\_getattr
    \_\_()å˜ä¸ºå¯ç”¨ã€‚å¯¹äºåŒä¹‰è¯()æˆ–å¯æ¯”è¾ƒå±æ€§()è€Œè¨€ï¼Œé¦–å…ˆåœ¨ç”¨æˆ·å®šä¹‰çš„æè¿°ç¬¦ä¸Šè§£æå±æ€§ï¼Œç„¶ååœ¨ç”¨æˆ·å®šä¹‰çš„æ¯”è¾ƒå™¨ä¸Šè§£æå±æ€§ã€‚[Â¶](#change-5fb674658bd173367fadd8284d26c377)

-   **[orm]**æ–°å¢äº†ScopedSession.is\_activeè®¿é—®è€…ã€‚[Â¶](#change-6421b8358dfa43d30aa98dd6a905645a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ976](http://www.sqlalchemy.org/trac/ticket/976)

-   **[orm]**å¯ä»¥å°†æ˜ å°„çš„å±æ€§å’Œåˆ—å¯¹è±¡ä½œä¸ºé”®ä¼ é€’ç»™query.updateï¼ˆ{}ï¼‰ã€‚[Â¶](#change-aaabaeccae30500a5e174c86899db3d5)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1262](http://www.sqlalchemy.org/trac/ticket/1262)

-   ä¼ é€’ç»™è¡¨è¾¾å¼level()æˆ–update()çš„values()çš„æ˜ å°„å±æ€§å°†ä½¿ç”¨æ˜ å°„åˆ—çš„é”®ï¼Œè€Œä¸æ˜¯æ˜ å°„å±æ€§çš„é”®ã€‚[**[orm]**](#change-2176eccd58bfc9b9738a8f634805d5bb)

-   **[orm]**æ›´æ­£äº†Query.delete()å’ŒQuery.update()ä¸ç»‘å®šå‚æ•°æ— æ³•æ­£å¸¸å·¥ä½œçš„é—®é¢˜ã€‚[Â¶](#change-4249b9419e01bc5e574864acd9dbd888)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1242](http://www.sqlalchemy.org/trac/ticket/1242)

-   **[orm]**
    Query.select\_from()ï¼Œfrom\_statement()ç¡®ä¿ç»™å®šçš„å‚æ•°åˆ†åˆ«æ˜¯FromClauseæˆ–Text
    / Select / Unionã€‚[Â¶](#change-48951eb96c4072874e12e9ef16b39e5c)

-   **[orm]**Query() can be passed a â€œcompositeâ€ attribute as a column
    expression and it will be expanded.
    æœ‰äº›ä¸ã€‚[Â¶](#change-5597bdb333fa372d5420afd158bd3093)æœ‰å…³

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1253](http://www.sqlalchemy.org/trac/ticket/1253)

-   **[orm]**Query() is a little more robust when passed various column
    expressions such as strings, clauselists, text() constructs (which
    may mean it just raises an error more
    nicely).[Â¶](#change-d4125ce6dd00535ad9a7f23d71090246)

-   **[orm]**first() works as expected with
    Query.from\_statement().[Â¶](#change-e33b3858481eec706f4b5413f82ce074)

-   **[orm]**Fixed bug introduced in 0.5rc4 involving eager loading not
    functioning for properties which were added to a mapper post-compile
    using add\_property() or
    equivalent.[Â¶](#change-70b5b219f4a11d42cf210ae6ae0d83d3)

-   **[orm]**Fixed bug where many-to-many relation() with viewonly=True
    would not correctly reference the link between
    secondary-\>remote.[Â¶](#change-2ccb0c45c759877b42064d76bf99bcf7)

-   **[orm]**Duplicate items in a list-based collection will be
    maintained when issuing INSERTs to a â€œsecondaryâ€ table in a
    many-to-many relation.
    å‡è®¾m2mè¡¨å…·æœ‰å”¯ä¸€æˆ–ä¸»é”®çº¦æŸï¼Œè¿™å°†å¼•å‘é¢„æœŸçš„çº¦æŸè¿è§„ï¼Œè€Œä¸æ˜¯æ‚„æ‚„åœ°ä¸¢å¼ƒé‡å¤çš„æ¡ç›®ã€‚è¯·æ³¨æ„ï¼Œæ—§è¡Œä¸ºä»ç„¶æ˜¯ä¸€å¯¹å¤šå…³ç³»ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”¶é›†æ¡ç›®ä¸ä¼šå¯¼è‡´INSERTè¯­å¥ï¼Œå¹¶ä¸”SQLAä¸ä¼šæ‰‹åŠ¨ç®¡ç†é›†åˆã€‚[Â¶](#change-1a61f53a8bf148ab3f8311330af61a4e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1232](http://www.sqlalchemy.org/trac/ticket/1232)

-   **[orm]**Query.add\_column() can accept FromClause objects in the
    same manner as session.query()
    can.[Â¶](#change-446311bba6705a3c6633528ee49a0946)

-   **[orm]**ä¸NULLçš„å¤šå¯¹ä¸€å…³ç³»çš„æ¯”è¾ƒæ ¹æ®not
    \_()ã€‚[Â¶](#change-aaa084b509a29822e580970c9ed27105)æ­£ç¡®è½¬æ¢ä¸ºIS NOT
    NULLã€‚

-   **[orm]**ä¸ºäº†ç¡®ä¿æ˜¾å¼çš„primaryjoin /
    secondaryjoinæ˜¯ClauseElementå®ä¾‹ï¼Œæ·»åŠ é¢å¤–çš„æ£€æŸ¥ä»¥é˜²æ­¢ä»¥åå‡ºç°æ›´å¤šæ··æ·†é”™è¯¯ã€‚[Â¶](#change-19b4a3d892b5556548dee40f3e860baf)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1087](http://www.sqlalchemy.org/trac/ticket/1087)

-   **[orm]**æ”¹è¿›äº†mapper()æ£€æŸ¥éç±»çš„ç±»ã€‚[Â¶](#change-e8d33d06a02c7657be959fbfa2fe38a6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1236](http://www.sqlalchemy.org/trac/ticket/1236)

-   **[orm]**comparator\_factory argument is now documented and
    supported by all MapperProperty types, including column\_property(),
    relation(), backref(), and
    synonym().[Â¶](#change-e7e5aec7031582afa528f11773cbabef)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ5051](http://www.sqlalchemy.org/trac/ticket/5051)

-   **[orm]**å°†PropertyLoaderçš„åç§°æ›´æ”¹ä¸ºRelationPropertyï¼Œä»¥ä¸æ‰€æœ‰å…¶ä»–åç§°ä¿æŒä¸€è‡´ã€‚PropertyLoaderä»ç„¶æ˜¯ä¸€ä¸ªåŒä¹‰è¯ã€‚[Â¶](#change-d186907ddc6b3f823c7b0bc6fb4d8b02)

-   **[orm]**ä¿®å¤äº†åœ¨åˆ†ç‰‡APIä¸­å¯¼è‡´æ€»çº¿é”™è¯¯çš„â€œdouble
    iter()â€è°ƒç”¨ï¼Œä»0.4ç‰ˆæœ¬ä¸­åˆ é™¤äº†é”™è¯¯çš„result.close()ã€‚[Â¶](#change-9baac05bdfa8c85bd5e3615095d36406)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1099](http://www.sqlalchemy.org/trac/ticket/1099)ï¼Œ[ï¼ƒ1228](http://www.sqlalchemy.org/trac/ticket/1228)

-   **[orm]**ä½¿Session.mergeçº§è”ä¸ä¼šè§¦å‘autoflushã€‚ä¿®å¤äº†è¿‡æ—©æ’å…¥ç¼ºå¤±å€¼çš„åˆå¹¶å®ä¾‹ã€‚[Â¶](#change-5e2248787d968939e4e9d2f8e559e18b)

-   **[orm]**Two fixes to help prevent out-of-band columns from being
    rendered in polymorphic\_union inheritance scenarios (which then
    causes extra tables to be rendered in the FROM clause causing
    cartesian products):

    > -   å¯¹a-\> b-\>
    >     cç»§æ‰¿æƒ…å†µçš„â€œåˆ—è‡ªé€‚åº”â€æ”¹è¿›å¯ä»¥æ›´å¥½åœ°å®šä½é€šè¿‡å¤šä¸ªé—´æ¥çº§åˆ«ç›¸äº’å…³è”çš„åˆ—ï¼Œè€Œä¸æ˜¯æ¸²æŸ“æœªç»è¿‡ä¿®æ”¹çš„åˆ—ã€‚
    > -   â€œå¤šæ€é‰´åˆ«å™¨â€åˆ—ä»…é’ˆå¯¹æ­£åœ¨æŸ¥è¯¢çš„å®é™…æ˜ å°„å™¨å‘ˆç°ã€‚è¯¥åˆ—ä¸ä¼šä»å­ç±»æˆ–è¶…ç±»æ˜ å°„å™¨â€œæ‹‰å…¥â€ï¼Œå› ä¸ºå®ƒä¸æ˜¯å¿…éœ€çš„ã€‚

    [Â¶](#change-6555cfb0451b569305186ee8a0689589)

-   **[orm]**ä¿®å¤äº†ShardedSession.execute()ä¸­çš„shard\_idå‚æ•°ã€‚[Â¶](#change-66fe0a8f3b46c831a3b3b83a3f3de315)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1072](http://www.sqlalchemy.org/trac/ticket/1072)

### SQL [Â¶ T0\>](#change-0.5.0-sql "Permalink to this headline")

-   **[sql]**RowProxy objects can be used in place of dictionary
    arguments sent to connection.execute() and
    friends.[Â¶](#change-5a0b923b1b514ed25e1500aca2106047)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ935](http://www.sqlalchemy.org/trac/ticket/935)

-   **[sql]**åˆ—å¯ä»¥åœ¨å…¶åç§°ä¸­å†æ¬¡åŒ…å«ç™¾åˆ†å·ã€‚[Â¶](#change-719d0771fac124ea77465775b701b8c5)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1256](http://www.sqlalchemy.org/trac/ticket/1256)

-   **[sql]**sqlalchemy.sql.expression.Function is now a public class.
    å®ƒå¯ä»¥æŒ‰ç…§å¼ºåˆ¶é£æ ¼æä¾›ç”¨æˆ·å®šä¹‰çš„SQLå‡½æ•°ï¼ŒåŒ…æ‹¬é¢„å…ˆå»ºç«‹çš„è¡Œä¸ºã€‚postgis.pyä¾‹å­è¯´æ˜äº†è¿™ç§ç”¨æ³•ã€‚[Â¶](#change-af7e9ecbc72bdb194a01c553c0e3aaaf)

-   **[sql]**PickleType now favors == comparison by default, if the
    incoming object (such as a dict) implements \_\_eq\_\_().
    å¦‚æœå¯¹è±¡æ²¡æœ‰å®ç°\_\_eq \_\_()å’Œmutable =
    Trueï¼Œåˆ™ä¼šå¼•å‘å¼ƒç”¨è­¦å‘Šã€‚[Â¶](#change-79be4984bd311cf1c3cc7aa0ee2c225b)

-   **[sql]**Fixed the import weirdness in sqlalchemy.sql to not export
    \_\_names\_\_.[Â¶](#change-1c6cd4432680ee3b88d1409ad8a2595a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1215](http://www.sqlalchemy.org/trac/ticket/1215)

-   **[sql]**ä½¿ç”¨ç›¸åŒçš„ForeignKeyå¯¹è±¡ä¼šé‡å¤å¼•å‘é”™è¯¯ï¼Œè€Œä¸ä¼šåœ¨ç¨åä»¥é™é»˜æ–¹å¼å¤±è´¥ã€‚[Â¶](#change-053010ae5db7a1ef1c0cad28255e6e1a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1238](http://www.sqlalchemy.org/trac/ticket/1238)

-   **[sql]**Added NotImplementedError for params() method on
    Insert/Update/Delete constructs.
    è¿™äº›é¡¹ç›®ç›®å‰ä¸æ”¯æŒè¿™ç§åŠŸèƒ½ï¼Œä¸values()ç›¸æ¯”ï¼Œè¿™ä¹Ÿæœ‰ç‚¹è¯¯å¯¼ã€‚[Â¶](#change-b7deff0590fd52cd195b8b32345f2fe9)

-   **[sql]**Reflected foreign keys will properly locate their
    referenced column, even if the column was given a â€œkeyâ€ attribute
    different from the reflected name.
    è¿™æ˜¯é€šè¿‡ä¸€ä¸ªåä¸ºâ€œlink\_to\_nameâ€çš„ForeignKey /
    ForeignKeyConstraintä¸Šçš„æ–°æ ‡å¿—å®ç°çš„ï¼Œå¦‚æœTrueè¡¨ç¤ºç»™å®šçš„åç§°æ˜¯å¼•ç”¨åˆ—çš„åç§°ï¼Œè€Œä¸æ˜¯å…¶åˆ†é…çš„é”®ã€‚[Â¶](#change-a1565732582db1a51b3aab75c0add31e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ650](http://www.sqlalchemy.org/trac/ticket/650)

-   **[sql]**select() can accept a ClauseList as a column in the same
    way as a Table or other selectable and the interior expressions will
    be used as column
    elements.[Â¶](#change-0293ff97680a8f6fbee7f294e134068e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1253](http://www.sqlalchemy.org/trac/ticket/1253)

-   **[sql]**the â€œpassiveâ€ flag on session.is\_modified() is correctly
    propagated to the attribute
    manager.[Â¶](#change-7f4d1737378bcea5c89e3882a6828ae0)

-   **[sql]**union() and union\_all() will not whack any order\_by()
    that has been applied to the select()s inside.
    å¦‚æœä½ union()ä¸€ä¸ªselect()å’Œorder\_by()ï¼ˆå¤§æ¦‚æ”¯æŒLIMIT /
    OFFSETï¼‰ï¼Œä½ è¿˜åº”è¯¥è°ƒç”¨self\_group()æ¥åº”ç”¨æ‹¬å·ã€‚[Â¶](#change-9aeae9fe877bc5208fc96c2c0187ce15)

### MySQLçš„[Â¶ T0\>](#change-0.5.0-mysql "Permalink to this headline")

-   **[mysql]**
    text()æ„é€ ä¸­çš„â€œï¼…â€ç¬¦å·ä¼šè‡ªåŠ¨è½¬ä¹‰ä¸ºâ€œ%%â€ã€‚ç”±äºè¿™ç§å˜åŒ–çš„åå‘ä¸å…¼å®¹æ€§ï¼Œå¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ£€æµ‹åˆ°'%%'ï¼Œåˆ™ä¼šå‘å‡ºè­¦å‘Šã€‚[Â¶](#change-8658ecc046653e3b8297dd6a91e62d3c)

-   **[mysql]**ä¿®æ­£åœ¨åå°„æœŸé—´FKåˆ—ä¸å­˜åœ¨æ—¶å¼‚å¸¸å¼•å‘çš„é—®é¢˜ã€‚[Â¶](#change-dc5635e0b09e6d0ef90551f1458bfa1f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1241](http://www.sqlalchemy.org/trac/ticket/1241)

-   **[mysql]**ä¿®æ­£äº†æ¶‰åŠå°†è¿œç¨‹æ¨¡å¼è¡¨ä¸å¤–é”®å¼•ç”¨åæ˜ åˆ°è¯¥æ¨¡å¼ä¸­çš„å¦ä¸€ä¸ªè¡¨çš„é—®é¢˜ã€‚[Â¶](#change-26f82549faec2086390040b56ed67f52)

### æºç [Â¶ T0\>](#change-0.5.0-sqlite "Permalink to this headline")

-   **[sqlite]**è¡¨åå°„ç°åœ¨å­˜å‚¨åˆ—çš„å®é™…DefaultClauseå€¼ã€‚[Â¶](#change-84584072c8de1c3fe482627927fd714f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1266](http://www.sqlalchemy.org/trac/ticket/1266)

-   **[sqlite]**é”™è¯¯ä¿®æ­£ï¼Œè¡Œä¸ºæ”¹å˜[Â¶](#change-93d4830182415e1331aeea24907c3080)

### MSSQL [Â¶ T0\>](#change-0.5.0-mssql "Permalink to this headline")

-   **[mssql]**æ–°å¢äº†ä¸€ä¸ªæ–°çš„MSGenericBinaryç±»å‹ã€‚è¿™æ˜ å°„åˆ°äºŒè¿›åˆ¶ç±»å‹ï¼Œå› æ­¤å®ƒå¯ä»¥å®ç°å°†é•¿åº¦æŒ‡å®šç±»å‹è§†ä¸ºå›ºå®šå®½åº¦äºŒè¿›åˆ¶ç±»å‹å’Œéé•¿åº¦ç±»å‹ä½œä¸ºæœªç»‘å®šå˜é‡é•¿åº¦äºŒè¿›åˆ¶ç±»å‹çš„ç‰¹å®šè¡Œä¸ºã€‚[Â¶](#change-c8d0719e80c9b09957d73e77785af6bd)

-   **[mssql]**æ·»åŠ æ–°ç±»å‹ï¼šMSVarBinaryå’ŒMSImage
    [Â¶](#change-8f66fc574e3c160f44588cf02ca284e3)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1249](http://www.sqlalchemy.org/trac/ticket/1249)

-   **[mssql]**Added in the MSReal, MSNText, MSSmallDateTime, MSTime,
    MSDateTimeOffset, and MSDateTime2
    types[Â¶](#change-5c00e393c842b417f4285b3a178aadcb)

-   **[mssql]**é‡æ„æ—¥æœŸ/æ—¶é—´ç±»å‹ã€‚`smalldatetime`æ•°æ®ç±»å‹ä¸å†ä»…æˆªæ–­ä¸ºæ—¥æœŸï¼Œç°åœ¨å°†æ˜ å°„åˆ°MSSmallDateTimeç±»å‹ã€‚[Â¶](#change-b759863e8434ae6cea17a2115098b806)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1254](http://www.sqlalchemy.org/trac/ticket/1254)

-   **[mssql]**æ›´æ­£äº†Numericsæ¥å—intçš„é—®é¢˜ã€‚[Â¶](#change-7ad24f536d7b91e2dd7a3b2b99a19727)

-   **[mssql]**å°†`char_length`æ˜ å°„åˆ°`LEN()`å‡½æ•°ã€‚[Â¶](#change-75b12696700d5e57f4fe29cdbc7ec8ac)

-   **[mssql]**If an `INSERT` includes a subselect
    the `INSERT` is converted from an
    `INSERT INTO VALUES` construct to a
    `INSERT INTO SELECT`
    construct.[Â¶](#change-ec975da215d6fde5f163e8a064cd4591)

-   **[mssql]**å¦‚æœè¯¥åˆ—æ˜¯`primary_key`çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå°†æ˜¯`NOT NULL  t4 >å› ä¸ºMSSQLåœ¨primary_keyåˆ—ä¸­ä¸å…è®¸NULL`ã€‚[Â¶](#change-eaa3b35c76afd357117e3d0dd780ae3f)

-   **[mssql]**`MSBinary` now returns a
    `BINARY` instead of an `IMAGE`. è¿™æ˜¯ä¸€ä¸ªå‘åä¸å…¼å®¹çš„å˜åŒ–ï¼Œå› ä¸º`BINARY`æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°æ®ç±»å‹ï¼Œè€Œ`IMAGE`æ˜¯ä¸€ä¸ªå¯å˜é•¿åº¦æ•°æ®ç±»å‹[Â¶](#change-b986d7aae928f54f9c93125d11c52073)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1249](http://www.sqlalchemy.org/trac/ticket/1249)

-   **[mssql]** `get_default_schema_name`ç°åœ¨åŸºäºç”¨æˆ·çš„é»˜è®¤æ¨¡å¼ä»æ•°æ®åº“åæ˜ å‡ºæ¥ã€‚è¿™åªé€‚ç”¨äºMSSQL
    2005åŠæ›´é«˜ç‰ˆæœ¬ã€‚[Â¶](#change-804ce8c8340ab54b256a14785ec30540)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1258](http://www.sqlalchemy.org/trac/ticket/1258)

-   **[mssql]**é€šè¿‡ä½¿ç”¨æ–°çš„æ’åºè§„åˆ™å‚æ•°å¢åŠ æ’åºè§„åˆ™æ”¯æŒã€‚è¿™åœ¨ä»¥ä¸‹ç±»å‹ä¸­å—æ”¯æŒï¼šcharï¼Œncharï¼Œvarcharï¼Œnvarcharï¼Œtextï¼Œntextã€‚[Â¶](#change-bb18e5b89f2406099a7534d51e13fa2f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1248](http://www.sqlalchemy.org/trac/ticket/1248)

-   **[mssql]**å¯¹è¿æ¥å­—ç¬¦ä¸²å‚æ•°çš„æ›´æ”¹æœ‰åˆ©äºDSNä½œä¸ºpyodbcçš„é»˜è®¤è§„èŒƒã€‚æœ‰å…³è¯¦ç»†çš„ç”¨æ³•è¯´æ˜ï¼Œè¯·å‚é˜…mssql.py
    docstringã€‚[Â¶](#change-a286cda677ccfa3f76731e7a3199818b)

-   **[mssql]**å¢åŠ äº†ä¿å­˜ç‚¹çš„å®éªŒæ€§æ”¯æŒã€‚å®ƒç›®å‰ä¸èƒ½å®Œå…¨ç”¨äºä¼šè¯ã€‚[Â¶](#change-4c4a5e9e4b9c08f355846e1f696f9a30)

-   **[mssql]**æ”¯æŒä¸‰ä¸ªåˆ—å¯ç©ºæ€§çº§åˆ«ï¼šNULLï¼ŒNOT
    NULLå’Œæ•°æ®åº“é…ç½®çš„é»˜è®¤å€¼ã€‚é»˜è®¤çš„Columné…ç½®ï¼ˆnullable =
    Trueï¼‰ç°åœ¨å°†åœ¨DDLä¸­ç”ŸæˆNULLã€‚ä»¥å‰æ²¡æœ‰å‘å¸ƒè§„èŒƒï¼Œæ•°æ®åº“é»˜è®¤ä¼šç”Ÿæ•ˆï¼ˆé€šå¸¸æ˜¯NULLï¼Œä½†å¹¶ä¸æ€»æ˜¯ï¼‰ã€‚è¦æ˜¾å¼è¯·æ±‚æ•°æ®åº“ç¼ºçœå€¼ï¼Œè¯·é…ç½®nullable
    =
    Noneçš„åˆ—ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨DDLä¸­å‘å‡ºè§„èŒƒã€‚è¿™æ˜¯å‘åä¸å…¼å®¹çš„è¡Œä¸ºã€‚[Â¶](#change-149c046864d1ddbacc3fd459c9370503)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1243](http://www.sqlalchemy.org/trac/ticket/1243)

### é¢„è¨€[Â¶ T0\>](#change-0.5.0-oracle "Permalink to this headline")

-   **[oracle]**è°ƒæ•´create\_xid()çš„æ ¼å¼æ¥ä¿®å¤ä¸¤é˜¶æ®µæäº¤ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»æœ‰Oracleä¸¤é˜¶æ®µæäº¤çš„ç°åœºæŠ¥å‘Šï¼Œå¯ä»¥æ­£ç¡®å¤„ç†è¿™ç§å˜åŒ–ã€‚[Â¶](#change-a43e314d4f2cf68b62002484aaf006e4)

-   **[oracle]**æ·»åŠ äº†OracleNVarcharç±»å‹ï¼Œç”Ÿæˆäº†NVARCHAR2ï¼Œå¹¶ä¸”è¿˜ä½¿ç”¨äº†Unicodeçš„å­ç±»ï¼Œä»¥ä¾¿é»˜è®¤æƒ…å†µä¸‹convert\_unicode
    =
    Trueã€‚NVARCHAR2ä¼šè‡ªåŠ¨åæ˜ åˆ°è¿™ç§ç±»å‹ä¸­ï¼Œæ‰€ä»¥è¿™äº›åˆ—åœ¨åå°„è¡¨ä¸Šä¼ é€’unicodeï¼Œæ²¡æœ‰æ˜¾å¼çš„convert\_unicode
    = Trueæ ‡å¿—ã€‚[Â¶](#change-03197feb9b2b7658cf40cfe853e5f05c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1233](http://www.sqlalchemy.org/trac/ticket/1233)

-   **[oracle]**ä¿®æ­£äº†é˜²æ­¢æ¥æ”¶æŸäº›ç±»å‹çš„å‚æ•°çš„é”™è¯¯ï¼›éå¸¸æ„Ÿè°¢wwu.edu
    huddlejï¼[Â¶](#change-b72444e553b994170040c0428fbf65d0)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1265](http://www.sqlalchemy.org/trac/ticket/1265)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0-misc "Permalink to this headline")

-   **[dialect]**åœ¨å¤„ç†å…ƒæ•°æ®æ—¶ç”¨äºç¼–ç åˆ—åç§°çš„æ–¹è¨€ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„description\_encodingå±æ€§ã€‚è¿™é€šå¸¸é»˜è®¤ä¸ºutf-8.
    [Â¶](#change-da970a157a1834cd79c819f5c3f2540d)

-   **[engine/pool]**
    Connection.invalidate()æ£€æŸ¥å…³é—­çŠ¶æ€ä»¥é¿å…å±æ€§é”™è¯¯ã€‚[Â¶](#change-5e7ce396d34dc5ae7ad3f1cb8b384593)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1246](http://www.sqlalchemy.org/trac/ticket/1246)

-   **[engine/pool]**
    NullPoolæ”¯æŒåœ¨å¤±è´¥è¡Œä¸ºä¸­é‡æ–°è¿æ¥ã€‚[Â¶](#change-bc7d2b0fc90717fe3325c56e15f4283d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1094](http://www.sqlalchemy.org/trac/ticket/1094)

-   **[engine/pool]**ä½¿ç”¨pool.manageï¼ˆdbapiï¼‰æ—¶ï¼Œä¸ºåˆå§‹æ± åˆ›å»ºæ·»åŠ äº†äº’æ–¥é”ã€‚è¿™å¯ä»¥é˜²æ­¢è½»å¾®çš„â€œç¬¨è›‹â€è¡Œä¸ºï¼Œå¦åˆ™ä¼šåœ¨é‡è½½å¯åŠ¨æ—¶å‘ç”Ÿã€‚[Â¶](#change-75ce0f6341ffdfdd61a122e4b20f355b)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ799](http://www.sqlalchemy.org/trac/ticket/799)

-   **[engine/pool]**
    \_execute\_clauseelement()è¿”å›ä¸ºç§æœ‰æ–¹æ³•ã€‚åœ¨ConnectionProxyå¯ç”¨çš„æƒ…å†µä¸‹ï¼Œå­ç±»åŒ–Connectionä¸æ˜¯å¿…éœ€çš„ã€‚[Â¶](#change-0b049b47c08c88cb2921ec8fa213c7dd)

-   **[documentation]**
    Ticketsã€‚[Â¶](#change-8627c67839907a4a8ac4b47976556828)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1149](http://www.sqlalchemy.org/trac/ticket/1149)ï¼Œ[ï¼ƒ1200](http://www.sqlalchemy.org/trac/ticket/1200)

-   **[documentation]**æ·»åŠ å…³äºcreate\_session()çš„æ³¨é‡Šé»˜è®¤å€¼ã€‚[Â¶](#change-e55294d74e10af807807f871712b0880)

-   **[documentation]**æ·»åŠ äº†æœ‰å…³metadata.reflect()çš„éƒ¨åˆ†ã€‚[Â¶](#change-270e327e2fc5e5129363645f1bbf17a9)

-   **[documentation]**å·²æ›´æ–°TypeDecoratoréƒ¨åˆ†ã€‚[Â¶](#change-5fd98e9cb67ac4d2452ca17a5cb7d03f)

-   **[documentation]**ç”±äºæœ€è¿‘å¯¹æ­¤åŠŸèƒ½çš„æ··æ·†ï¼Œé‡å†™äº†æ–‡æ¡£çš„â€œthreadlocalâ€ç­–ç•¥éƒ¨åˆ†ã€‚[Â¶](#change-bc0ede0d6a7a62f229788a0cc644a33b)

-   **[documentation]**ä»ç»§æ‰¿ä¸­åˆ é™¤äº†è¿‡æœŸçš„'polymorphic\_fetch'å’Œ'select\_table'æ–‡æ¡£ï¼Œé‡å†™äº†â€œè¿æ¥è¡¨ç»§æ‰¿â€çš„ååŠéƒ¨åˆ†ã€‚[Â¶](#change-6f07fa2dced69d5f8b9840955c2152b6)

-   **[documentation]**è®°å½•äº†comparator\_factory
    kwargï¼Œå¢åŠ äº†æ–°çš„docéƒ¨åˆ†â€œCustom
    Comparatorsâ€ã€‚[Â¶](#change-38b473492814598fc57602ec7a2e240a)

-   **[postgres]**
    text()æ„é€ ä¸­çš„â€œï¼…â€ç¬¦å·ä¼šè‡ªåŠ¨è½¬ä¹‰ä¸ºâ€œ%%â€ã€‚ç”±äºè¿™ç§å˜åŒ–çš„åå‘ä¸å…¼å®¹æ€§ï¼Œå¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ£€æµ‹åˆ°'%%'ï¼Œåˆ™ä¼šå‘å‡ºè­¦å‘Šã€‚[Â¶](#change-8658ecc046653e3b8297dd6a91e62d3c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1267](http://www.sqlalchemy.org/trac/ticket/1267)

-   **[postgres]**ä¸server\_side\_cursorsä¸€èµ·è°ƒç”¨alias.execute()ä¸ä¼šå¼•å‘AttributeErrorã€‚[Â¶](#change-4632b52224527c408a498d9cd920b87f)

-   **[postgres]**å¢åŠ äº†å¯¹PostgreSQLçš„ç´¢å¼•åå°„æ”¯æŒï¼Œä½¿ç”¨äº†ç”±Ken
    Kuhlmanæäº¤çš„ä¸€ä¸ªé•¿æœŸè¢«å¿½ç•¥çš„ä¼˜ç§€è¡¥ä¸ã€‚[Â¶](#change-7f7eca144e08cf2cfce5a0ea42a49236)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ714](http://www.sqlalchemy.org/trac/ticket/714)

-   **[associationproxy]**å…³è”ä»£ç†å±æ€§å¯ä»¥åœ¨è¯¾ç¨‹çº§åˆ«è‡ªè¡Œæä¾›ï¼Œä¾‹å¦‚ï¼Œ
    MyClass.aproxyã€‚ä»¥å‰è¿™ä¸ªè¯„ä¼°ä¸ºNoneã€‚[Â¶](#change-5b9a3396875da1271c6cb891adaaaa46)

-   **[declarative]**ç”±backref()æ¥å—ä¸ºå­—ç¬¦ä¸²çš„å®Œæ•´å‚æ•°åˆ—è¡¨åŒ…æ‹¬'primaryjoin'ï¼Œ'secondaryjoin'ï¼Œ'secondary'ï¼Œ'foreign\_keys'ï¼Œ'remote\_side'ï¼Œ'order\_by'ã€‚[Â¶
    T2\>](#change-33380ccfcfce84e083d372599c2b9832)

0.5.0rc4 [Â¶ T0\>](#change-0.5.0rc4 "Permalink to this headline")
----------------------------------------------------------------

å‘å¸ƒæ—¶é—´ï¼š2008å¹´11æœˆ14æ—¥

### ä¸€èˆ¬[Â¶ T0\>](#change-0.5.0rc4-general "Permalink to this headline")

-   **[general]**å…¨å±€â€œpropigateâ€ -
    \>â€œä¼ æ’­â€æ›´æ”¹[Â¶](#change-8a6aec8fb7018c963d0184c84264d310)

### ORM [Â¶ T0\>](#change-0.5.0rc4-orm "Permalink to this headline")

-   **[orm]**Query.count() has been enhanced to do the â€œright thingâ€ in
    a wider variety of cases.
    å®ƒç°åœ¨å¯ä»¥è®¡ç®—å¤šå®ä½“æŸ¥è¯¢ä»¥åŠåŸºäºåˆ—çš„æŸ¥è¯¢ã€‚è¯·æ³¨æ„ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨åœ¨æ²¡æœ‰ä»»ä½•åŠ å…¥æ ‡å‡†çš„æƒ…å†µä¸‹æŸ¥è¯¢ï¼ˆAï¼ŒBï¼‰.count()ï¼Œå®ƒå°†è®¡ç®—A
    \* Bçš„ç¬›å¡å°”ä¹˜ç§¯ã€‚ä»»ä½•é’ˆå¯¹åŸºäºåˆ—çš„å®ä½“çš„æŸ¥è¯¢éƒ½ä¼šè‡ªåŠ¨å‘å‡ºâ€œSELECT
    countï¼ˆ1ï¼‰FROMï¼ˆSELECT
    ...ï¼‰â€ï¼Œä»¥ä¾¿è¿”å›çœŸå®çš„è¡Œè®¡æ•°ï¼Œå³queryï¼ˆfunc.countï¼ˆA.nameï¼‰ï¼‰ä¹‹ç±»çš„æŸ¥è¯¢ã€‚
    .count()å°†è¿”å›ä¸€ä¸ªå€¼ï¼Œå› ä¸ºè¯¥æŸ¥è¯¢å°†è¿”å›ä¸€è¡Œã€‚[Â¶](#change-e706abaafd4163571c3b5fcd73799ba3)

-   **[orm]**å¾ˆå¤šæ€§èƒ½è°ƒæ•´ã€‚å¯¹å„ç§ORMæ“ä½œçš„ç²—ç•¥çŒœæµ‹ä½¿å…¶æ¯”0.5.0rc3å¿«10ï¼…ï¼Œæ¯”0.4.8é«˜25-30ï¼…ã€‚[Â¶](#change-849958bf53fe31d2e33d918bdfd33bdd)

-   **[orm]**é”™è¯¯ä¿®æ­£å’Œè¡Œä¸ºæ”¹å˜[Â¶](#change-999726fd1a9b23baf51053bd59286402)

-   **[orm]**è°ƒæ•´InstanceStateä¸Šå¢å¼ºçš„åƒåœ¾æ”¶é›†ï¼Œä»¥æ›´å¥½åœ°é˜²æ­¢ç”±äºçŠ¶æ€ä¸¢å¤±å¯¼è‡´çš„é”™è¯¯ã€‚[Â¶](#change-89395a39a61e30e16768f166ecf74f13)

-   **[orm]**å½“é’ˆå¯¹å¤šä¸ªå®ä½“æ‰§è¡Œæ—¶ï¼ŒQuery.get()è¿”å›æ›´å¤šä¿¡æ¯é”™è¯¯æ¶ˆæ¯ã€‚[Â¶](#change-f42b51bc7c7c3769ecbdf41f431dd6e7)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1220](http://www.sqlalchemy.org/trac/ticket/1220)

-   **[orm]**åœ¨Cls.relation.inä¸­æ¢å¤NotImplementedError
    \_()[Â¶](#change-ab894d2d68d342df5dc9eeb9cbd09b0c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1140](http://www.sqlalchemy.org/trac/ticket/1140)ï¼Œ[ï¼ƒ1221](http://www.sqlalchemy.org/trac/ticket/1221)

-   **[orm]**å›ºå®šPendingDeprecationWarningæ¶‰åŠrelation()ä¸­çš„order\_byå‚æ•°ã€‚[Â¶](#change-22fe0443a88de30a1342a3a099b22329)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1226](http://www.sqlalchemy.org/trac/ticket/1226)

### SQL [Â¶ T0\>](#change-0.5.0rc4-sql "Permalink to this headline")

-   **[sql]**åˆ é™¤Connectionå¯¹è±¡çš„'properties'å±æ€§ï¼Œåº”è¯¥ä½¿ç”¨Connection.infoã€‚[Â¶](#change-5224b4a3507abcf1fe778389eaf02902)

-   **[sql]**Restored â€œactive rowcountâ€ fetch before ResultProxy
    autocloses the cursor.
    è¿™åœ¨0.5rc3ä¸­è¢«åˆ é™¤ã€‚[Â¶](#change-6f2b6ddaa306d06266d2c436ea5ca0e9)

-   **[sql]**Rearranged the load\_dialect\_impl() method in
    TypeDecorator such that it will take effect even if the user-defined
    TypeDecorator uses another TypeDecorator as its
    impl.[Â¶](#change-6ef99ec88220d96a834e5814ff6f2d2f)

### MSSQL [Â¶ T0\>](#change-0.5.0rc4-mssql "Permalink to this headline")

-   **[mssql]**å¤§é‡çš„æ¸…ç†å’Œä¿®å¤æ¥çº æ­£æé™å’Œåç§»é—®é¢˜[Â¶](#change-02d361683d4caaf79aca978254b4d825)

-   **[mssql]**éœ€è¦å°†å­æŸ¥è¯¢ä½œä¸ºäºŒè¿›åˆ¶è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†è½¬æ¢ä¸ºä½¿ç”¨INå’ŒNOT
    INè¯­æ³•çš„æ­£ç¡®æƒ…å†µã€‚[Â¶](#change-614a34b39f33b0ee777ad0be205f9d25)

-   **[mssql]**å›ºå®šEç¬¦å·é—®é¢˜ï¼Œé˜»æ­¢æ’å…¥å°äº1E-6çš„åè¿›åˆ¶å€¼çš„èƒ½åŠ›ã€‚[Â¶](#change-c54f50ebca87d4604d60f5e0f79671a9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1216](http://www.sqlalchemy.org/trac/ticket/1216)

-   **[mssql]**æ›´æ­£äº†å¤„ç†æ¨¡å¼æ—¶çš„åå°„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å½“è¿™äº›æ¨¡å¼æ˜¯é»˜è®¤æ¨¡å¼æ—¶ã€‚[Â¶](#change-c306dde89a40d3eb755ee92c176e2071)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1217](http://www.sqlalchemy.org/trac/ticket/1217)

-   **[mssql]**è§£å†³äº†å°†é›¶é•¿åº¦é¡¹ç›®æŠ•å°„åˆ°varcharçš„é—®é¢˜ã€‚ç°åœ¨å®ƒå¯ä»¥æ­£ç¡®è°ƒæ•´CASTã€‚[Â¶](#change-602cb2c9da1ddce66cf973e04b4f44fa)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0rc4-misc "Permalink to this headline")

-   **[access]**å¢åŠ å¯¹è´§å¸ç±»å‹çš„æ”¯æŒã€‚[Â¶](#change-0609f1d794bed5620afd2c5fcfe4485c)

-   **[access]**å‡½æ•°æ²¡æœ‰è¿”å›ç»“æœã€‚[Â¶](#change-4871138a9e4725231382a94cadc641fa)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1017](http://www.sqlalchemy.org/trac/ticket/1017)

-   **[access]**æ›´æ­£è¿æ¥é—®é¢˜ã€‚è®¿é—®åªæ”¯æŒå·¦å¤–éƒ¨æˆ–å†…éƒ¨ï¼Œè€Œä¸ä»…ä»…æ˜¯è‡ªå·±åŠ å…¥ã€‚[Â¶](#change-629213dc9d8caec224eab7efaf0c9e8c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1017](http://www.sqlalchemy.org/trac/ticket/1017)

-   **[ext]**ä½¿ç”¨å£°æ˜å¼æ—¶ï¼Œç°åœ¨å¯ä»¥åœ¨\_\_mapper\_args\_\_ä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„â€œinherit\_conditionâ€ã€‚[Â¶](#change-ead812e3dcdf543e63ae4eb41cb6e786)

-   **[ext]**å›ºå®šçš„åŸºäºå­—ç¬¦ä¸²çš„â€œremote\_sideâ€ï¼Œâ€œorder\_byâ€ç­‰åœ¨backref()ä¸­ä½¿ç”¨æ—¶ä¸èƒ½æ­£ç¡®ä¼ æ’­ã€‚[Â¶](#change-d703da716eeb441018b2fabb134131b1)

0.5.0rc3 [Â¶ T0\>](#change-0.5.0rc3 "Permalink to this headline")
----------------------------------------------------------------

å‘å¸ƒæ—¶é—´ï¼š2008å¹´11æœˆ7æ—¥

### ORM [Â¶ T0\>](#change-0.5.0rc3-orm "Permalink to this headline")

-   **[orm]**ä¸ºSessionExtensionæ·»åŠ äº†ä¸¤ä¸ªæ–°çš„æŒ‚é’©ï¼šafter\_bulk\_delete()å’Œafter\_bulk\_update()ã€‚åœ¨å¯¹æŸ¥è¯¢è¿›è¡Œæ‰¹é‡åˆ é™¤()æ“ä½œåè°ƒç”¨after\_bulk\_delete()ã€‚å¯¹æŸ¥è¯¢è¿›è¡Œæ‰¹é‡æ›´æ–°()æ“ä½œåè°ƒç”¨after\_bulk\_update()ã€‚[Â¶](#change-38a7a9ceedebd3ec3a3cd628c4cbae6c)

-   **[orm]**â€œä¸ç­‰äºâ€ï¼Œç®€å•å¤šå¯¹ä¸€å…³ç³»ä¸å®ä¾‹çš„æ¯”è¾ƒä¸ä¼šè½å…¥EXISTSå­å¥ä¸­ï¼Œè€Œæ˜¯ä¼šæ¯”è¾ƒå¤–é”®åˆ—ã€‚[Â¶](#change-5dc36955ff448a52543110b78b8fb9a8)

-   **[orm]**åˆ é™¤äº†å°†ä¸€ä¸ªé›†åˆä¸ä¸€ä¸ªè¿­ä»£è¿›è¡Œæ¯”è¾ƒçš„éçœŸå®å·¥ä½œç”¨ä¾‹ã€‚ä½¿ç”¨contains()æ¥æµ‹è¯•é›†åˆæˆå‘˜èµ„æ ¼ã€‚[Â¶](#change-bcd58afe9c7ed7adbd952b916c4cd2c3)

-   **[orm]**æ”¹è¿›äº†åˆ«å()å¯¹è±¡çš„è¡Œä¸ºï¼Œä»¥ä¾¿æ›´ç²¾ç¡®åœ°è°ƒæ•´ç”Ÿæˆçš„è¡¨è¾¾å¼ï¼Œè¿™ç‰¹åˆ«æœ‰åŠ©äºè‡ªå¼•ç”¨æ¯”è¾ƒã€‚[Â¶](#change-d85456f650e249dc2dcf7b525c28e126)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1171](http://www.sqlalchemy.org/trac/ticket/1171)

-   **[orm]**Fixed bug involving primaryjoin/secondaryjoin conditions
    constructed from class-bound attributes (as often occurs when using
    declarative), which later would be inappropriately aliased by Query,
    particularly with the various EXISTS based
    comparators.[Â¶](#change-d57fdc182451c7d14e3421d47a7355d7)

-   **[orm]**Fixed bug when using multiple query.join() with an
    aliased-bound descriptor which would lose the left
    alias.[Â¶](#change-3d6adbfb55e19cfd355c9cbb5c452e23)

-   **[orm]**æ”¹è¿›äº†weakrefæ ‡è¯†æ˜ å°„å†…å­˜ç®¡ç†ï¼Œä¸å†éœ€è¦ä½¿ç”¨mutexingï¼Œä¸ºå…·æœ‰æŒ‚èµ·æ›´æ”¹çš„InstanceStateä»¥æƒ°æ€§æ–¹å¼é‡æ–°ç”Ÿæˆåƒåœ¾æ”¶é›†å®ä¾‹ã€‚[Â¶](#change-2fdd25ee1e71530dd4e6a0e6a5d7634e)

-   **[orm]**
    InstanceStateå¯¹è±¡ç°åœ¨ä¼šåœ¨å¤„ç½®æ—¶åˆ é™¤å¯¹è‡ªèº«çš„å¾ªç¯å¼•ç”¨ï¼Œä»¥å°†å…¶ä¿ç•™åœ¨å¾ªç¯åƒåœ¾å›æ”¶ä¹‹å¤–ã€‚[Â¶](#change-0fcd457e5ee2b0c4d942be9f0514327b)

-   **[orm]**relation() wonâ€™t hide unrelated ForeignKey errors inside of
    the â€œplease specify primaryjoinâ€ message when determining join
    condition.[Â¶](#change-87f1da0275cd2fbc5c4c593a2be9bfd6)

-   **[orm]**Fixed bug in Query involving order\_by() in conjunction
    with multiple aliases of the same class (will add tests
    in)[Â¶](#change-05f11c467432dec3f888c0cf94d79a0f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1218](http://www.sqlalchemy.org/trac/ticket/1218)

-   **[orm]**When using Query.join() with an explicit clause for the ON
    clause, the clause will be aliased in terms of the left side of the
    join, allowing scenarios like query(Source).
    from\_self()ã€‚joinï¼ˆï¼ˆDestï¼ŒSource.id ==
    Dest.source\_idï¼‰ï¼‰æ­£å¸¸å·¥ä½œã€‚[Â¶](#change-b4f0becdc69679a440af05ec27cbafc7)

-   **[orm]**
    polymorphic\_union()å‡½æ•°å¦‚æœä¸åˆ—çš„åç§°ä¸åŒï¼Œå®ƒå°†å°Šé‡æ¯ä¸ªåˆ—çš„â€œé”®â€ã€‚[Â¶](#change-c5c461585564866cc3949fdeadb64475)

-   **[orm]**é€šè¿‡â€œåˆ é™¤â€çº§è”ä¿®å¤äº†å¤šå¯¹ä¸€å…³ç³»()ä¸Šâ€œè¢«åŠ¨åˆ é™¤â€çš„æ”¯æŒã€‚[Â¶](#change-e90fa35d010065cc1fc98b81f72ff089)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1183](http://www.sqlalchemy.org/trac/ticket/1183)

-   **[orm]**ä¿®æ­£äº†é˜»æ­¢ä¸»é”®å¤åˆç±»å‹å‘ç”Ÿå˜å¼‚çš„å¤åˆç±»å‹çš„é”™è¯¯ã€‚[Â¶](#change-8b474b31c4dce5478119b8d2d994d20e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1213](http://www.sqlalchemy.org/trac/ticket/1213)

-   **[orm]**Added more granularity to internal attribute access, such
    that cascade and flush operations will not initialize unloaded
    attributes and collections, leaving them intact for a lazy-load
    later on.
    Backrefäº‹ä»¶ä»ç„¶ä¸ºå¾…å®šå®ä¾‹åˆå§‹åŒ–attrbuteså’Œé›†åˆã€‚[Â¶](#change-e08ca53c8d86d8b83e4a311722d70cd9)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1202](http://www.sqlalchemy.org/trac/ticket/1202)

### SQL [Â¶ T0\>](#change-0.5.0rc3-sql "Permalink to this headline")

-   **[sql]**SQL compiler optimizations and complexity reduction.
    ç¼–è¯‘å…¸å‹select()æ„é€ çš„è°ƒç”¨æ¬¡æ•°æ¯”0.5.0rc2å°‘20ï¼…ã€‚[Â¶](#change-4e7f0b4700c725c4a2c9cc64c36318a6)

-   **[sql]**Dialects can now generate label names of adjustable length.
    å°†å‚æ•°â€œlabel\_length =
    â€ä¼ é€’ç»™create\_engine()ä»¥è°ƒæ•´åŠ¨æ€ç”Ÿæˆçš„åˆ—æ ‡ç­¾ä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ªå­—ç¬¦ï¼Œå³â€œsomecolumn
    AS somelabelâ€ã€‚
    T0\>ä»»ä½•å°äº6çš„å€¼éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæœ€å°å°ºå¯¸çš„æ ‡ç­¾ï¼Œç”±ä¸€ä¸ªä¸‹åˆ’çº¿å’Œä¸€ä¸ªæ•°å­—è®¡æ•°å™¨ç»„æˆã€‚ç¼–è¯‘å™¨ä½¿ç”¨dialect.max\_identifier\_lengthçš„å€¼ä½œä¸ºé»˜è®¤å€¼ã€‚[Â¶](#change-c5d75ff2e08bff5447d3ee8f93bd1820)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1211](http://www.sqlalchemy.org/trac/ticket/1211)

-   **[sql]**ç®€åŒ–å¯¹ResultProxyçš„æ£€æŸ¥ï¼Œâ€œæ— ç»“æœè‡ªåŠ¨å…³é—­â€ä»…åŸºäºcursor.descriptionçš„å­˜åœ¨ã€‚æ‰€æœ‰å…³äºè¿”å›è¡Œçš„è¯­å¥çš„åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„çŒœæµ‹å·²è¢«åˆ é™¤ã€‚[Â¶](#change-cf6a1fa1ded84fbb9322d461f0a8bfeb)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1212](http://www.sqlalchemy.org/trac/ticket/1212)

-   **[sql]**ç›´æ¥æ‰§è¡Œunion()æ„é€ ä¼šæ­£ç¡®è®¾ç½®ç»“æœè¡Œå¤„ç†ã€‚[Â¶](#change-8542c7fbeca3c824f9292b2c0c753b65)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1194](http://www.sqlalchemy.org/trac/ticket/1194)

-   **[sql]**â€œOIDâ€æˆ–â€œROWIDâ€åˆ—çš„å†…éƒ¨æ¦‚å¿µå·²è¢«åˆ é™¤ã€‚å®ƒåŸºæœ¬ä¸Šæ²¡æœ‰è¢«ä»»ä½•æ–¹è¨€ä½¿ç”¨ï¼Œå¹¶ä¸”ç°åœ¨å¯ä»¥ä½¿ç”¨psycopg2çš„cursor.lastrowidï¼Œå› ä¸ºINSERT..RETURNINGå¯ç”¨ã€‚[Â¶](#change-19fdbca4f61b7fc504e390b8b486bd95)

-   **[sql]**åˆ é™¤äº†æ‰€æœ‰FromClauseå¯¹è±¡ä¸Šçš„â€œdefault\_order\_by()â€æ–¹æ³•ã€‚[Â¶](#change-746ae8a34836c9f89ff26e4dfefd0801)

-   **[sql]**ä¿®å¤äº†table.tometadata()æ–¹æ³•ï¼Œä»¥ä¾¿å°†ä¼ å…¥çš„æ¨¡å¼å‚æ•°ä¼ æ’­åˆ°ForeignKeyæ„é€ ã€‚[Â¶](#change-7d19f5c441dd8c3c88fde27a171a6170)

-   **[sql]**ç•¥å¾®æ”¹å˜äº†INè¿ç®—ç¬¦çš„è¡Œä¸ºï¼Œä»¥ä¾¿ä¸ç©ºé›†åˆè¿›è¡Œæ¯”è¾ƒã€‚ç°åœ¨å¯¼è‡´ä¸è‡ªå·±çš„ä¸å¹³ç­‰æ¯”è¾ƒã€‚æ›´ä¾¿æºï¼Œä½†æ‰“ç ´äº†éçº¯å‡½æ•°çš„å­˜å‚¨è¿‡ç¨‹ã€‚[Â¶](#change-7c5ade464b6936417497cfde871aad5e)

### MySQLçš„[Â¶ T0\>](#change-0.5.0rc3-mysql "Permalink to this headline")

-   **[mysql]**Fixed foreign key reflection in the edge case where a
    Tableâ€™s explicit schema= is the same as the schema (database) the
    connection is attached
    to.[Â¶](#change-71d35a417c7941d33fa99cd0465a0727)

-   **[mysql]**ä¸å†éœ€è¦è¡¨åå°„ä¸­çš„include\_columnsä¸ºå°å†™ã€‚[Â¶](#change-99f4355bd2b87a5f286bbf59cf8bc8a5)

### é¢„è¨€[Â¶ T0\>](#change-0.5.0rc3-oracle "Permalink to this headline")

-   **[oracle]**ä¸ºOracleè¯­è¨€å†™äº†ä¸€ä¸ªæ–‡æ¡£å­—ç¬¦ä¸²ã€‚å¾ˆæ˜¾ç„¶ï¼ŒOhlohâ€œå°‘æ•°æºä»£ç è¯„è®ºâ€æ ‡ç­¾å¼€å§‹åˆºç—›ï¼šï¼‰ã€‚[Â¶](#change-b2d74160c560863704ae165259a375be)

-   **[oracle]**Removed FIRST\_ROWS() optimize flag when using
    LIMIT/OFFSET, can be reenabled with optimize\_limits=True
    create\_engine() flag.[Â¶](#change-f410ff5e98d4f8304757e7b80a9fc89f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ536](http://www.sqlalchemy.org/trac/ticket/536)

-   **[oracle]**é”™è¯¯ä¿®æ­£å’Œè¡Œä¸ºæ”¹å˜[Â¶](#change-008e6e9fe2ae6723730008d372f3e2b3)

-   **[oracle]**åœ¨create\_engine()ä¸Šå°†auto\_convert\_lobsè®¾ç½®ä¸ºFalseä¹Ÿä¼šæŒ‡ç¤ºOracleBinaryç±»å‹è¿”å›æœªæ›´æ”¹çš„cx\_oracle
    LOBå¯¹è±¡ã€‚[Â¶](#change-6230e778d3864d6e75bfb537df9f4019)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0rc3-misc "Permalink to this headline")

-   **[ext]**æ·»åŠ äº†æ–°çš„æ‰©å±•åsqlalchemy.ext.serializerã€‚æä¾›é•œåƒPickle /
    Unpickleï¼Œä»¥åŠdump()å’Œloads()çš„Serializer /
    Deserializerâ€œclassesâ€ã€‚è¿™ä¸ªåºåˆ—åŒ–å™¨å®ç°äº†ä¸€ä¸ªâ€œå¤–éƒ¨å¯¹è±¡â€picklerï¼Œå®ƒåœ¨pickleæµä¹‹å¤–ä¿å­˜å…³é”®çš„ä¸Šä¸‹æ–‡æ•æ„Ÿå¯¹è±¡ï¼ŒåŒ…æ‹¬å¼•æ“ï¼Œä¼šè¯ï¼Œå…ƒæ•°æ®ï¼Œè¡¨/åˆ—å’Œæ˜ å°„å™¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»¥åä½¿ç”¨ä»»ä½•å¼•æ“/å…ƒæ•°æ®/ä¼šè¯æ¥æ¢å¤pickleä¾›åº”å•†ã€‚è¿™ä¸æ˜¯ç”¨äºé…¸æ´—å¸¸è§„å¯¹è±¡å®ä¾‹ï¼Œè¿™äº›å¯¹è±¡å®ä¾‹å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•ç‰¹æ®Šé€»è¾‘çš„æƒ…å†µä¸‹è¿›è¡Œé€‰æ‹©ï¼Œè€Œæ˜¯ç”¨äºé…¸æ´—è¡¨è¾¾å¼å¯¹è±¡å’Œå®Œæ•´çš„Queryå¯¹è±¡ï¼Œè¿™æ ·æ‰€æœ‰æ˜ å°„å™¨/å¼•æ“/ä¼šè¯ä¾èµ–å…³ç³»å¯ä»¥åœ¨ä¸æ‰“å¼€æ—¶æ¢å¤ã€‚[T0\>](#change-8744852a94323ea2fbca283f3a688d6d)

-   **[ext]**Fixed bug preventing declarative-bound â€œcolumnâ€ objects
    from being used in
    column\_mapped\_collection().[Â¶](#change-bd744cf8b70f47e4b21c501000d5ed0c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1174](http://www.sqlalchemy.org/trac/ticket/1174)

-   **[misc]**util.flatten\_iterator() func doesnâ€™t interpret strings
    with \_\_iter\_\_() methods as iterators, such as in
    pypy.[Â¶](#change-5f7bc358f6dd8a36286e4a3e296d02c1)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1077](http://www.sqlalchemy.org/trac/ticket/1077)

0.5.0rc2 [Â¶ T0\>](#change-0.5.0rc2 "Permalink to this headline")
----------------------------------------------------------------

å‘å¸ƒæ—¥æœŸï¼š2008å¹´10æœˆ12æ—¥

### ORM [Â¶ T0\>](#change-0.5.0rc2-orm "Permalink to this headline")

-   **[orm]**Fixed bug involving read/write relation()s that contain
    literal or other non-column expressions within their primaryjoin
    condition equated to a foreign key
    column.[Â¶](#change-f5b0922d748f836bf849faf609f236fb)

-   **[orm]**â€œnon-batchâ€ mode in mapper(), a feature which allows mapper
    extension methods to be called as each instance is updated/inserted,
    now honors the insert order of the objects
    given.[Â¶](#change-6f0c82ba7e9d929eb20bf24b7363ad34)

-   **[orm]**ä¿®æ­£äº†æ˜ å°„å™¨ä¸­ä¸RLockæœ‰å…³çš„bugï¼Œå®ƒå¯èƒ½åœ¨é‡å…¥æ˜ å°„å™¨ç¼–è¯‘()è°ƒç”¨æ—¶æ­»é”ï¼Œè¿™æ˜¯åœ¨ForeignKeyå¯¹è±¡å†…éƒ¨ä½¿ç”¨å£°æ˜æ€§æ„é€ æ—¶å‘ç”Ÿçš„ã€‚[Â¶](#change-0809d581f494798f25857c9aae8d002b)

-   **[orm]**
    ScopedSession.query\_propertyç°åœ¨æ¥å—ä¸€ä¸ªquery\_clså·¥å‚ï¼Œè¦†ç›–ä¼šè¯é…ç½®çš„query\_clsã€‚[Â¶](#change-c54cba17c56398a1c5b08c1b84a02ddf)

-   **[orm]**Fixed shared state bug interfering with
    ScopedSession.mapperâ€™s ability to apply default \_\_init\_\_
    implementations on object
    subclasses.[Â¶](#change-32756406d7766861ec920823351f7333)

-   **[orm]**å›ºå®šQueryä¸Šçš„åˆ‡ç‰‡ï¼ˆå³query
    [xï¼šy]ï¼‰ï¼Œä»¥ä¾¿é›¶é•¿åº¦åˆ‡ç‰‡æ­£å¸¸å·¥ä½œï¼Œåˆ‡ç‰‡ä¸¤ç«¯éƒ½æ˜¯Noneã€‚[Â¶](#change-e1cf8921386e47618a71f91c9f397141)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1177](http://www.sqlalchemy.org/trac/ticket/1177)

-   **[orm]**æ·»åŠ äº†ä¸€ä¸ªè¯´æ˜Celkoçš„â€œåµŒå¥—é›†â€ä½œä¸ºSQLAæ˜ å°„çš„ä¾‹å­ã€‚[Â¶](#change-7481c2d6bb456c0af61a6a6c09fba5f1)

-   **[orm]**contains\_eager() with an alias argument works even when
    the alias is embedded in a SELECT, as when sent to the Query via
    query.select\_from().[Â¶](#change-73a352c45698be882a53ca36f295ef17)

-   **[orm]**
    contains\_eager()ç”¨æ³•ç°åœ¨ä¸ä¸€ä¸ªQueryç›¸å…¼å®¹ï¼Œè¯¥æŸ¥è¯¢è¿˜åŒ…å«å¸¸è§„çš„è´Ÿè½½å’Œé™åˆ¶/åç§»é‡ï¼Œå› ä¸ºè¿™äº›åˆ—è¢«æ·»åŠ åˆ°Queryç”Ÿæˆçš„å­æŸ¥è¯¢ä¸­ã€‚[/
    T2\>](#change-48074ef8f2ae70e97dd4181ed0391fc0)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1180](http://www.sqlalchemy.org/trac/ticket/1180)

-   **[orm]**session.execute() will execute a Sequence object passed to
    it (regression from
    0.4).[Â¶](#change-85bf1511ee8b4b14e75649f2b44a7e13)

-   **[orm]**ä»object\_mapper()å’Œclass\_mapper()ä¸­åˆ é™¤äº†â€œraiseerrorâ€å…³é”®å­—å‚æ•°ã€‚å¦‚æœç»™å®šçš„ç±»/å®ä¾‹æ²¡æœ‰æ˜ å°„ï¼Œè¿™äº›å‡½æ•°ä¼šåœ¨æ‰€æœ‰æƒ…å†µä¸‹å¼•å‘ã€‚[Â¶](#change-0e2181a984be58fab18171e6dfaa9cb8)

-   **[orm]**ä¿®æ­£äº†autocommit =
    Falseä¼šè¯ä¸­session.transaction.commit()æœªå¯åŠ¨æ–°äº‹åŠ¡[Â¶](#change-73e385a22a5f13ca33fa594da9156975)

-   **[orm]**å¯¹Session.identity\_mapçš„å¼±å¼•ç”¨è¡Œä¸ºè¿›è¡Œä¸€äº›è°ƒæ•´ä»¥å‡å°‘å¼‚æ­¥GCå‰¯ä½œç”¨ã€‚[Â¶](#change-b1a04e4b706f1e6f85dc123694f84b1b)

-   **[orm]**è°ƒæ•´ä¼šè¯å¯¹æ–°â€œå¹²å‡€â€å¯¹è±¡çš„åˆ·æ–°åè®°å¸ï¼Œä»¥ä¾¿æ›´å¥½åœ°é˜²æ­¢åœ¨å¯¹è±¡ä¸Šè¿›è¡Œå¼‚æ­¥æ“ä½œã€‚[Â¶](#change-5f0c28140f7322c81248e44c6f16543f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1182](http://www.sqlalchemy.org/trac/ticket/1182)

### SQL [Â¶ T0\>](#change-0.5.0rc2-sql "Permalink to this headline")

-   **[sql]**column.in\_(someselect) can now be used as a columns-clause
    expression without the subquery bleeding into the FROM
    clause[Â¶](#change-c19f10ddecf8af41aa89725ac892e5d1)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1074](http://www.sqlalchemy.org/trac/ticket/1074)

### MySQLçš„[Â¶ T0\>](#change-0.5.0rc2-mysql "Permalink to this headline")

-   **[mysql]**ä¸´æ—¶è¡¨ç°åœ¨å¯ä»¥åæ˜ ã€‚[Â¶](#change-e747128d425bac8915c3340c83f4bfcd)

### æºç [Â¶ T0\>](#change-0.5.0rc2-sqlite "Permalink to this headline")

-   **[sqlite]**æ•´ä½“SQLiteæ—¥æœŸ/æ—¶é—´ç»‘å®š/ç»“æœå¤„ç†ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å’Œæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯strptime
    / strftimeï¼Œä¸€èˆ¬æ”¯æŒ1900ä¹‹å‰çš„æ—¥æœŸï¼Œæ—¥æœŸä¸ºå¾®ç§’ã€‚[/
    T2\>](#change-de2f3457a9881a2d5d58e60866dca3ee)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ968](http://www.sqlalchemy.org/trac/ticket/968)

-   **[sqlite]**å­—ç¬¦ä¸²ï¼ˆå’ŒUnicodeçš„ï¼ŒUnicodeTextçš„ç­‰ï¼‰åœ¨sqliteæ–¹è¨€ä¸­ç¦ç”¨convert\_unicodeé€»è¾‘ï¼Œä»¥è°ƒæ•´pysqlite
    2.5.0çš„æ–°è¦æ±‚ï¼Œå³åªæ¥å—Python unicodeå¯¹è±¡ï¼›
    [http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html
    T0\>](http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html)[Â¶
    T1\>](#change-4b26a6e311de808b495a135487eb4a35)

### é¢„è¨€[Â¶ T0\>](#change-0.5.0rc2-oracle "Permalink to this headline")

-   **[oracle]**Oracle will detect string-based statements which contain
    comments at the front before a SELECT as SELECT
    statements.[Â¶](#change-7baa28a7c8c206ace952a46829cdb59d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1187](http://www.sqlalchemy.org/trac/ticket/1187)

0.5.0rc1 [Â¶ T0\>](#change-0.5.0rc1 "Permalink to this headline")
----------------------------------------------------------------

å‘å¸ƒæ—¥æœŸï¼š2008å¹´9æœˆ11æ—¥

### ORM [Â¶ T0\>](#change-0.5.0rc1-orm "Permalink to this headline")

-   **[orm]**æŸ¥è¯¢ç°åœ¨å…·æœ‰delete()å’Œupdateï¼ˆvaluesï¼‰æ–¹æ³•ã€‚è¿™å…è®¸ä½¿ç”¨Queryå¯¹è±¡æ‰§è¡Œæ‰¹é‡åˆ é™¤/æ›´æ–°ã€‚[Â¶](#change-8c84c46f35760eb2ceb74f595d9c2088)

-   **[orm]**The RowTuple object returned by Query(\*cols) now features
    keynames which prefer mapped attribute names over column keys,
    column keys over column names, i.e. Query(Class.foo, Class.bar) will
    have names â€œfooâ€ and â€œbarâ€ even if those are not the names of the
    underlying Column objects.
    ç›´æ¥çš„Columnå¯¹è±¡ï¼Œå¦‚Queryï¼ˆtable.c.colï¼‰å°†è¿”å›Columnçš„â€œkeyâ€å±æ€§ã€‚[Â¶](#change-653915646165f193a73800ec694ef476)

-   **[orm]**å‘Queryæ·»åŠ æ ‡é‡()å’Œå€¼()æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•è¿”å›å•ä¸ªæ ‡é‡å€¼ã€‚scalar()ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œå¤§è‡´ç­‰ä»·äºfirst()[0]ï¼Œvalue()æ¥å—å•ä¸ªåˆ—è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å¤§è‡´ç­‰ä»·äºvaluesï¼ˆexprï¼‰.next()[0]ã€‚[Â¶
    t0 \>](#change-bc299fb9b9d12f2bc21df15e57b86e7d)

-   **[orm]**æ”¹è¿›äº†åœ¨å®ä½“çš„query()åˆ—è¡¨ä¸­æ”¾ç½®SQLè¡¨è¾¾å¼æ—¶ç¡®å®šFROMå­å¥çš„æƒ…å†µã€‚ç‰¹åˆ«æ˜¯æ ‡é‡å­æŸ¥è¯¢ä¸åº”è¯¥å°†å…¶å†…éƒ¨çš„FROMå¯¹è±¡â€œæ³„æ¼â€åˆ°åŒ…å«æŸ¥è¯¢ä¸­ã€‚[Â¶](#change-aa571bda5c49dd455a2b376e55d22ccf)

-   **[orm]**å°†ä¸€ä¸ªå…³ç³»()ä»ä¸€ä¸ªæ˜ å°„ç±»è¿æ¥åˆ°ä¸€ä¸ªæ˜ å°„å­ç±»ï¼Œå…¶ä¸­æ˜ å°„å­ç±»é…ç½®äº†å•ä¸ªè¡¨ç»§æ‰¿ï¼Œå°†åŒ…å«ä¸€ä¸ªINå­å¥ï¼Œè¯¥å­å¥å°†è”æ¥ç±»çš„å­ç±»å‹é™åˆ¶ä¸ºåœ¨åŠ å…¥çš„ONå­å¥ä¸­è¯·æ±‚çš„é‚£äº›ã€‚è¿™å¯¹äºçƒ­åˆ‡åŠ è½½è¿æ¥ä»¥åŠquery.join()éƒ½æœ‰æ•ˆã€‚è¯·æ³¨æ„ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒINå­å¥å°†å‡ºç°åœ¨æŸ¥è¯¢çš„WHEREå­å¥ä¸­ï¼Œå› ä¸ºæ­¤æ­§è§†å…·æœ‰å¤šä¸ªè§¦å‘ç‚¹ã€‚[Â¶](#change-d69b4c7364bc587c6c1f189243e71ada)

-   **[orm]**AttributeExtension has been refined such that the event is
    fired before the mutation actually occurs.
    æ­¤å¤–ï¼Œappend()å’Œset()æ–¹æ³•ç°åœ¨å¿…é¡»è¿”å›ç»™å®šå€¼ï¼Œè¯¥å€¼ç”¨ä½œè¦åœ¨å˜å¼‚æ“ä½œä¸­ä½¿ç”¨çš„å€¼ã€‚è¿™å…è®¸åˆ›å»ºåœ¨åŠ¨ä½œå®é™…å‘ç”Ÿä¹‹å‰å¼•å‘çš„éªŒè¯AttributeListenersï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç»™å®šå€¼ä½¿ç”¨ä¹‹å‰å°†å…¶æ”¹å˜ä¸ºå…¶ä»–å€¼ã€‚[Â¶](#change-5284be0f6bd79911d5fbc38bb1d9844e)

-   **[orm]**
    column\_property()ï¼Œcomposite\_property()å’Œrelation()ç°åœ¨ä½¿ç”¨â€œextensionâ€å…³é”®å­—å‚æ•°æ¥å—ä¸€ä¸ªæˆ–ä¸€ç³»åˆ—AttributeExtensions
    [Â¶](#change-5e040c7be045989474bef052f124b0e7)

-   **[orm]**query.order\_by().get() silently drops the â€œORDER BYâ€ from
    the query issued by GET but does not raise an
    exception.[Â¶](#change-bc9ecda64807b38920f7cb6826c2c4d4)

-   **[orm]**æ·»åŠ äº†ä¸€ä¸ªValidator
    AttributeExtensionï¼Œä»¥åŠä¸€ä¸ª@validatesè£…é¥°å™¨ï¼Œå®ƒä»¥ä¸@reconstructorç±»ä¼¼çš„æ–¹å¼ä½¿ç”¨ï¼Œå¹¶å°†æ–¹æ³•æ ‡è®°ä¸ºéªŒè¯ä¸€ä¸ªæˆ–å¤šä¸ªæ˜ å°„å±æ€§ã€‚[/
    T2\>](#change-ef2dee6873ef902b11bbee01803f4ae5)

-   **[orm]**class.someprop.in\_() raises NotImplementedError pending
    the implementation of â€œin\_â€ for
    relation[Â¶](#change-0f7d684617407aa815e6b0691cd80152)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1140](http://www.sqlalchemy.org/trac/ticket/1140)

-   **[orm]**ä¿®å¤äº†é›†åˆå°šæœªåŠ è½½çš„å¤šå¯¹å¤šé›†åˆçš„ä¸»é”®æ›´æ–°[Â¶](#change-e53c35f85da237cfc80b6dd06a426a1d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1127](http://www.sqlalchemy.org/trac/ticket/1127)

-   **[orm]**Fixed bug whereby deferred() columns with a group in
    conjunction with an otherwise unrelated synonym() would produce an
    AttributeError during deferred
    load.[Â¶](#change-224716a1dadbeb6f1866db3440a6ff30)

-   **[orm]**The before\_flush() hook on SessionExtension takes place
    before the list of new/dirty/deleted is calculated for the final
    time, allowing routines within before\_flush() to further change the
    state of the Session before the flush
    proceeds.[Â¶](#change-ba4c025060cc6553792a05a302be7322)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1128](http://www.sqlalchemy.org/trac/ticket/1128)

-   **[orm]**
    Sessionå’Œå…¶ä»–äººçš„â€œextensionâ€å‚æ•°ç°åœ¨å¯ä»¥æœ‰é€‰æ‹©åœ°ä½œä¸ºåˆ—è¡¨ï¼Œæ”¯æŒå‘é€åˆ°å¤šä¸ªSessionExtensionå®ä¾‹çš„äº‹ä»¶ã€‚ä¼šè¯åœ¨Session.extensionsä¸­æ”¾ç½®SessionExtensionsã€‚[Â¶](#change-37fc8438846c6b43c7d59ef8a7a828d4)

-   **[orm]**é‡æ–°è°ƒç”¨flush()ä¼šå¼•å‘é”™è¯¯ã€‚è¿™ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªåŸºæœ¬ä½†ä¸æ˜¯ä¸‡æ— ä¸€å¤±çš„æ£€æŸ¥Session.flush()çš„å¹¶å‘è°ƒç”¨ã€‚[Â¶](#change-011d4fb8d5a8e138821dc28600012a05)

-   **[orm]**ä½¿ç”¨æ˜¾å¼è¿æ¥æ ‡å‡†ï¼ˆå³ä¸åœ¨å…³ç³»ä¸­ï¼‰æ”¹è¿›äº†è¿æ¥åˆ°è¿æ¥è¡¨ç»§æ‰¿å­ç±»æ—¶query.join()çš„è¡Œä¸ºã€‚[Â¶](#change-c25ec40209007cd9ba2064bebfb34232)

-   **[orm]**@orm.attributes.reconstitute and
    MapperExtension.reconstitute have been renamed to @orm.reconstructor
    and
    MapperExtension.reconstruct\_instance[Â¶](#change-1fb74025f94dc7b21831167635777693)

-   **[orm]**ä¿®å¤äº†ä»åŸºç±»ç»§æ‰¿çš„å­ç±»çš„@reconstructoré’©å­ã€‚[Â¶](#change-cd79264b3790d04f0e63b83903fa5ed8)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1129](http://www.sqlalchemy.org/trac/ticket/1129)

-   **[orm]**The composite() property type now supports a
    \_\_set\_composite\_values\_\_() method on the composite class which
    is required if the class represents state using attribute names
    other than the columnâ€™s keynames; default-generated values now get
    populated properly upon flush.
    å¦å¤–ï¼Œå±æ€§è®¾ç½®ä¸ºNoneçš„ç»„åˆæ¯”è¾ƒæ­£ç¡®ã€‚[Â¶](#change-508bd3c6df6fae18dd5395584def48c6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1132](http://www.sqlalchemy.org/trac/ticket/1132)

-   **[orm]**ç”±attributes.get\_history()è¿”å›çš„å¯è¿­ä»£å…ƒç´ çš„ä¸‰å…ƒç»„ç°åœ¨å¯ä»¥æ˜¯åˆ—è¡¨å’Œå…ƒç»„çš„æ··åˆã€‚ï¼ˆä»¥å‰çš„æˆå‘˜æ€»æ˜¯åˆ—è¡¨ã€‚ï¼‰[Â¶](#change-178fc756263765b259ff38672eac1c02)

-   **[orm]**Fixed bug whereby changing a primary key attribute on an
    entity where the attributeâ€™s previous value had been expired would
    produce an error upon
    flush().[Â¶](#change-4056d1b03d6c9596e7ca59f94acca718)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1151](http://www.sqlalchemy.org/trac/ticket/1151)

-   **[orm]**ä¿®æ­£äº†è‡ªå®šä¹‰çš„æ£€æµ‹é”™è¯¯ï¼Œå…¶ä¸­get\_instance\_dict()æœªé’ˆå¯¹æœªç”±ORMåŠ è½½çš„æ–°æ„å»ºçš„å®ä¾‹è°ƒç”¨ã€‚[Â¶](#change-ef27e7fe8139e580bcb3c9ce33434365)

-   **[orm]**Session.delete() adds the given object to the session if
    not already present.
    è¿™æ˜¯ä¸€ä¸ªä»0.4å¼€å§‹çš„å›å½’bugã€‚[Â¶](#change-3c5325abcfbe1c8301b63a8ec8e57185)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1150](http://www.sqlalchemy.org/trac/ticket/1150)

-   **[orm]**The echo\_uow flag on Session is deprecated, and
    unit-of-work logging is now application-level only, not per-session
    level.[Â¶](#change-5e86c8cc2cb9ead3e00ebc093e0a7715)

-   **[orm]**ä»InstrumentedAttributeä¸­åˆ é™¤äº†å†²çªçš„contains()è¿ç®—ç¬¦ï¼Œè¯¥è¿ç®—ç¬¦ä¸æ¥å—escape
    kwaargã€‚[Â¶ T5\>](#change-da6822c97f484346929c37f0beaa3376)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1153](http://www.sqlalchemy.org/trac/ticket/1153)

### SQL [Â¶ T0\>](#change-0.5.0rc1-sql "Permalink to this headline")

-   **[sql]**æš‚æ—¶å›æ»šâ€œORDER
    BYâ€å¢å¼ºã€‚æ­¤åŠŸèƒ½å¤„äºæš‚åœçŠ¶æ€ä»¥å¾…è¿›ä¸€æ­¥å¼€å‘ã€‚[Â¶](#change-3cbba3907af4febdae6339124e49bbf1)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1068](http://www.sqlalchemy.org/trac/ticket/1068)

-   å­˜åœ¨()æ„é€ ä¸ä¼šå°†å…¶åŒ…å«çš„å…ƒç´ åˆ—è¡¨â€œå¯¼å‡ºâ€ä¸ºFROMå­å¥ï¼Œä»è€Œå¯ä»¥åœ¨SELECTçš„columnså­å¥ä¸­æ›´æœ‰æ•ˆåœ°ä½¿ç”¨å®ƒä»¬ã€‚[**[sql]**](#change-73494969fdc62e43dc91f1870944fca3)

-   **[sql]**and\_() and or\_() now generate a ColumnElement, allowing
    boolean expressions as result columns, i.e. select([and\_(1,
    0)]).[Â¶](#change-a1129d13e840176ff64e74f0dffc726c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ798](http://www.sqlalchemy.org/trac/ticket/798)

-   **[sql]**Bind params now subclass ColumnElement which allows them to
    be selectable by orm.query (they already had most ColumnElement
    semantics).[Â¶](#change-671d11640be75b25d117c6f76193c982)

-   **[sql]**å°†select\_from()æ–¹æ³•æ·»åŠ åˆ°exists()æ„é€ ä¸­ï¼Œè¯¥æ„é€ å˜å¾—ä¸å¸¸è§„select()æ›´åŠ å…¼å®¹ã€‚[Â¶](#change-f5e8b1bf0c1545cc9b8fc7694e96dae5)

-   **[sql]**æ·»åŠ äº†func.min()ï¼Œfunc.max()ï¼Œfunc.sum()ä½œä¸ºâ€œé€šç”¨å‡½æ•°â€ï¼Œå®ƒåŸºæœ¬ä¸Šå…è®¸è‡ªåŠ¨ç¡®å®šè¿”å›ç±»å‹ã€‚æœ‰åŠ©äºåœ¨SQLiteä¸Šä½¿ç”¨æ—¥æœŸï¼Œå°æ•°ç±»å‹å’Œå…¶ä»–ç±»å‹ã€‚[Â¶](#change-53f291443975e20e506406053e65f6cf)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1160](http://www.sqlalchemy.org/trac/ticket/1160)

-   **[sql]**å°†decimal.Decimalæ·»åŠ ä¸ºâ€œè‡ªåŠ¨æ£€æµ‹â€ç±»å‹ï¼›ç»‘å®šå‚æ•°å’Œæ³›å‹å‡½æ•°ä¼šåœ¨ä½¿ç”¨Decimalæ—¶å°†å®ƒä»¬çš„ç±»å‹è®¾ç½®ä¸ºNumericã€‚[Â¶](#change-6ff5aacb0dc2056dbbd9f12959e418ce)

### æ¶æ„[Â¶ T0\>](#change-0.5.0rc1-schema "Permalink to this headline")

-   **[schema]**Added â€œsorted\_tablesâ€ accessor to MetaData, which
    returns Table objects sorted in order of dependency as a list.
    è¿™å¼ƒç”¨äº†MetaData.table\_iterator()æ–¹æ³•ã€‚â€œreverse =
    Falseâ€å…³é”®å­—å‚æ•°ä¹Ÿå·²ä»util.sort\_tables()ä¸­ç§»é™¤ï¼›ä½¿ç”¨Python'åè½¬'å‡½æ•°æ¥åè½¬ç»“æœã€‚[Â¶](#change-118cc36016ff77010dc9ebd38a2678f8)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1033](http://www.sqlalchemy.org/trac/ticket/1033)

-   **[schema]**æ‰€æœ‰æ•°å­—ç±»å‹çš„'length'å‚æ•°å·²è¢«é‡å‘½åä¸º'scale'ã€‚'length'å·²è¢«å¼ƒç”¨ï¼Œä»ç„¶è¢«è­¦å‘Šæ¥å—ã€‚[Â¶](#change-3df1db57d8636e669fca26f35905d319)

-   **[schema]**ä¸ºç”¨æˆ·å®šä¹‰çš„ç±»å‹ï¼ˆconvert\_result\_valueï¼Œconvert\_bind\_paramï¼‰é™ä½äº†0.3å…¼å®¹æ€§ã€‚[Â¶](#change-82b664ad8775fd4fd75ba2bb61a042fa)

### MySQLçš„[Â¶ T0\>](#change-0.5.0rc1-mysql "Permalink to this headline")

-   **[mysql]**
    MSIntegerï¼ŒMSBigIntegerï¼ŒMSTinyIntegerï¼ŒMSSmallIntegerå’ŒMSYearçš„'length'å‚æ•°å·²è¢«é‡å‘½åä¸º'display\_width'ã€‚[Â¶](#change-9c928b587925101f54296fee7112b28f)

-   **[mysql]**æ–°å¢MSMediumIntegerç±»å‹[Â¶](#change-3399af5fdccc23ec4d96046c565e26d0)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1146](http://www.sqlalchemy.org/trac/ticket/1146)

-   **[mysql]**å‡½æ•°func.utc\_timestamp()ç¼–è¯‘ä¸ºUTC\_TIMESTAMPï¼Œæ²¡æœ‰æ‹¬å·ï¼Œä¸executemany()ç»“åˆä½¿ç”¨æ—¶ï¼Œä¼¼ä¹ä¼šé˜»ç¢å®ƒã€‚[Â¶](#change-b6f48386c65fadd6348b47240cc99ec7)

### é¢„è¨€[Â¶ T0\>](#change-0.5.0rc1-oracle "Permalink to this headline")

-   **[oracle]**limit/offset no longer uses ROW NUMBER OVER to limit
    rows, and instead uses subqueries in conjunction with a special
    Oracle optimization comment. å…è®¸LIMIT /
    OFFSETä¸DISTINCTé…åˆä½¿ç”¨ã€‚[Â¶](#change-d9478b7f320c9377cddae1d8f9c36234)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ536](http://www.sqlalchemy.org/trac/ticket/536)

-   **[oracle]**
    has\_sequence()ç°åœ¨å°†å½“å‰çš„â€œæ¨¡å¼â€å‚æ•°è€ƒè™‘åœ¨å†…[Â¶](#change-abf436d902521e8408645b37f90e121d)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1155](http://www.sqlalchemy.org/trac/ticket/1155)

-   **[oracle]**å°†BFILEæ·»åŠ åˆ°åå°„ç±»å‹åç§°[Â¶](#change-2fa10c574344332c1b619fb675705c5f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1121](http://www.sqlalchemy.org/trac/ticket/1121)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0rc1-misc "Permalink to this headline")

-   **[declarative]**ä¿®å¤äº†å¦‚æœå¤åˆä¸»é”®å¼•ç”¨äº†å¦ä¸€ä¸ªå°šæœªå®šä¹‰çš„è¡¨ï¼Œæ˜ å°„å™¨æ— æ³•åˆå§‹åŒ–çš„é—®é¢˜ã€‚[Â¶](#change-25609b96aad470dfee53cfa4658bb8ea)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1161](http://www.sqlalchemy.org/trac/ticket/1161)

-   **[declarative]**ä¿®æ­£äº†å½“åŸºäºå­—ç¬¦ä¸²çš„primaryjoinæ¡ä»¶ä¸backrefç»“åˆä½¿ç”¨æ—¶ä¼šå‘ç”Ÿçš„å¼‚å¸¸æŠ›å‡ºã€‚[Â¶](#change-0ba243ba7ed677b185afb4d1c3d0e1ff)

0.5.0beta3 [Â¶ T0\>](#change-0.5.0beta3 "Permalink to this headline")
--------------------------------------------------------------------

å‘å¸ƒæ—¥æœŸï¼š2008å¹´8æœˆ4æ—¥

### ORM [Â¶ T0\>](#change-0.5.0beta3-orm "Permalink to this headline")

-   **[orm]**
    SQLAlchemyæ˜ å°„å™¨çš„â€œentity\_nameâ€åŠŸèƒ½å·²è¢«åˆ é™¤ã€‚æœ‰å…³åŸºæœ¬åŸç†ï¼Œè¯·å‚é˜…[http://tinyurl.com/6nm2ne](http://tinyurl.com/6nm2ne)
    [Â¶](#change-8d0377fde42fb91d7baf63fb6d636deb)

-   **[orm]**the â€œautoexpireâ€ flag on Session, sessionmaker(), and
    scoped\_session() has been renamed to â€œexpire\_on\_commitâ€.
    å®ƒä¸ä¼šå½±å“rollback()çš„åˆ°æœŸè¡Œä¸ºã€‚[Â¶](#change-bec0f44885ce43df3d6ec5dc39c4df0b)

-   **[orm]**ä¿®å¤äº†å¯èƒ½å‘ç”Ÿåœ¨æ˜ å°„å™¨å»¶è¿ŸåŠ è½½çš„ç»§æ‰¿å±æ€§å†…çš„æ— é™å¾ªç¯é”™è¯¯ã€‚[Â¶](#change-ed7c40591d86e7dfb1b66e9045605828)

-   **[orm]**a legacy-support flag â€œ\_enable\_transaction\_accountingâ€
    flag added to Session which when False, disables all
    transaction-level object accounting, including expire on rollback,
    expire on commit, new/deleted list maintenance, and autoflush on
    begin.[Â¶](#change-3f45c3231436d347592f6b1ae72ebb22)

-   **[orm]**
    relation()çš„'cascade'å‚æ•°æ¥å—Noneä½œä¸ºä¸€ä¸ªå€¼ï¼Œè¿™ç›¸å½“äºæ²¡æœ‰çº§è”ã€‚[Â¶](#change-0491ac7a585bbfa7d31851026a02f775)

-   **[orm]**å¯¹åŠ¨æ€å…³ç³»çš„ä¸€ä¸ªé‡è¦ä¿®å¤å…è®¸åœ¨flush()ä¹‹åæ­£ç¡®åœ°æ¸…é™¤â€œä¿®æ”¹çš„â€å†å²ã€‚[Â¶](#change-1cdefc4329206214d319913c733149d1)

-   **[orm]**user-defined @properties on a class are detected and left
    in place during mapper initialization.
    è¿™æ„å‘³ç€ï¼Œå¦‚æœ@propertyå¤„äºé˜»æ­¢çŠ¶æ€ï¼ˆå¹¶ä¸”åˆ—æœªé‡æ–°æ˜ å°„ä¸ºä¸åŒåç§°ï¼‰ï¼Œåˆ™åŒåçš„è¡¨ç»‘å®šåˆ—æ ¹æœ¬ä¸ä¼šè¢«æ˜ å°„ï¼Œä¹Ÿä¸ä¼šåº”ç”¨æ¥è‡ªç»§æ‰¿ç±»çš„æ£€æµ‹å±æ€§ã€‚ç›¸åŒçš„è§„åˆ™é€‚ç”¨äºä½¿ç”¨include\_properties
    /
    exclude\_propertiesé›†åˆæ’é™¤çš„åç§°ã€‚[Â¶](#change-0bfbb308a2e6b5996f8f092eecc39f27)

-   **[orm]**æ·»åŠ äº†ä¸€ä¸ªåä¸ºafter\_attach()çš„æ–°SessionExtensionæŒ‚é’©ã€‚è¿™é€šè¿‡add()ï¼Œadd\_all()ï¼Œdelete()å’Œmerge()åœ¨å¯¹è±¡çš„è¿æ¥ç‚¹å¤„è°ƒç”¨ã€‚[Â¶](#change-8052b127a0d4287b2c71b35d67278832)

-   **[orm]**å½“ç»§æ‰¿å…¶ç»§æ‰¿çš„æ˜ å°„å™¨çš„åˆ—æ—¶ï¼Œä»å¦ä¸€ä¸ªç»§æ‰¿çš„æ˜ å°„å™¨å°†ä½¿ç”¨è¯¥ç»§æ‰¿æ˜ å°„å™¨ä¸­æŒ‡å®šçš„ä»»ä½•é‡æ–°åˆ†é…çš„å±æ€§åç§°ã€‚ä»¥å‰ï¼Œå¦‚æœâ€œBaseâ€å·²å°†â€œbase\_idâ€é‡æ–°åˆ†é…ç»™åç§°â€œidâ€ï¼Œåˆ™â€œSubBaseï¼ˆBaseï¼‰â€ä»ä¼šè·å¾—åä¸ºâ€œbase\_idâ€çš„å±æ€§ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨æ¯ä¸ªå­æ˜ å°„ä¸­æ˜¾å¼å£°æ˜åˆ—æ¥è§£å†³ï¼Œä½†è¿™åœ¨ä½¿ç”¨å£°æ˜æ—¶æ˜¯ä¸å¯è¡Œçš„ï¼Œä¹Ÿæ˜¯ä¸å¯èƒ½çš„ã€‚[Â¶](#change-bd87173d091ba1e2327191216517b2ef)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1111](http://www.sqlalchemy.org/trac/ticket/1111)

-   **[orm]**Fixed a series of potential race conditions in Session
    whereby asynchronous GC could remove unmodified, no longer
    referenced items from the session as they were present in a list of
    items to be processed, typically during session.expunge\_all() and
    dependent methods.[Â¶](#change-4a50d6aaca19e04da5b39026834f7ed1)

-   **[orm]**Some improvements to the \_CompileOnAttr mechanism which
    should reduce the probability of â€œAttribute x was not replaced
    during compileâ€ warnings.
    ï¼ˆè¿™é€šå¸¸é€‚ç”¨äºSQLAé»‘å®¢ï¼Œå¦‚Elixirå¼€å‘äººå‘˜ï¼‰ã€‚[Â¶](#change-b9a53af1efbb14f9f161dc08e827613b)

-   **[orm]**Fixed bug whereby the â€œunsaved, pending instanceâ€
    FlushError raised for a pending orphan would not take superclass
    mappers into account when generating the list of relations
    responsible for the
    error.[Â¶](#change-69d1b37aec0edbfa5bdf17121da26777)

### SQL [Â¶ T0\>](#change-0.5.0beta3-sql "Permalink to this headline")

-   **[sql]**func.count() with no arguments renders as COUNT(\*),
    equivalent to
    func.count(text(â€˜\*â€™)).[Â¶](#change-48ee06eba07274b1974325d19e0ef16c)

-   **[sql]**simple label names in ORDER BY expressions render as
    themselves, and not as a re-statement of their corresponding
    expression.
    æ­¤åŠŸèƒ½ç›®å‰ä»…é€‚ç”¨äºSQLiteï¼ŒMySQLå’ŒPostgreSQLã€‚å®ƒå¯ä»¥åœ¨å…¶ä»–æ–¹è¨€ä¸Šå¯ç”¨ï¼Œå› ä¸ºæ¯ä¸ªæ–¹è¨€éƒ½æ”¯æŒè¿™ç§è¡Œä¸ºã€‚[Â¶](#change-183ed96a85af7c197f43c2af7c82e74f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1068](http://www.sqlalchemy.org/trac/ticket/1068)

### MySQLçš„[Â¶ T0\>](#change-0.5.0beta3-mysql "Permalink to this headline")

-   **[mysql]**åœ¨CREATE
    TABLEä¸­ä½¿ç”¨çš„MSEnumå€¼çš„å¼•ç”¨ç°åœ¨æ˜¯å¯é€‰çš„ï¼Œå°†æ ¹æ®éœ€è¦æŒ‰éœ€å¼•ç”¨ã€‚ï¼ˆå¼•ç”¨æ€»æ˜¯å¯é€‰çš„ï¼Œä»¥ä¾¿ä¸ç°æœ‰è¡¨ä¸€èµ·ä½¿ç”¨ã€‚ï¼‰[Â¶](#change-e39adf863f851364eaafbfc3b919e72e)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1110](http://www.sqlalchemy.org/trac/ticket/1110)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0beta3-misc "Permalink to this headline")

-   **[ext]**Class-bound attributes sent as arguments to relation()â€™s
    remote\_side and foreign\_keys parameters are now accepted, allowing
    them to be used with declarative.
    æ­¤å¤–ä¿®å¤äº†æ¶‰åŠorder\_byçš„é”™è¯¯ï¼Œå°†å…¶ä¸æŒ‡å®šçš„åŠ è½½ç±»å‹ä¸€èµ·æŒ‡å®šä¸ºç±»ç»‘å®šå±æ€§ã€‚[Â¶](#change-235189d186b64a7c7ade47234481c74d)

-   **[ext]**è°ƒæ•´åˆ—çš„å£°æ˜æ€§åˆå§‹åŒ–ï¼Œä»¥ä¾¿éé‡å‘½ååˆ—ä»¥ä¸éå£°æ˜æ€§æ˜ å°„å™¨ç›¸åŒçš„æ–¹å¼åˆå§‹åŒ–ã€‚è¿™å…è®¸ç»§æ‰¿æ˜ å°„å™¨ç‰¹åˆ«è®¾ç½®å…¶ç›¸åŒåç§°çš„â€œidâ€åˆ—ï¼Œä½¿å¾—çˆ¶â€œidâ€åˆ—åœ¨å­åˆ—ä¸Šæ›´å—æ¬¢è¿ï¼Œä»è€Œåœ¨è¯·æ±‚è¯¥å€¼æ—¶å‡å°‘æ•°æ®åº“å¾€è¿”è¡Œç¨‹ã€‚[Â¶
    t0 \>](#change-e3f67c763727b1ddccb145473793027a)

0.5.0beta2 [Â¶ T0\>](#change-0.5.0beta2 "Permalink to this headline")
--------------------------------------------------------------------

å‘å¸ƒæ—¥æœŸï¼š2008å¹´7æœˆ14æ—¥

### ORM [Â¶ T0\>](#change-0.5.0beta2-orm "Permalink to this headline")

-   **[orm]**é™¤äº†è¿‡æœŸå±æ€§å¤–ï¼Œå¦‚æœå®ƒä»¬çš„æ•°æ®å­˜åœ¨äºç»“æœé›†ä¸­ï¼Œå»¶è¿Ÿå±æ€§ä¹Ÿä¼šåŠ è½½ã€‚[Â¶](#change-b1e13c6f85e4b8bafe152528e9f9e07a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ870](http://www.sqlalchemy.org/trac/ticket/870)

-   **[orm]**session.refresh() raises an informative error message if
    the list of attributes does not include any column-based
    attributes.[Â¶](#change-4a5df14e5fb13438d6d240dac1d13e53)

-   **[orm]**å¦‚æœæ²¡æœ‰æŒ‡å®šåˆ—æˆ–æ˜ å°„å™¨ï¼Œquery()ä¼šå¼•å‘ä¸€æ¡ä¿¡æ¯é”™è¯¯æ¶ˆæ¯ã€‚[Â¶](#change-fa0caf8275a26fd9e51067cf5d068e20)

-   **[orm]**åœ¨ç»§ç»­ä¹‹å‰ï¼Œæ‡’åŠ è½½å™¨ç°åœ¨ä¼šè§¦å‘è‡ªåŠ¨åˆ·æ–°ã€‚è¿™å…è®¸é›†åˆæˆ–æ ‡é‡å…³ç³»çš„expire()åœ¨autoflushçš„ä¸Šä¸‹æ–‡ä¸­æ­£å¸¸å·¥ä½œã€‚[Â¶](#change-d224e9594aed7cff19ba7094b073085e)

-   **[orm]**column\_property() attributes which represent SQL
    expressions or columns that are not present in the mapped tables
    (such as those from views) are automatically expired after an INSERT
    or UPDATE, assuming they have not been locally modified, so that
    they are refreshed with the most recent data upon
    access.[Â¶](#change-9892cec5efcb4d7e85039be426750151)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ887](http://www.sqlalchemy.org/trac/ticket/887)

-   **[orm]**Fixed explicit, self-referential joins between two
    joined-table inheritance mappers when using query.join(cls,
    aliased=True).[Â¶](#change-29ed27d1f028bd2967bfda14be68016f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1082](http://www.sqlalchemy.org/trac/ticket/1082)

-   **[orm]**å›ºå®šquery.join()ä¸è¿æ¥ä¸­çš„column-onlyå­å¥å’ŒSQLè¡¨è¾¾å¼ONå­å¥ç»“åˆä½¿ç”¨æ—¶ã€‚[Â¶](#change-cab45795f7c17a76dab0cf71132cf3cd)

-   **[orm]**
    mapper()ä¸­çš„â€œallow\_column\_overrideâ€æ ‡å¿—å·²è¢«åˆ é™¤ã€‚è¿™ä¸ªæ ‡å¿—å®é™…ä¸Šæ€»æ˜¯è¢«è¯¯è§£ã€‚å®ƒçš„ç‰¹å®šåŠŸèƒ½å¯ä»¥é€šè¿‡include\_properties
    /
    exclude\_propertiesæ˜ å°„å‚æ•°è·å¾—ã€‚[Â¶](#change-1997755407d1a2cb2fe8e85e87a44d98)

-   **[orm]**Repaired \_\_str\_\_() method on
    Query.[Â¶](#change-f6f8762af002e7d0e73abc9712199669)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1066](http://www.sqlalchemy.org/trac/ticket/1066)

-   **[orm]**å³ä½¿å®šä¹‰äº†table /
    mapperç‰¹å®šç»‘å®šï¼ŒSession.bindä¹Ÿä¼šè¢«ç”¨ä½œé»˜è®¤å€¼ã€‚[Â¶](#change-94cddf78a6e3719011b7fb8e0fd99f57)

### SQL [Â¶ T0\>](#change-0.5.0beta2-sql "Permalink to this headline")

-   **[sql]**æ·»åŠ äº†æ–°çš„match()è¿ç®—ç¬¦ï¼Œç”¨äºæ‰§è¡Œå…¨æ–‡æœç´¢ã€‚æ”¯æŒPostgreSQLï¼ŒSQLiteï¼ŒMySQLï¼ŒMS-SQLå’ŒOracleåç«¯ã€‚[Â¶](#change-30e5ded1589c7de935e27d16fc9ce66f)

### æ¶æ„[Â¶ T0\>](#change-0.5.0beta2-schema "Permalink to this headline")

-   **[schema]**ä¸ºTableæ·»åŠ äº†å‰ç¼€é€‰é¡¹ï¼Œè¯¥é€‰é¡¹æ¥å—åœ¨CREATE
    TABLEè¯­å¥ä¸­çš„CREATEä¹‹åæ’å…¥çš„å­—ç¬¦ä¸²åˆ—è¡¨ã€‚[](#change-b49475628d312e4c651103bd44dc0215)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1075](http://www.sqlalchemy.org/trac/ticket/1075)

-   **[schema]**é»˜è®¤æƒ…å†µä¸‹ï¼ŒUnicodeï¼ŒUnicodeTextç±»å‹ç°åœ¨è®¾ç½®äº†â€œassert\_unicodeâ€å’Œâ€œconvert\_unicodeâ€ï¼Œä½†æ¥å—è¿™äº›å€¼çš„è¦†ç›–\*\*
    kwargsã€‚[Â¶](#change-8a11f0840cf8a84fce22bd2015c35557)

### æºç [Â¶ T0\>](#change-0.5.0beta2-sqlite "Permalink to this headline")

-   **[sqlite]**ä¿®æ”¹SQLiteçš„â€œå¾®ç§’â€è¡¨ç¤ºä»¥åŒ¹é…strï¼ˆsomedatetimeï¼‰çš„è¾“å‡ºï¼Œå³å¾®ç§’ä»¥å­—ç¬¦ä¸²æ ¼å¼è¡¨ç¤ºä¸ºå°æ•°ç§’ã€‚è¿™ä½¿SQLAçš„SQLiteæ—¥æœŸç±»å‹ä¸ç›´æ¥ä½¿ç”¨Pysqliteï¼ˆå®ƒåªæ˜¯è°ƒç”¨str()ï¼‰ä¿å­˜çš„æ—¥æœŸæ—¶é—´å…¼å®¹ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸SQLA
    0.4ç”Ÿæˆçš„SQLiteæ•°æ®åº“æ–‡ä»¶ä¸­çš„ç°æœ‰å¾®ç§’å€¼ä¸å…¼å®¹ã€‚

    è¦åœ¨å…¨çƒèŒƒå›´å†…è·å¾—æ—§çš„è¡Œä¸ºï¼š

    > from sqlalchemy.databases.sqlite import DateTimeMixin
    > DateTimeMixin .\_\_ legacy\_microseconds\_\_ = True

    è¦è·å–å•ä¸ªDateTimeç±»å‹çš„è¡Œä¸ºï¼š

    > t = sqlite.SLDateTime()t .\_\_ legacy\_microseconds\_\_ = True

    ç„¶åä½¿ç”¨â€œtâ€ä½œä¸ºåˆ—çš„ç±»å‹ã€‚

    [Â¶](#change-e9e212bbf32020e1d5b9a70c4bd065ec)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1090](http://www.sqlalchemy.org/trac/ticket/1090)

-   **[sqlite]**SQLite Date, DateTime, and Time types only accept Python
    datetime objects now, not strings.
    å¦‚æœæ‚¨æƒ³ä½¿ç”¨SQLiteå°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨Stringç±»å‹ã€‚å¦‚æœæ‚¨å¸Œæœ›ä»–ä»¬å°½ç®¡æ¥å—å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œä»ç„¶è¿”å›datetimeå¯¹è±¡ï¼Œè¯·å›´ç»•Stringåˆ›å»ºTypeDecorator
    - SQLAä¸é¼“åŠ±æ­¤æ¨¡å¼ã€‚[Â¶](#change-356bd5509442671308af59a77f38afbd)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0beta2-misc "Permalink to this headline")

-   **[extensions]**Declarative supports a \_\_table\_args\_\_ class
    variable, which is either a dictionary, or tuple of the form (arg1,
    arg2, ..., {kwarg1:value, ...}) which contains positional + kw
    arguments to be passed to the Table
    constructor.[Â¶](#change-06ba6db4e394283ba0869cd8dd51438c)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1096](http://www.sqlalchemy.org/trac/ticket/1096)

0.5.0beta1 [Â¶ T0\>](#change-0.5.0beta1 "Permalink to this headline")
--------------------------------------------------------------------

å‘å¸ƒäºï¼š2008å¹´6æœˆ12æ—¥

### ä¸€èˆ¬[Â¶ T0\>](#change-0.5.0beta1-general "Permalink to this headline")

-   **[general]**å…¨å±€â€œpropigateâ€ -
    \>â€œä¼ æ’­â€æ›´æ”¹[Â¶](#change-597be5c4a9e70acebf3140485193fba9)

### ORM [Â¶ T0\>](#change-0.5.0beta1-orm "Permalink to this headline")

-   **[orm]**
    polymorphic\_union()å‡½æ•°å¦‚æœä¸åˆ—çš„åç§°ä¸åŒï¼Œå®ƒå°†å°Šé‡æ¯ä¸ªåˆ—çš„â€œé”®â€ã€‚[Â¶](#change-82d1bf98ab627972f0337511ff68952a)

-   **[orm]**ä¿®å¤äº†0.4ä¸ªä»…é™äºé˜²æ­¢å¤åˆåˆ—ä¸ç»§æ‰¿æ˜ å°„å™¨æ­£å¸¸å·¥ä½œçš„é”™è¯¯[Â¶](#change-40f4ed47012478d45197ff8e06350ea0)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1199](http://www.sqlalchemy.org/trac/ticket/1199)

-   **[orm]**Fixed RLock-related bug in mapper which could deadlock upon
    reentrant mapper compile() calls, something that occurs when using
    declarative constructs inside of ForeignKey objects.
    ä»0.5å¼€å§‹ã€‚[Â¶](#change-c716495e2a464fb8ce720403397e97de)

-   **[orm]**ä¿®æ­£äº†é˜»æ­¢ä¸»é”®å¤åˆç±»å‹å‘ç”Ÿå˜å¼‚çš„å¤åˆç±»å‹çš„é”™è¯¯ã€‚[Â¶](#change-6da5dc80f326fc681ebf9c54a5ffa9c6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1213](http://www.sqlalchemy.org/trac/ticket/1213)

-   **[orm]**æ–°å¢äº†ScopedSession.is\_activeè®¿é—®è€…ã€‚[Â¶](#change-e60b511fbaf0001cde702449ecb0104a)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ976](http://www.sqlalchemy.org/trac/ticket/976)

-   **[orm]**ç±»ç»‘å®šå­˜å–å™¨å¯ä»¥ç”¨ä½œrelation()order\_byçš„å‚æ•°ã€‚[Â¶](#change-ba55e63a03bb8ec099147f6a87c61615)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ939](http://www.sqlalchemy.org/trac/ticket/939)

-   **[orm]**ä¿®å¤äº†ShardedSession.execute()ä¸­çš„shard\_idå‚æ•°ã€‚[Â¶](#change-bd5038cfd61379dab45f5b5efb96d141)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1072](http://www.sqlalchemy.org/trac/ticket/1072)

### SQL [Â¶ T0\>](#change-0.5.0beta1-sql "Permalink to this headline")

-   **[sql]**Connection.invalidate() checks for closed status to avoid
    attribute errors.[Â¶](#change-29be44a1f0bc1caa144b8bc1beb51489)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1246](http://www.sqlalchemy.org/trac/ticket/1246)

-   **[sql]**
    NullPoolæ”¯æŒåœ¨å¤±è´¥è¡Œä¸ºä¸­é‡æ–°è¿æ¥ã€‚[Â¶](#change-16e86878cd9e70fedc4666e21ba59cf5)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1094](http://www.sqlalchemy.org/trac/ticket/1094)

-   **[sql]**The per-dialect cache used by TypeEngine to cache
    dialect-specific types is now a WeakKeyDictionary.
    è¿™æ ·å¯ä»¥é˜²æ­¢æ–¹è¨€å¯¹è±¡è¢«æ°¸ä¹…å¼•ç”¨åˆ°åˆ›å»ºä»»æ„æ•°é‡çš„å¼•æ“æˆ–æ–¹è¨€çš„åº”ç”¨ç¨‹åºä¸­ã€‚æœ‰ä¸€ä¸ªå°çš„æ€§èƒ½æŸå¤±ï¼Œå°†åœ¨0.6ä¸­å¾—åˆ°è§£å†³ã€‚[Â¶](#change-1a0630c7f407b3faf362899ef82ad169)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1299](http://www.sqlalchemy.org/trac/ticket/1299)

-   **[sql]**Fixed SQLite reflection methods so that non-present
    cursor.description, which triggers an auto-cursor close, will be
    detected so that no results doesnâ€™t fail on recent versions of
    pysqlite which raise an error when fetchone() called with no rows
    present.[Â¶](#change-df3932569fdafeb934c94108dca3f10c)

### MySQLçš„[Â¶ T0\>](#change-0.5.0beta1-mysql "Permalink to this headline")

-   **[mysql]**ä¿®æ­£åœ¨åå°„æœŸé—´FKåˆ—ä¸å­˜åœ¨æ—¶å¼‚å¸¸å¼•å‘çš„é—®é¢˜ã€‚[Â¶](#change-8e90da9f21562be95b0bfbd2c9e027d6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1241](http://www.sqlalchemy.org/trac/ticket/1241)

### é¢„è¨€[Â¶ T0\>](#change-0.5.0beta1-oracle "Permalink to this headline")

-   **[oracle]**ä¿®æ­£äº†é˜²æ­¢æ¥æ”¶æŸäº›ç±»å‹çš„å‚æ•°çš„é”™è¯¯ï¼›éå¸¸æ„Ÿè°¢wwu.edu
    huddlejï¼[Â¶](#change-4b9a389dc0d41e5883225b92c038f6b6)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ1265](http://www.sqlalchemy.org/trac/ticket/1265)

### ç«é¸Ÿ[Â¶ T0\>](#change-0.5.0beta1-firebird "Permalink to this headline")

-   **[firebird]**æ–°å¢äº†å¯¹æ’å…¥ï¼ˆä»…é™2.0+ï¼‰ï¼Œæ›´æ–°å’Œåˆ é™¤ï¼ˆä»…é™2.1+ï¼‰è¿”å›å€¼çš„æ”¯æŒã€‚[Â¶](#change-f80867c91e5a7fd60be40e84b6b45c1c)

### æ‚é¡¹[Â¶ T0\>](#change-0.5.0beta1-misc "Permalink to this headline")

-   ç”±mapperæ·»åŠ çš„â€œ\_\_init\_\_â€è§¦å‘å™¨/ä¿®é¥°å™¨ç°åœ¨è¯•å›¾ç²¾ç¡®åœ°é•œåƒåŸå§‹\_\_init\_\_çš„å‚æ•°ç­¾åã€‚'\_sa\_session'çš„ä¼ é€’ä¸å†æ˜¯éšå¼çš„ï¼Œä½ å¿…é¡»åœ¨ä½ çš„æ„é€ å‡½æ•°ä¸­å…è®¸thiså…³é”®å­—å‚æ•°ã€‚[Â¶](#change-4c74f38b423ff53dcd4b7fa1966af84d)

-   ClassStateè¢«é‡å‘½åä¸ºClassManagerã€‚[Â¶](#change-980210cb8cdd5ceea64cd04baa489570)

-   ç±»å¯ä»¥é€šè¿‡æä¾›\_\_sa\_instrumentation\_manager\_\_å±æ€§æ¥æä¾›ä»–ä»¬è‡ªå·±çš„InstrumentationManagerã€‚[Â¶](#change-9cbc088fadfe2d0e1f287573f9baa15e)

-   è‡ªå®šä¹‰æ£€æµ‹å¯ä»¥ä½¿ç”¨ä»»ä½•æœºåˆ¶å°†ClassManagerä¸ç±»å…³è”èµ·æ¥ï¼Œå¹¶å°†InstanceStateä¸å®ä¾‹å…³è”èµ·æ¥ã€‚è¿™äº›å¯¹è±¡çš„å±æ€§ä»ç„¶æ˜¯SQLAlchemyçš„æœ¬åœ°å·¥å…·ä½¿ç”¨çš„é»˜è®¤å…³è”æœºåˆ¶ã€‚[Â¶](#change-e6063cfb03c99c975326810501e82cdc)

-   å°†å®ä¾‹å¯¹è±¡ä¸­çš„entity\_nameï¼Œ\_sa\_session\_idå’Œ\_instance\_keyç§»è‡³å®ä¾‹çŠ¶æ€ã€‚è¿™äº›å€¼ä»æ—§ä»¥æ—§çš„æ–¹å¼æä¾›ï¼Œç°åœ¨å·²å¼ƒç”¨ï¼Œå¹¶ä½¿ç”¨é™„åŠ åˆ°è¯¥ç±»çš„æè¿°ç¬¦ã€‚è®¿é—®æ—¶ä¼šå‘å‡ºå¼ƒç”¨è­¦å‘Šã€‚[Â¶](#change-d0e462bbc183d7226f97f17ecbb388a2)

-   prepare\_instrumentationçš„\_prepare\_instrumentationåˆ«åå·²è¢«åˆ é™¤ã€‚[Â¶](#change-4c81de802c5b169c064df29a7b362856)

-   sqlalchemy.exceptionså·²æ›´åä¸ºsqlalchemy.excã€‚è¯¥æ¨¡å—å¯ä»¥ç”¨ä»»ä½•åç§°å¯¼å…¥ã€‚[Â¶](#change-f109a7bb053325a3920397d52b10afba)

-   ORM-related exceptions are now defined in sqlalchemy.orm.exc.
    åœ¨å¯¼å…¥sqlalchemy.ormæœŸé—´ï¼ŒConcurrentModificationErrorï¼ŒFlushErrorå’ŒUnmappedColumnErrorå…¼å®¹æ€§åˆ«åå®‰è£…åœ¨sqlalchemy.excä¸­ã€‚[Â¶](#change-5787d3423a68487bb24c139973934eed)

-   sqlalchemy.loggingå·²é‡å‘½åä¸ºsqlalchemy.logã€‚[Â¶](#change-2d6f76209ea09a87b60ecfd470463e1e)

-   å·²åˆ é™¤sqlalchemy.excä¸­è­¦å‘Šå®šä¹‰çš„è¿‡æ¸¡æ€§sqlalchemy.log.SADeprecationWarningåˆ«åã€‚[Â¶](#change-11111e8dff7ace83b711108d6ca580af)

-   exc.AssertionError has been removed and usage replaced with Pythonâ€™s
    built-in
    AssertionError.[Â¶](#change-37d168fda1270d938e3c6dbec83f764b)

-   MapperExtensionsé™„åŠ åˆ°å¤šä¸ªentity\_name
    =ä¸€ä¸ªç±»çš„ä¸»æ˜ å°„å™¨çš„è¡Œä¸ºå·²è¢«æ›´æ”¹ã€‚ä¸ºç±»å®šä¹‰çš„ç¬¬ä¸€ä¸ªmapper()æ˜¯ç¬¦åˆMapperExtension'instrument\_class'ï¼Œ'init\_instance'å’Œ'init\_failed'äº‹ä»¶çš„å”¯ä¸€æ˜ å°„å™¨ã€‚è¿™æ˜¯å€’é€€ä¸ç›¸å®¹çš„ï¼›ä¹‹å‰å®šä¹‰çš„æœ€åä¸€ä¸ªæ˜ å°„å™¨çš„æ‰©å±•å°†æ¥æ”¶è¿™äº›äº‹ä»¶ã€‚[Â¶](#change-31be20aa80e30309ce588ebcaab5bdab)

-   **[postgres]**å¢åŠ äº†å¯¹Postgresçš„ç´¢å¼•åå°„æ”¯æŒï¼Œä½¿ç”¨Ken
    Kuhlmanæäº¤çš„ä¸€ä¸ªæˆ‘ä»¬é•¿æœŸå¿½ç•¥çš„å¾ˆå¥½çš„è¡¥ä¸ã€‚[Â¶](#change-de2200a740660664c93871010b7c242f)

    å‚è€ƒæ–‡çŒ®ï¼š[ï¼ƒ714](http://www.sqlalchemy.org/trac/ticket/714)


