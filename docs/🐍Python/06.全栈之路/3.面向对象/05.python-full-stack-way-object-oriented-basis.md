---
title: Python å…¨æ ˆä¹‹è·¯ç³»åˆ—ä¹‹é¢å‘å¯¹è±¡åŸºç¡€

tags: 
  - ç¼–ç 
  - é¢å‘å¯¹è±¡
top: 1
categories: 
  - ğŸ’»å·¥ä½œ
  - ğŸPython
  - å…¨æ ˆä¹‹è·¯
  - é¢å‘å¯¹è±¡
date: 2020-05-23 18:21:46
permalink: /pages/693750/
---

## é¢å‘å¯¹è±¡åŸºæœ¬ä»‹ç»

**Python ç¼–ç¨‹æ–¹å¼ï¼š**

1. é¢å‘è¿‡ç¨‹ç¼–ç¨‹
2. é¢å‘å‡½æ•°ç¼–ç¨‹
3. é¢å‘å¯¹è±¡ç¼–ç¨‹

**åç§°å®šä¹‰ï¼š**

1. å¦‚æœå‡½æ•°æ²¡æœ‰åœ¨ç±»ä¸­ç§°ä¹‹ä¸º`å‡½æ•°`
2. å¦‚æœå‡½æ•°åœ¨ç±»ä¸­ç§°ä¹‹ä¸º`æ–¹æ³•`

åˆ›å»ºç±»

```python
# åˆ›å»ºä¸€ä¸ªç±»ï¼Œç±»åæ˜¯Class_basis
class Class_basis:
    # åœ¨ç±»é‡Œé¢åˆ›å»ºäº†ä¸€ä¸ªæ–¹æ³•retï¼Œç±»é‡Œé¢çš„æ–¹æ³•å¿…é¡»åŠ ä¸€ä¸ªselfå…³é”®å­—
    def ret(self):
        # å½“è°ƒç”¨æ–¹æ³•çš„æ—¶å€™è¾“å‡ºret
        print("ret")
```

ä½¿ç”¨ç±»

```python
# é€šè¿‡Class_basisç±»åˆ›å»ºä¸€ä¸ªå¯¹è±¡obj(åˆ›å»ºä¸€ä¸ªClass_basiså®ä¾‹)ï¼Œç±»ååé¢åŠ æ‹¬å·
obj = Class_basis()

# é€šè¿‡å¯¹è±¡è°ƒç”¨ç±»ä¸­çš„retæ–¹æ³•
obj.ret()
```

ç±»çš„å†…å­˜åœ°å€å¯¹åº”å…³ç³»

![object-oriented-basis-01](https://ansheng.me/wp-content/uploads/2016/12/1483020680.png)

## é¢å‘å¯¹è±¡ä¹‹ self

```python
#!/usr/bin/env python
# _*_ coding:utf-8 _*_

# åˆ›å»ºä¸€ä¸ªç±»ï¼Œç±»åæ˜¯Class_basis
class Class_basis:
    # åœ¨ç±»é‡Œé¢åˆ›å»ºäº†ä¸€ä¸ªæ–¹æ³•ret
    def ret(self,):
        # è¾“å‡ºselfçš„å†…å­˜åœ°å€
        print("æ–¹æ³•retçš„selfå†…å­˜åœ°å€", id(self))

# åˆ›å»ºä¸€ä¸ªå¯¹è±¡objï¼Œç±»ååé¢åŠ æ‹¬å·
obj = Class_basis()

# è¾“å‡ºå¯¹è±¡objçš„å†…å­˜åœ°å€
print("objå¯¹è±¡å†…å­˜åœ°å€", id(obj))

# é€šè¿‡å¯¹è±¡è°ƒç”¨ç±»ä¸­çš„retæ–¹æ³•
obj.ret()
``` 

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py
objå¯¹è±¡å†…å­˜åœ°å€ 2420760156536
æ–¹æ³•retçš„selfå†…å­˜åœ°å€ 2420760156536

Process finished with exit code 0
```

é€šè¿‡ä¸Šé¢çš„æµ‹è¯•å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°`obj`å¯¹è±¡å’Œç±»çš„æ–¹æ³•ä¸­`self`å†…å­˜åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆæ–¹æ³•ä¸­çš„`self`å°±ç­‰äº`obj`

å¦‚å›¾

![object-oriented-basis-02](https://ansheng.me/wp-content/uploads/2016/12/1483020708.png)

`self`æ˜¯å½¢å¼å‚æ•°ï¼Œæœ‰ Python è‡ªè¡Œä¼ é€’ã€‚

## é¢å‘å¯¹è±¡ä¹‹å°è£…

å°è£…å°±æ˜¯å°†å†…å®¹å°è£…åˆ°æŸä¸ªåœ°æ–¹ï¼Œä»¥åå†å»è°ƒç”¨è¢«å°è£…åœ¨æŸå¤„çš„å†…å®¹ï¼Œåœ¨ä½¿ç”¨é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§æ—¶ï¼Œéœ€è¦ï¼š

1. å°†å†…å®¹å°è£…åˆ°æŸå¤„
2. ä»æŸå¤„è°ƒç”¨è¢«å°è£…çš„å†…å®¹

```bash
class Foo:
    def ret(self):
        # è¾“å‡ºbackendå˜é‡çš„å†…å®¹
        print(self.backend)

obj = Foo()
# åœ¨å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªbackendå˜é‡
obj.backend = "as"
obj.ret()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py
as

Process finished with exit code 0
```

ä¸Šé¢çš„å°è£…æ˜¯ä¸€ç§éä¸»æµçš„å°è£…æ–¹å¼ï¼Œä¸‹é¢çš„`__init__æ„é€ æ–¹æ³•`å°è£…æ–¹å¼æ˜¯ä¸»æµçš„å°è£…æ–¹å¼ã€‚

```python
class Foo:
	
	# è¿›å…¥ç±»çš„æ—¶å€™é¦–å…ˆæ‰§è¡Œ__init__æ–¹æ³•
    def __init__(self, name):
        
        """
        __init__ç§°ä¹‹ä¸ºæ„é€ æ–¹æ³•
        :param name: Fooä¼ é€’è¿‡æ¥çš„å‚æ•°
        """

        # åœ¨ç±»ä¸­åˆ›å»ºä¸€ä¸ªæˆå‘˜Nameï¼Œå®ƒçš„å€¼æ˜¯ä¼ è¿‡æ¥çš„å½¢å‚name
        self.Name = name

    # ç±»çš„æ–¹æ³•
    def user(self):
    	# è¾“å‡ºNameçš„å€¼
        print(self.Name)

# åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”å°†"Ansheng"å°è£…åˆ°å¯¹è±¡ä¸­ï¼Œç±»+æ‹¬å·çš„æ—¶å€™ä¼šè‡ªåŠ¨æ‰§è¡Œ__init__æ–¹æ³•
obj = Foo("Ansheng")

# æ‰§è¡Œuseræ–¹æ³•
obj.user()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py
Ansheng

Process finished with exit code 0
```

> \__del__ è§£é‡Šå™¨é”€æ¯å¯¹è±¡æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼Œç‰¹æ®Šçš„åï¼šææ„æ–¹æ³•

å°è£…çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€å°±æ˜¯å½“åŒä¸€ç±»å‹çš„æ–¹æ³•å…·æœ‰ç›¸åŒå‚æ•°æ—¶ï¼Œç›´æ¥å°è£…åˆ°å¯¹è±¡å³å¯ã€‚

### å®ä¾‹

é€šè¿‡ç”¨æˆ·è¾“å…¥å¹´é¾„å’Œå§“åè¾“å‡ºç”¨æˆ·çš„ä¸ªäººä¿¡æ¯

```python
#!/usr/bin/env python
# _*_ coding:utf-8 _*_

class Foo:
    def __init__(self, name, age):
        self.Name = name
        self.Age = age

    def info(self):
        print("""
            My name is: %s
            My age is: %d
        """ % (self.Name, self.Age))

ansheng = Foo("Ansheng", 18)
ansheng.info()

xiaoming = Foo("xiaoming", 30)
xiaoming.info()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py

            My name is: Ansheng
            My age is: 18
        

            My name is: xiaoming
            My age is: 30
        

Process finished with exit code 0
```

å°è£…çš„åº”ç”¨åœºæ™¯ä¹‹äºŒå°±æ˜¯æŠŠç±»å½“ä½œæ¨¡å—ï¼Œåˆ›å»ºå¤šä¸ªå¯¹è±¡(å¯¹è±¡å†…å°è£…çš„æ•°æ®å¯ä»¥ä¸ä¸€æ ·)

## é¢å‘å¯¹è±¡ä¹‹ç»§æ‰¿åŸºç¡€

ç»§æ‰¿ï¼Œé¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿å’Œç°å®ç”Ÿæ´»ä¸­çš„ç»§æ‰¿ç›¸åŒï¼Œå³ï¼šå­å¯ä»¥ç»§æ‰¿çˆ¶çš„å†…å®¹ã€‚

å®ä¾‹

åˆ›å»ºä¸€ä¸ª`äºº`ä¿¡æ¯ç›¸å…³çš„ç±»ï¼Œæ¯”å¦‚è¯´äººæ‹¥æœ‰`å››è‚¢`ã€`å¤´å‘`ã€`çœ¼`ã€`è€³æœµ`ç­‰ä¿¡æ¯ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªä¸­å›½äººå’Œå¤–å›½äººçš„ç±»ï¼Œä¸­å›½äººçš„è¯­è¨€æ˜¯ä¸­æ–‡ï¼Œçš®è‚¤æ˜¯é»„è‰²ï¼Œå¤–å›½äººçš„è¯­è¨€æ˜¯è‹±æ–‡ï¼Œçš®è‚¤æ˜¯é»‘è‰²ã€‚

```python
#!/usr/bin/env python
# _*_ coding:utf-8 _*_

class People:
    def __init__(self):
        print("""
        ä½ çš„é€šç”¨ç‰¹å¾æœ‰ï¼šå››è‚¢ã€å¤´å‘ã€çœ¼ã€è€³æœµ
        """)

class China(People):
    def info(self):
        print("""
        ä½ æ˜¯ä¸­å›½äººï¼Œä½ çš„è¯­è¨€æ˜¯ä¸­æ–‡ï¼Œçš®è‚¤æ˜¯é»„è‰²
        """)

class Us(People):
    def info(self):
        print("""
        ä½ æ˜¯ç¾å›½äººï¼Œä½ çš„è¯­è¨€æ˜¯è‹±æ–‡ï¼Œçš®è‚¤æ˜¯é»‘è‰²
        """)

c = China()
c.info()

m = Us()
m.info()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py

        ä½ çš„é€šç”¨ç‰¹å¾æœ‰ï¼šå››è‚¢ã€å¤´å‘ã€çœ¼ã€è€³æœµ
        

        ä½ æ˜¯ä¸­å›½äººï¼Œä½ çš„è¯­è¨€æ˜¯ä¸­æ–‡ï¼Œçš®è‚¤æ˜¯é»„è‰²
        

        ä½ çš„é€šç”¨ç‰¹å¾æœ‰ï¼šå››è‚¢ã€å¤´å‘ã€çœ¼ã€è€³æœµ
        

        ä½ æ˜¯ç¾å›½äººï¼Œä½ çš„è¯­è¨€æ˜¯è‹±æ–‡ï¼Œçš®è‚¤æ˜¯é»‘è‰²
        

Process finished with exit code 0
```

`People` --> `çˆ¶ç±»` or `åŸºç±»`

`China` and `Us` --> `å­ç±»` or `æ´¾ç”Ÿç±»`

1. æ´¾ç”Ÿç±»å¯ä»¥é›†æˆåŸºç±»ä¸­æ‰€æœ‰çš„åŠŸèƒ½
2. æ´¾ç”Ÿç±»å’Œç§¯ç´¯åŒæ—¶å­˜åœ¨ï¼Œä¼˜å…ˆæ‰¾æ´¾ç”Ÿç±»
3. Python ç±»å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»

## é¢å‘å¯¹è±¡ä¹‹ç»§æ‰¿ä¹‹å¤šç»§æ‰¿(æ–°å¼ç±»)

å¤šç»§æ‰¿å°±æ˜¯åœ¨`class My(China, Us):`æ‹¬å·å†…æ”¾å…¥å¤šä¸ªçˆ¶ç±»åã€‚

å¤šç»§æ‰¿é¡ºåº

å½“`My(China, Us)`æ—¶ï¼Œå› ä¸º`My`ç±»ä¸­æœ‰`info`è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥è¾“å‡ºçš„ç»“æœæ˜¯`æˆ‘å°±æ˜¯æˆ‘`

```python
#!/usr/bin/env python
# _*_ coding:utf-8 _*_

class China:
    def info(self):
        print("ä½ æ˜¯ä¸­å›½äºº")

class Us:
    def info(self):
        print("ä½ æ˜¯ç¾å›½äºº")

class My(China, Us):
    def info(self):
        print("æˆ‘å°±æ˜¯æˆ‘")

c = My()
c.info()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py
æˆ‘å°±æ˜¯æˆ‘

Process finished with exit code 0
```


å½“`My(China, Us)`æ—¶ï¼Œ`My`ç±»ä¸­æ²¡æœ‰`info`è¿™ä¸ªæ–¹æ³•ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯`ä½ æ˜¯ä¸­å›½äºº`ï¼Œé»˜è®¤æ‹¬å·å†…å·¦è¾¹çš„ç±»ä¼˜å…ˆ

```python
#!/usr/bin/env python
# _*_ coding:utf-8 _*_

class China:
    def info(self):
        print("ä½ æ˜¯ä¸­å›½äºº")

class Us:
    def info(self):
        print("ä½ æ˜¯ç¾å›½äºº")

class My(China, Us):
    pass

c = My()
c.info()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py
ä½ æ˜¯ä¸­å›½äºº

Process finished with exit code 0
```

å½“`My(China, Us)`æ—¶ï¼Œ`My`ç±»ä¸­æ²¡æœ‰`info`è¿™ä¸ªæ–¹æ³•ï¼Œ`China`ç±»ä¸­ä¹Ÿæ²¡æœ‰`info`è¿™ä¸ªæ–¹æ³•ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯`ä½ æ˜¯ç¾å›½äºº`

```python
#!/usr/bin/env python
# _*_ coding:utf-8 _*_

class China:
    pass

class Us:
    def info(self):
        print("ä½ æ˜¯ç¾å›½äºº")

class My(China, Us):
    pass

c = My()
c.info()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Week06/Day02/class_01.py
ä½ æ˜¯ç¾å›½äºº

Process finished with exit code 0
```

## é¢å‘å¯¹è±¡ä¹‹ç»§æ‰¿ä¹‹å¤šç»§æ‰¿æ—¶çš„æŸ¥æ‰¾é¡ºåº

- **é¡¶å±‚ä¸¤ä¸ªç±»æ²¡æœ‰çˆ¶ç±»çš„æƒ…å†µ**

![object-oriented-basis-03](https://ansheng.me/wp-content/uploads/2016/12/1483020761.png)

- **é¡¶å±‚ä¸¤ä¸ªç±»æœ‰çˆ¶ç±»çš„æƒ…å†µ**

![object-oriented-basis-04](https://ansheng.me/wp-content/uploads/2016/12/1483020781.png)