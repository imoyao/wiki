---
title: Python å…¨æ ˆä¹‹è·¯ç³»åˆ—ä¹‹æ–‡ä»¶æ“ä½œ

tags: 
  - ç¼–ç 
  - æ–‡ä»¶æ“ä½œ
top: 1
categories: 
  - ğŸ’» å·¥ä½œ
  - ğŸPython
  - å…¨æ ˆä¹‹è·¯
  - è¿›é˜¶ç¯‡
date: 2020-05-23 18:21:46
permalink: /pages/16f3cf/
---

Python å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡ŒæŸ¥çœ‹ã€åˆ›å»ºç­‰åŠŸèƒ½ï¼Œå¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œæ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼Œä¸”æ‰€ä½¿ç”¨åˆ°çš„å‡½æ•°åœ¨ Python3.5.x ä¸º`open`ï¼Œåœ¨ Python2.7.x åŒæ—¶æ”¯æŒ`file`å’Œ`open`ï¼Œä½†æ˜¯åœ¨ 3.5.x ç³»åˆ—ç§»é™¤äº†`file`å‡½æ•°ã€‚

## Python æ–‡ä»¶æ‰“å¼€æ–¹å¼

```python
æ–‡ä»¶å¥æŸ„ = open('æ–‡ä»¶è·¯å¾„','æ‰“å¼€æ¨¡å¼')
```

> **Psï¼š**æ–‡ä»¶å¥æŸ„ç›¸å½“äºäºå˜é‡åï¼Œæ–‡ä»¶è·¯å¾„å¯ä»¥å†™ä¸ºç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥å†™ä¸ºç›¸å¯¹è·¯å¾„ã€‚

## Python æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼

åŸºæœ¬çš„æ¨¡å¼

|æ¨¡å¼|è¯´æ˜|æ³¨æ„äº‹é¡¹|
|:--:|:--|:--|
|r|åªè¯»æ¨¡å¼|æ–‡ä»¶å¿…é¡»å­˜åœ¨|
|w|åªå†™æ¨¡å¼|æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨åˆ™æ¸…ç©ºæ–‡ä»¶å†…å®¹|
|x|åªå†™æ¨¡å¼|æ–‡ä»¶ä¸å¯è¯»ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™æŠ¥é”™|
|a|è¿½åŠ æ¨¡å¼|æ–‡ä»¶ä¸å­˜åœ¨åˆ›å»ºæ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨åˆ™åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹|

å¸¦`+`çš„æ¨¡å¼

|æ¨¡å¼|è¯´æ˜|
|:--:|:--|
|r+|è¯»å†™|
|w+|å†™è¯»|
|x+|å†™è¯»|
|a+|å†™è¯»|

å¸¦`b`çš„æ¨¡å¼

|æ¨¡å¼|è¯´æ˜|
|:--:|:--|
|rb|äºŒè¿›åˆ¶è¯»æ¨¡å¼|
|wb|äºŒè¿›åˆ¶å†™æ¨¡å¼|
|xb|äºŒè¿›åˆ¶åªå†™æ¨¡å¼|
|ab|äºŒè¿›åˆ¶è¿½åŠ æ¨¡å¼|

> **æç¤ºï¼š**ä»¥ b æ–¹å¼æ‰“å¼€æ—¶ï¼Œè¯»å–åˆ°çš„å†…å®¹æ˜¯å­—èŠ‚ç±»å‹ï¼Œå†™å…¥æ—¶ä¹Ÿéœ€è¦æä¾›å­—èŠ‚ç±»å‹

å¸¦`+`å¸¦`b`çš„æ¨¡å¼

|æ¨¡å¼|è¯´æ˜|
|:--:|:--|
|rb+|äºŒè¿›åˆ¶è¯»å†™æ¨¡å¼|
|wb+|äºŒè¿›åˆ¶è¯»å†™æ¨¡å¼|
|xb+|äºŒè¿›åˆ¶åªå†™æ¨¡å¼|
|ab+|äºŒè¿›åˆ¶è¯»å†™æ¨¡å¼|

## Python æ–‡ä»¶è¯»å–æ–¹å¼

|æ¨¡å¼|è¯´æ˜|
|:--|:--|
|read([size])|è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹ï¼Œå¦‚æœè®¾ç½®äº† sizeï¼Œé‚£ä¹ˆä¹…è¯»å– size å­—èŠ‚|
|readline([size])|ä¸€è¡Œä¸€è¡Œçš„è¯»å–|
|readlines()|è¯»å–åˆ°çš„æ¯ä¸€è¡Œå†…å®¹ä½œä¸ºåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ |

æµ‹è¯•çš„æ–‡ä»¶åæ˜¯`hello.tx"`ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š

```
Hello Word!
123
abc
456
abc
789
abc
```

**read**

ä»£ç ï¼š

```python
# ä»¥åªè¯»çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶hello.txt
f = open("hello.txt","r")
# è¯»å–æ–‡ä»¶å†…å®¹èµ‹å€¼ç»™å˜é‡c
c = f.read()
# å…³é—­æ–‡ä»¶
f.close()
# è¾“å‡ºcçš„å€¼
print(c)
```

è¾“å‡ºç»“æœï¼š

```powershell
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
Hello Word!
123
abc
456
abc
789
abc
```

**readline**

ä»£ç ï¼š

```python
# ä»¥åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶hello.txt
f = open("hello.txt","r")
# è¯»å–ç¬¬ä¸€è¡Œ
c1 = f.readline()
# è¯»å–ç¬¬äºŒè¡Œ
c2 = f.readline()
# è¯»å–ç¬¬ä¸‰è¡Œ
c3 = f.readline()
# å…³é—­æ–‡ä»¶
f.close()
# è¾“å‡ºè¯»å–æ–‡ä»¶ç¬¬ä¸€è¡Œå†…å®¹
print(c1)
# è¾“å‡ºè¯»å–æ–‡ä»¶ç¬¬äºŒè¡Œå†…å®¹
print(c2)
# è¾“å‡ºè¯»å–æ–‡ä»¶ç¬¬ä¸‰è¡Œå†…å®¹
print(c3)
```

è¾“å‡ºç»“æœï¼š

```powershell
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
Hello Word!

123

abc
```

**readlines**

```python
# ä»¥åªè¯»çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶hello.txt
f = open("hello.txt","r")
# å°†æ–‡ä»¶æ‰€æœ‰å†…å®¹èµ‹å€¼ç»™c
c = f.readlines()
# æŸ¥çœ‹æ•°æ®ç±»å‹
print(type(c))
# å…³é—­æ–‡ä»¶
f.close()
# éå†è¾“å‡ºæ–‡ä»¶å†…å®¹
for n in c:
    print(n)
```

ç»“æœ

```powershell
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
# è¾“å‡ºçš„æ•°æ®ç±»å‹
<class 'list'>
Hello Word!

123

abc

456

abc

789

abc
```

## Python æ–‡ä»¶å†™å…¥æ–¹å¼

|æ–¹æ³•|è¯´æ˜|
|:--|:--|
|write(str)|å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶|
|writelines(sequence or strings)|å†™å¤šè¡Œåˆ°æ–‡ä»¶ï¼Œå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œåˆ—è¡¨ã€å…ƒç»„ç­‰|

**write**

ä»£ç ï¼š

```python
# ä»¥åªè¯»çš„æ¨¡å¼æ‰“å¼€æ–‡ä»¶write.txtï¼Œæ²¡æœ‰åˆ™åˆ›å»ºï¼Œæœ‰åˆ™è¦†ç›–å†…å®¹
file = open("write.txt","w")
# åœ¨æ–‡ä»¶å†…å®¹ä¸­å†™å…¥å­—ç¬¦ä¸²test write
file.write("test write")
# å…³é—­æ–‡ä»¶
file.close()
```

`write.txt`æ–‡ä»¶å†…å®¹ä¸ºï¼š

```python
test write
```

**writelines**

ä»£ç ï¼š

```python
# ä»¥åªè¯»æ¨¡å¼æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶wr_lines.txt
f = open("wr_lines.txt","w",encoding="utf-8")
# å†™å…¥ä¸€ä¸ªåˆ—è¡¨
f.writelines(["11","22","33"])
# å…³é—­æ–‡ä»¶
f.close()
```

`wr_lines.txt`æ–‡ä»¶å†…å®¹ï¼š

```python
112233
```

## Python æ–‡ä»¶æ“ä½œæ‰€æä¾›çš„æ–¹æ³•

**close(self):**

å…³é—­å·²ç»æ‰“å¼€çš„æ–‡ä»¶

```python
f.close()
```

**fileno(self):**

æ–‡ä»¶æè¿°ç¬¦

```python
 f = open("hello.txt","r")
ret = f.fileno()
f.close()
print(ret)
```

æ‰§è¡Œç»“æœï¼š

```python
3
```

**flush(self):**

åˆ·æ–°ç¼“å†²åŒºçš„å†…å®¹åˆ°ç¡¬ç›˜ä¸­

```python
f.flush()
```

**isatty(self):**

åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯ tty è®¾å¤‡ï¼Œå¦‚æœæ˜¯ tty è®¾å¤‡åˆ™è¿”å›`True`ï¼Œå¦åˆ™è¿”å›`False`

```python
f = open("hello.txt","r")
ret = f.isatty()
f.close()
print(ret)
```

è¿”å›ç»“æœï¼š

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
False
```

**readable(self):**

æ˜¯å¦å¯è¯»ï¼Œå¦‚æœå¯è¯»è¿”å›`True`ï¼Œå¦åˆ™è¿”å›`False`

```python
f = open("hello.txt","r")
ret = f.readable()
f.close()
print(ret)
```

è¿”å›ç»“æœï¼š

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
True
```

**readline(self, limit=-1):**

æ¯æ¬¡ä»…è¯»å–ä¸€è¡Œæ•°æ®

```python
f = open("hello.txt","r")
print(f.readline())
print(f.readline())
f.close()
```

è¿”å›ç»“æœï¼š

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
Hello Word!

123
```

**readlines(self, hint=-1):**

æŠŠæ¯ä¸€è¡Œå†…å®¹å½“ä½œåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ 

```python
f = open("hello.txt","r")
print(f.readlines())
f.close()
```

è¿”å›ç»“æœï¼š

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
['Hello Word!\n', '123\n', 'abc\n', '456\n', 'abc\n', '789\n', 'abc']
```

- tell(self):

è·å–æŒ‡é’ˆä½ç½®

```python
f = open("hello.txt","r")
print(f.tell())
f.close()
```

è¿”å›ç»“æœ:

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
0
```

**seek(self, offset, whence=io.SEEK_SET):**

æŒ‡å®šæ–‡ä»¶ä¸­æŒ‡é’ˆä½ç½®

```python
f = open("hello.txt","r")
print(f.tell())
f.seek(3)
print(f.tell())
f.close()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
0
3
```

**seekable(self):**

æŒ‡é’ˆæ˜¯å¦å¯æ“ä½œ

```python
f = open("hello.txt","r")
print(f.seekable())
f.close()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
True
```

**writable(self):**

æ˜¯å¦å¯å†™

```python
f = open("hello.txt","r")
print(f.writable())
f.close()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
False
```

**writelines(self, lines):**

å†™å…¥æ–‡ä»¶çš„å­—ç¬¦ä¸²åºåˆ—ï¼Œåºåˆ—å¯ä»¥æ˜¯ä»»ä½•è¿­ä»£çš„å¯¹è±¡å­—ç¬¦ä¸²ç”Ÿäº§ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ª`å­—ç¬¦ä¸²åˆ—è¡¨`ã€‚

```python
f = open("wr_lines.txt","w")
f.writelines(["11","22","33"])
f.close()
```

æ‰§è¡Œç»“æœ

```python
112233
```

**read(self, n=None):**

è¯»å–æŒ‡å®šå­—èŠ‚æ•°æ®ï¼Œåé¢ä¸åŠ å‚æ•°é»˜è®¤è¯»å–å…¨éƒ¨

```python
f = open("wr_lines.txt","r")
print(f.read(3))
f.seek(0)
print(f.read())
f.close()
```

æ‰§è¡Œç»“æœ

```python
C:\Python35\python.exe F:/Python_code/sublime/Day06/file.py
112
112233
```

**write(self, s):**

å¾€æ–‡ä»¶é‡Œé¢å†™å†…å®¹

```python
f = open("wr_lines.txt","w")
f.write("abcabcabc")
f.close()
```

æ–‡ä»¶å†…å®¹

```python
abcabcabc
```

## åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶

ä¸ºäº†é¿å…æ‰“å¼€æ–‡ä»¶åå¿˜è®°å…³é—­ï¼Œå¯ä»¥é€šè¿‡ç®¡ç†ä¸Šä¸‹æ–‡ï¼Œå³ï¼š

```python
with open('log','r') as f:
 ä»£ç å—
```

å¦‚æ­¤æ–¹å¼ï¼Œå½“ with ä»£ç å—æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå†…éƒ¨ä¼šè‡ªåŠ¨å…³é—­å¹¶é‡Šæ”¾æ–‡ä»¶èµ„æºã€‚

åœ¨ Python 2.7 åŠä»¥åï¼Œwith åˆæ”¯æŒåŒæ—¶å¯¹å¤šä¸ªæ–‡ä»¶çš„ä¸Šä¸‹æ–‡è¿›è¡Œç®¡ç†ï¼Œå³ï¼š

```python
with open('log1') as obj1, open('log2') as obj2:
    pass
```