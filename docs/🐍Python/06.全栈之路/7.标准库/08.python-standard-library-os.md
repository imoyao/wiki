---
title: Python æ ‡å‡†åº“ç³»åˆ—ä¹‹ os æ¨¡å—

tags: 
  - ç¼–ç 
  - é¢å‘å¯¹è±¡
top: 2
categories: 
  - ðŸ’» å·¥ä½œ
  - ðŸPython
  - å…¨æ ˆä¹‹è·¯
  - æ ‡å‡†åº“
date: 2020-05-23 18:21:46
permalink: /pages/606598/
---

> This module provides a portable way of using operating system dependent functionality. If you just want to read or write a file see open(), if you want to manipulate paths, see the os.path module, and if you want to read all the lines in all the files on the command line see the fileinput module. For creating temporary files and directories see the tempfile module, and for high-level file and directory handling see the shutil module

## os æ¨¡å—å¸¸ç”¨æ–¹æ³•

|æ¨¡å—æ–¹æ³•|è¯´æ˜Ž|
|:--|:--|
|os.getcwd()|èŽ·å–å½“å‰å·¥ä½œç›®å½•ï¼Œå³å½“å‰ python è„šæœ¬å·¥ä½œçš„ç›®å½•è·¯å¾„|
|os.chdir("dirname")|æ”¹å˜å½“å‰è„šæœ¬å·¥ä½œç›®å½•ï¼›ç›¸å½“äºŽ shell ä¸‹ cd|
|os.curdir|è¿”å›žå½“å‰ç›®å½•: ('.')|
|os.pardir|èŽ·å–å½“å‰ç›®å½•çš„çˆ¶ç›®å½•å­—ç¬¦ä¸²åï¼š('..')|
|os.makedirs('dirname1/dirname2')|å¯ç”Ÿæˆå¤šå±‚é€’å½’ç›®å½•|
|os.removedirs('dirname1')|è‹¥ç›®å½•ä¸ºç©ºï¼Œåˆ™åˆ é™¤ï¼Œå¹¶é€’å½’åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¦‚è‹¥ä¹Ÿä¸ºç©ºï¼Œåˆ™åˆ é™¤ï¼Œä¾æ­¤ç±»æŽ¨|
|os.mkdir('dirname')|ç”Ÿæˆå•çº§ç›®å½•ï¼›ç›¸å½“äºŽ shell ä¸­ mkdir dirname|
|os.rmdir('dirname')|åˆ é™¤å•çº§ç©ºç›®å½•ï¼Œè‹¥ç›®å½•ä¸ä¸ºç©ºåˆ™æ— æ³•åˆ é™¤ï¼ŒæŠ¥é”™ï¼›ç›¸å½“äºŽ shell ä¸­ rmdir dirname|
|os.listdir('dirname')|åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ï¼Œå¹¶ä»¥åˆ—è¡¨æ–¹å¼æ‰“å°|
|os.remove()|åˆ é™¤ä¸€ä¸ªæ–‡ä»¶|
|os.rename("oldname","newname")|é‡å‘½åæ–‡ä»¶/ç›®å½•|
|os.stat('path/filename')|èŽ·å–æ–‡ä»¶/ç›®å½•ä¿¡æ¯|
|os.sep|è¾“å‡ºæ“ä½œç³»ç»Ÿç‰¹å®šçš„è·¯å¾„åˆ†éš”ç¬¦ï¼Œwin ä¸‹ä¸º`\\`,Linux ä¸‹ä¸º`/`|
|os.linesep|è¾“å‡ºå½“å‰å¹³å°ä½¿ç”¨çš„è¡Œç»ˆæ­¢ç¬¦ï¼Œwin ä¸‹ä¸º`\t\n`,Linux ä¸‹ä¸º`\n`|
|os.pathsep|è¾“å‡ºç”¨äºŽåˆ†å‰²æ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²|
|os.name|è¾“å‡ºå­—ç¬¦ä¸²æŒ‡ç¤ºå½“å‰ä½¿ç”¨å¹³å°ã€‚win->`nt`; Linux->`posix`|
|os.system("bash command")|è¿è¡Œ shell å‘½ä»¤ï¼Œç›´æŽ¥æ˜¾ç¤º|
|os.environ|èŽ·å–ç³»ç»ŸçŽ¯å¢ƒå˜é‡|
|os.path.abspath(path)|è¿”å›ž path è§„èŒƒåŒ–çš„ç»å¯¹è·¯å¾„|
|os.path.split(path)|å°† path åˆ†å‰²æˆç›®å½•å’Œæ–‡ä»¶åäºŒå…ƒç»„è¿”å›ž|
|os.path.dirname(path)|è¿”å›ž path çš„ç›®å½•ã€‚å…¶å®žå°±æ˜¯ os.path.split(path)çš„ç¬¬ä¸€ä¸ªå…ƒç´ |
|os.path.basename(path)|è¿”å›ž path æœ€åŽçš„æ–‡ä»¶åã€‚å¦‚ä½• path ä»¥`ï¼`æˆ–`\`ç»“å°¾ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›žç©ºå€¼ã€‚å³ os.path.split(path)çš„ç¬¬äºŒä¸ªå…ƒç´ |
|os.path.exists(path)|å¦‚æžœ path å­˜åœ¨ï¼Œè¿”å›ž Trueï¼›å¦‚æžœ path ä¸å­˜åœ¨ï¼Œè¿”å›ž False|
|os.path.isabs(path)|å¦‚æžœ path æ˜¯ç»å¯¹è·¯å¾„ï¼Œè¿”å›ž True|
|os.path.isfile(path)|å¦‚æžœ path æ˜¯ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œè¿”å›ž Trueã€‚å¦åˆ™è¿”å›ž False|
|os.path.isdir(path)|å¦‚æžœ path æ˜¯ä¸€ä¸ªå­˜åœ¨çš„ç›®å½•ï¼Œåˆ™è¿”å›ž Trueã€‚å¦åˆ™è¿”å›ž False|
|os.path.join(path1[, path2[,...]])|å°†å¤šä¸ªè·¯å¾„ç»„åˆåŽè¿”å›žï¼Œç¬¬ä¸€ä¸ªç»å¯¹è·¯å¾„ä¹‹å‰çš„å‚æ•°å°†è¢«å¿½ç•¥|
|os.path.getatime(path)|è¿”å›ž path æ‰€æŒ‡å‘çš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„æœ€åŽå­˜å–æ—¶é—´|
|os.path.getmtime(path)|è¿”å›ž path æ‰€æŒ‡å‘çš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„æœ€åŽä¿®æ”¹æ—¶é—´|

## å¸¸ç”¨æ–¹æ³•å®žä¾‹

- èŽ·å–å½“å‰å·¥ä½œç›®å½•

```python
 # èŽ·å–çš„è¿›å…¥pythonæ—¶çš„ç›®å½•
 >>> os.getcwd()
'/root'
```

- æ”¹å˜å·¥ä½œç›®å½•åˆ°`/tmp`ä¸‹

```python
 # å½“å‰ç›®å½•æ˜¯/root
 >>> os.getcwd()
'/root'
 # åˆ‡æ¢åˆ°/tmpä¸‹
 >>> os.chdir("/tmp")
 # å½“å‰ç›®å½•å˜æˆäº†/tmp
 >>> os.getcwd()     
'/tmp'
```

- èŽ·å–`/root`ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶

```python
 >>> os.listdir('/root')
['.cshrc', '.bash_history', '.bash_logout', '.viminfo', '.bash_profile', '.tcshrc', 'scripts.py', '.bashrc', 'modules']
```

- åˆ é™¤`/tmp`ç›®å½•ä¸‹çš„`os.txt`æ–‡ä»¶

```python
 >>> os.chdir("/tmp") 
 >>> os.getcwd()     
'/tmp'
 >>> os.listdir('./')   
['.ICE-unix', 'yum.log']
 >>> os.remove("yum.log")
 >>> os.listdir('./')    
['.ICE-unix']
```

- æŸ¥çœ‹`/root`ç›®å½•ä¿¡æ¯

```python
 >>> os.stat('/root')        
posix.stat_result(st_mode=16744, st_ino=130817, st_dev=2051L, st_nlink=3, st_uid=0, st_gid=0, st_size=4096, st_atime=1463668203, st_mtime=1463668161, st_ctime=1463668161)
```

- æŸ¥çœ‹å½“å‰æ“ä½œç³»ç»Ÿçš„å¹³å°

```python
 >>> os.name
'posix'
```

> win --> `nt`ï¼ŒLinux -> `posix`

- æ‰§è¡Œä¸€æ®µ`shell`å‘½ä»¤

```python
 # æ‰§è¡Œçš„å‘½ä»¤è¦å†™ç»å¯¹è·¯å¾„
 >>> os.system("/usr/bin/whoami")    
root
# 0ä»£è¡¨å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œå¦‚æžœå‘½ä»¤æ²¡æœ‰æ‰§è¡ŒæˆåŠŸåˆ™è¿”å›žçš„æ˜¯éž0
0
```

- ç»„åˆä¸€ä¸ªè·¯å¾„

```python
 >>> a1 = "/"
 >>> a2 = "root"
 >>> os.path.join(a1, a2)
'/root'
```