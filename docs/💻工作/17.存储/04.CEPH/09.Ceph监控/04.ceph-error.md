---
title: ceph é›†ç¾¤è­¦å‘Šå’Œé”™è¯¯ç±»å‹

tags: ceph
categories: 
  - ğŸ’»å·¥ä½œ
  - å­˜å‚¨
  - CEPH
  - Ceph ç›‘æ§
date: 2020-05-23 11:02:28
permalink: /pages/2780bc/
---

| æŒ‡æ ‡ | è¯´æ˜ | çº§åˆ« |
|---|---|---|
|noscrub flag(s) set | é˜²æ­¢é›†ç¾¤åšæ¸…æ´—æ“ä½œ | |
|full flag(s) set | ä½¿é›†ç¾¤åˆ°è¾¾è®¾ç½®çš„ full_ratio å€¼ã€‚ä¼šå¯¼è‡´é›†ç¾¤é˜»æ­¢å†™å…¥æ“ä½œ | |
|nodeep-scrub flag(s) set | é˜²æ­¢é›†ç¾¤è¿›è¡Œæ·±åº¦æ¸…æ´—æ“ä½œ | |
|pause flag(s) set | é›†ç¾¤å°†ä¼šé˜»æ­¢è¯»å†™æ“ä½œï¼Œä½†ä¸ä¼šå½±å“é›†ç¾¤çš„ inã€outã€up æˆ– down çŠ¶æ€ã€‚é›†ç¾¤æ‰”ä¿æŒæ­£å¸¸è¿è¡Œ,å°±æ˜¯å®¢æˆ·ç«¯æ— æ³•è¯»å†™ | |
|noup  flag(s) set | é˜²æ­¢ osd è¿›å…¥ up çŠ¶æ€ | |
|nodown flag(s) set | é˜²æ­¢ osd è¿›å…¥ down çŠ¶æ€ | |
|noout flag(s) set | é˜²æ­¢ osd è¿›å…¥ out çŠ¶æ€ | |
|noin flag(s) set | é˜²æ­¢ osd çº³å…¥ ceph é›†ç¾¤ã€‚æœ‰æ—¶å€™æˆ‘ä»¬æ–°åŠ å…¥ OSDï¼Œå¹¶ä¸æƒ³ç«‹é©¬åŠ å…¥é›†ç¾¤ï¼Œå¯ä»¥è®¾ç½®è¯¥é€‰é¡¹ | |
|nobackfill  flag(s) set | é˜²æ­¢é›†ç¾¤è¿›è¡Œæ•°æ®å›å¡«æ“ä½œ | |
|norebalance flag(s) set | é˜²æ­¢æ•°æ®å‡è¡¡æ“ä½œ | |
|norecover flag(s) set | é¿å…å…³é—­ OSD çš„è¿‡ç¨‹ä¸­å‘ç”Ÿæ•°æ®è¿ç§» | |
|notieragent flag(s) set | | |
|osds exist in the crush map but not in the osdmap | osd crush weight æœ‰å€¼ä½†æ˜¯ osd weight æ— å€¼ | |
|application not enabled on 1 pool(s) | æ²¡æœ‰å®šä¹‰æ± çš„ä½¿ç”¨ç±»å‹ | |
|osds have slow requests | æ…¢æŸ¥è¯¢ | |
|Monitor clock skew detected | æ—¶é’Ÿåç§» | |
|bigdata failing to advance its oldest client/flush tid | å®¢æˆ·ç«¯å’Œ MDS æœåŠ¡å™¨ä¹‹é—´é€šä¿¡ä½¿ç”¨æ—§çš„ tid | |
|Many clients (34) failing to respond to cache pressure | å¦‚æœæŸä¸ªå®¢æˆ·ç«¯çš„å“åº”æ—¶é—´è¶…è¿‡äº† mds_revoke_cap_timeout ï¼ˆé»˜è®¤ä¸º 60s ï¼‰è¿™æ¡æ¶ˆæ¯å°±ä¼šå‡ºç° | |
|mons down, quorum | Ceph Monitor down | |
|in osds are down| OSD down åä¼šå‡ºç° | |
|cache pools are missing hit_sets | ä½¿ç”¨ cache tier åä¼šå‡ºç° | |
|has mon_osd_down_out_interval set to 0 | has mon_osd_down_out_interval set to 0 ||
|is full | pool æ»¡åä¼šå‡ºç° | |
|near full osd | near full osd | |
|unscrubbed pgs | æœ‰äº› pg æ²¡æœ‰ scrub  | |
|pgs stuck | PG å¤„äºä¸€äº›ä¸å¥åº·çŠ¶æ€çš„æ—¶å€™ï¼Œä¼šæ˜¾ç¤ºå‡ºæ¥ | |
|requests are blocked | slow requests ä¼šè­¦å‘Š | |
|osds have slow requests | slow requests ä¼šè­¦å‘Š | |
| recovery |  éœ€è¦ recovery çš„æ—¶å€™ä¼šæŠ¥ | |
| at/near target max | ä½¿ç”¨ cache tier çš„æ—¶å€™ä¼šè­¦å‘Š | |
| too few PGs per OSD | æ¯ä¸ª OSD çš„ PG æ•°è¿‡å°‘ | |
| too many PGs per OSD | too many PGs per OSD | |
| > pgp_num | > pgp_num | |
| has many more objects per pg than average (too few pgs?) | æ¯ä¸ª Pg ä¸Šçš„ objects æ•°è¿‡å¤š ||
| no osds | éƒ¨ç½²å®Œå°±å¯ä»¥çœ‹åˆ°ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šå‡ºç° | |
| full osd | OSD æ»¡æ—¶å‡ºç° | |
| pgs are stuck inactive for more than | Pg å¤„äº inactive çŠ¶æ€ï¼Œè¯¥ Pg è¯»å†™éƒ½ä¸è¡Œ | |
| scrub errors | scrub é”™è¯¯å‡ºç°ï¼Œæ˜¯ scrub é”™è¯¯?è¿˜æ˜¯ scrub å‡ºäº†ä¸ä¸€è‡´çš„ pg | |



