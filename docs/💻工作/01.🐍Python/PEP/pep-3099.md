---
title: pep-3099
date: 2020-12-11 21:40:35
permalink: /pages/6be1ae/
categories:
  - ğŸ’»å·¥ä½œ
  - ğŸPython
  - PEP
tags:
  - 
---
---
title: [è¯‘]PEP 3099--Python 3 ä¸­ä¸ä¼šæ”¹å˜çš„äº‹æƒ…

categories: 
  - ğŸ’» å·¥ä½œ
  - ğŸPython
  - PEP
date: 2020-05-26 12:27:56
permalink: /pages/02dfe3/
tags: 
  - peps
---

**å¯¼è¯­ï¼š** Python 3.8 å·²ç»å‘å¸ƒäº†ï¼Œå¼•è¿›äº†ä¸å°‘å˜æ›´ç‚¹ã€‚å…³äº 3.9 é¢„è®¡å¼•å…¥çš„ä¿®æ”¹ï¼Œä¹ŸæŠ«éœ²äº†ä¸€äº›ã€‚æˆ‘ä»¬ä¹‹å‰è¿˜å…³æ³¨è¿‡ [GIL çš„ç§»é™¤è®¡åˆ’](https://mp.weixin.qq.com/s/8KvQemz0SWq2hw-2aBPv2Q) å’Œ [Guido æ­£åœ¨å¼€å‘çš„æ–°è§£æå™¨](https://github.com/chinesehuazhou/guido_blog_translation) ç­‰è¯é¢˜ï¼Œè¿™æ„å‘³ Python å¾ˆæœ‰æ´»åŠ›ï¼Œä»åœ¨å¥åº·åœ°å‘å±•ç€ã€‚

Python 3 æ˜¯æ¯”è¾ƒå¤§èƒ†æ¿€è¿›çš„ï¼ŒæŠ›å¼ƒäº†å‰ä¸€ç‰ˆæœ¬çš„å¾ˆå¤šé™ˆæ—§çš„åŒ…è¢±ï¼Œä½†åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ç›¸å¯¹å…‹åˆ¶çš„ï¼ˆä¸€ç›´å¦‚æ­¤ï¼‰ï¼Œç¤¾åŒºé‡Œæå‡ºçš„å¾ˆå¤šæè®®éƒ½è¢«å¦å†³äº†ã€‚å‰ä¸ä¹…ï¼Œæˆ‘åˆ†äº«çš„[Python è®¾è®¡å’Œå†å²çš„ 27 ä¸ªé—®é¢˜](https://mp.weixin.qq.com/s/zabIvt4dfu_rf7SmGZXqXg) æåˆ°äº†ä¸€äº›æ²‰æ·€ä¸‹æ¥çš„è®¾è®¡é—®é¢˜ï¼Œä»Šå¤©è¿™ç¯‡è¯‘æ–‡åˆ™èšç„¦äºå®˜æ–¹æ˜ç¡®å¦å†³æ‰çš„ 24 ä¸ªè®¾è®¡é—®é¢˜ã€‚

å¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯ç»†ææœ«èŠ‚ï¼ˆä¾‹å¦‚å¤§å°å†™ã€æ‹¬å·ã€åå¼•å·ã€è¡Œå®½ç­‰ç­‰ï¼‰ï¼Œä½†ç»†ç©¶èµ·æ¥çš„è¯ï¼Œä¹Ÿä¼šæŒºæœ‰æ„æ€ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚

------

**PEP åŸæ–‡ï¼š** https://www.python.org/dev/peps/pep-0399

**PEP æ ‡é¢˜ï¼š** Things that will Not Change in Python 3000

**PEP ä½œè€…ï¼š** Georg Brandl

**åˆ›å»ºæ—¥æœŸï¼š** 2006-04-04

**è¯‘è€…**ï¼š[è±Œè±†èŠ±ä¸‹çŒ«](https://zhuanlan.zhihu.com/pythonCat)ï¼ˆ**Python çŒ«** å…¬ä¼—å·ä½œè€…ï¼‰

**ç¿»è¯‘è®¡åˆ’**ï¼šhttps://github.com/chinesehuazhou/peps-cn

--------------------

## æ¦‚è¦

æœ‰äº›æƒ³æ³•å¾ˆç³Ÿç³•ã€‚å°½ç®¡å…³äº Python æ¼”åŒ–çš„æŸäº›æƒ³æ³•å…·æœ‰å»ºè®¾æ€§ï¼Œä½†ä¸å°‘æƒ³æ³•å´ä¸ Python çš„åŸºæœ¬åŸåˆ™èƒŒé“è€Œé©°ï¼Œå°±åƒæ˜¯è®©äººå›´ç€åœˆè·‘æ­¥ï¼šå“ªä¹Ÿå»ä¸äº†ï¼Œå³ä½¿ Python  3000 å…è®¸æå‡ºç‰¹åˆ«çš„å»ºè®®ï¼Œä¹Ÿä¸ç®¡ç”¨ã€‚

æ­¤ PEP å°è¯•åˆ—å‡º Python 3000 ä¸Šæ‰€æœ‰çš„ BDFL å†³æ–­ï¼Œæ¶‰åŠé‚£äº›ä¸ä¼šå‘ç”Ÿæ›´æ”¹çš„å†…å®¹ï¼Œä»¥åŠä¸ä¼šå¼•å…¥çš„æ–°åŠŸèƒ½ï¼ŒæŒ‰ä¸»é¢˜æ’åºï¼Œé™„åŠ ç®€çŸ­çš„è¯´æ˜æˆ–è€… python-3000 é‚®ä»¶åˆ—è¡¨çš„ç›¸å…³çº¿ç´¢ã€‚

å¦‚æœä½ è®¤ä¸ºåº”è¯¥å®ç°ä¸‹é¢æ‰€åˆ—ä¸¾çš„æè®®ï¼Œé‚£ä½ æœ€å¥½ç«‹å³ç¦»å¼€è®¡ç®—æœºï¼Œå‡ºé—¨å»ï¼Œå°½æƒ…å¨±ä¹ã€‚å»æˆ·å¤–æ´»åŠ¨ï¼Œåœ¨è‰åœ°ä¸Šæ‰“ç›¹ï¼Œéƒ½æ¯”æå‡ºä¸€ä¸ªâ€œæ®´æ‰“ä¸€åŒ¹æ­»é©¬â€çš„æƒ³æ³•æ¥å¾—æœ‰å»ºè®¾æ€§ã€‚è¿™ç®—æ˜¯å¯¹ä½ çš„è­¦å‘Šï¼ˆè¯‘æ³¨ï¼šä¸‹é¢çš„ä¸»æ„æ˜¯ä¸ä¼šå®ç°çš„ï¼Œä¸è¦è¯•å›¾æ”¹å˜è¿™äº›å·²ç»æ˜¯æ¿ä¸Šé’‰é’‰çš„å†³æ–­ï¼‰ã€‚

## è¯­è¨€æ ¸å¿ƒ

- Python 3000 ä¸ä¼šåŒºåˆ†å¤§å°å†™ã€‚


- Python 3000 ä¸ä¼šä»å¤´å¼€å§‹é‡å†™ã€‚

> ä¸ä¼šä½¿ç”¨ C++ æˆ–å…¶å®ƒä¸åŒäº C çš„è¯­è¨€ä½œä¸ºå®ç°è¯­è¨€ã€‚ä½†æ˜¯ï¼Œä»£ç åº“å°†é€æ¸è¿ç§»ã€‚Joel Spolsky æœ‰ä¸€ç¯‡å‡ºè‰²çš„æ–‡ç« è§£é‡Šäº†åŸå› ï¼š[http://www.joelonsoftware.com/articles/fog0000000069.html](http://www.joelonsoftware.com/articles/fog0000000069.html)

-  self ä¸ä¼šå˜æˆéšå¼çš„ã€‚ 


> ä½¿ç”¨æ˜¾å¼çš„ self æ˜¯ä¸€ä¸ªå¥½äº‹ã€‚æ¶ˆé™¤è§£æå˜é‡æ—¶çš„æ­§ä¹‰ï¼Œå¯ä»¥ä½¿å¾—ä»£ç æ›´æ¸…æ™°ã€‚è¿™è¿˜ä½¿å¾—å‡½æ•°å’Œæ–¹æ³•ä¹‹é—´çš„å·®å¼‚å˜å°ã€‚   
>
> é‚®ä»¶ï¼šâ€œæè®®è‰æ¡ˆï¼šPython 3.0 ä½¿ç”¨éšå¼çš„ selfâ€ [https://mail.python.org/pipermail/python-dev/2006-January/059468.html](https://mail.python.org/pipermail/python-dev/2006-January/059468.html)

-  lambda ä¸ä¼šè¢«æ”¹åã€‚ 


> æ›¾ç»æœ‰è¿‡æè®®ï¼Œåœ¨ Python 3000 ä¸­ç§»é™¤ lambdaã€‚ç„¶è€Œï¼Œæ²¡äººèƒ½å¤Ÿæå‡ºæ›´å¥½çš„æä¾›åŒ¿åå‡½æ•°çš„æ–¹æ³•ã€‚æ‰€ä»¥ lambda ä¿ç•™äº†ä¸‹æ¥ã€‚
>
> ä½†åªæ˜¯è¯´è¦ä¿æŒåŸæ ·ã€‚ï¼ˆæœ‰äººæè®®ï¼‰å¢åŠ å®ƒå¯¹è¯­å¥çš„æ”¯æŒï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªå¥½æƒ³æ³•ã€‚å› ä¸ºå®ƒéœ€è¦å…è®¸å¤šè¡Œ lambda è¡¨è¾¾å¼ï¼Œè¿™æ„å‘³ç€å¤šè¡Œè¡¨è¾¾å¼å¯èƒ½çªç„¶å‡ºç°ï¼Œä¾‹å¦‚ï¼Œå°†ä¼šå…è®¸å¯¹å‡½æ•°è°ƒç”¨ä½¿ç”¨å¤šè¡Œå‚æ•°ã€‚é‚£çœŸæ˜¯ä¸‘é™‹ã€‚
>
> é‚®ä»¶ï¼šâ€œgenexp è¯­æ³•/lambdaâ€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-April/001042.html](https://mail.python.org/pipermail/python-3000/2006-April/001042.html) 

-  Python ä¸ä¼šæ·»åŠ å¯ç¼–ç¨‹çš„è¯­æ³•ã€‚


> é‚®ä»¶ï¼šâ€œæ˜¯ä¸€ä¸ªå£°æ˜ï¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ä¸¤è€…çš†æ˜¯ï¼â€
> [https://mail.python.org/pipermail/python-3000/2006-April/000286.html](https://mail.python.org/pipermail/python-3000/2006-April/000286.html) 

-  ä¸ä¼šæœ‰ç±»ä¼¼ zip() çš„å¹¶è¡Œè¿­ä»£è¯­æ³•ã€‚ 


> é‚®ä»¶ï¼šâ€œå¹¶è¡Œè¿­ä»£è¯­æ³•â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-March/000210.html](https://mail.python.org/pipermail/python-3000/2006-March/000210.html) 

-  å­—ç¬¦ä¸²å°†ä¿æŒå¯è¿­ä»£ã€‚


> é‚®ä»¶ï¼šâ€œä½¿å­—ç¬¦ä¸²ä¸å¯è¿­ä»£â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-April/000759.html](https://mail.python.org/pipermail/python-3000/2006-April/000759.html) 

-  ä¸ä¼šæœ‰å¯¹ç”Ÿæˆå™¨è¡¨è¾¾å¼æˆ–åˆ—è¡¨æ¨å¯¼å¼çš„ç»“æœè¿›è¡Œæ’åºçš„è¯­æ³•ã€‚sorted() å°†æ¶µç›–æ‰€æœ‰çš„ä½¿ç”¨æƒ…å†µã€‚  


> é‚®ä»¶ï¼šâ€œä¸ºç”Ÿæˆå™¨è¡¨è¾¾å¼æ·»åŠ æ’åºâ€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-April/001295.html](https://mail.python.org/pipermail/python-3000/2006-April/001295.html)

-  åˆ‡ç‰‡å’Œæ‰©å±•å‹åˆ‡ç‰‡ä¸ä¼šå–æ¶ˆï¼ˆå³ä½¿\_\_getslice\_\_å’Œ\_\_setslice\_\_ API å¯èƒ½è¢«æ›¿æ¢ï¼‰ï¼Œå®ƒä»¬ä¹Ÿä¸ä¼šè¿”å›æ ‡å‡†å¯¹è±¡ç±»å‹çš„è§†å›¾ã€‚

> é‚®ä»¶ï¼šåˆ‡ç‰‡çš„æœªæ¥[https://mail.python.org/pipermail/python-3000/2006-May/001563.html](https://mail.python.org/pipermail/python-3000/2006-May/001563.html) 

-  ä¸ä¼šç¦æ­¢åœ¨å¾ªç¯ç»“æ„å†…é‡ç”¨å¾ªç¯å˜é‡ã€‚

> é‚®ä»¶ï¼šæ¶ˆé™¤è¿­ä»£å˜é‡çš„ä½œç”¨åŸŸå‡ºè¡€(scope bleeding)[https://mail.python.org/pipermail/python-dev/2006-May/064761.html](https://mail.python.org/pipermail/python-dev/2006-May/064761.html)

-  è§£æå™¨ä¸ä¼šæ¯” LL(1) æ›´å¤æ‚ã€‚

> ç®€å•èƒœäºå¤æ‚ã€‚è¿™ä¸ªæƒ³æ³•é€‚ç”¨äºè§£æå™¨ã€‚å°† Python çš„è¯­æ³•é™åˆ¶ä¸º LL(1) è§£æå™¨æ˜¯ä¸€ç§å¥½å¤„ï¼Œè€Œä¸æ˜¯è¯…å’’ã€‚å®ƒä½¿æˆ‘ä»¬å¸¦ä¸Šæ‰‹é“ï¼Œä¸è‡³äºå‘å±•è¿‡åº¦ï¼Œä¸è‡³äºæœ€ç»ˆå¾—åˆ°äº›æ—¶é«¦çš„è¯­æ³•è§„åˆ™ï¼Œåƒä¸€äº›èµ°å‘æ— åçš„åŠ¨æ€è¯­è¨€é‚£æ ·ï¼Œä¾‹å¦‚ Perlã€‚

-  ä¸ä¼šæœ‰æ‹¬å·ã€‚

> è¿™å¤ªæ˜æ˜¾äº†ï¼Œä»¥è‡³äºä¸éœ€è¦å¼•ç”¨é‚®ä»¶åˆ—è¡¨ã€‚ä½¿ç”¨`from __future__ import braces` ï¼Œä½ å°±ä¼šå¾—åˆ°å…³äºè¿™ä¸ªé—®é¢˜çš„æ˜ç¡®ç­”æ¡ˆã€‚  

-  ä¸ä¼šå†æœ‰åå¼•å·ã€‚

> åå¼•å·ï¼ˆ`ï¼‰å°†ä¸å†ç”¨ä½œ repr çš„ç®€å†™â€”â€”ä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒä»¬å¯ç”¨äºå…¶å®ƒç”¨é€”ã€‚å³ä½¿å¿½ç•¥å‘åå…¼å®¹æ€§çš„æ··ä¹±ï¼Œè¿™å­—ç¬¦æœ¬èº«ä¹Ÿä¼šå¼•èµ·å¤ªå¤šé—®é¢˜ï¼ˆåœ¨æŸäº›å­—ä½“ã€æŸäº›é”®ç›˜ä¸Šã€åœ¨æ’ç‰ˆä¹¦ç±æ—¶ï¼Œç­‰ç­‰ï¼‰ã€‚
>
> é‚®ä»¶ï¼šâ€œä½¿ç”¨åå¼•å·ä½œä¸ºæ–°è¿ç®—ç¬¦â€ï¼Œ[https://mail.python.org/pipermail/python-ideas/2007-January/000054.html](https://mail.python.org/pipermail/python-ideas/2007-January/000054.html)

-  å¼•ç”¨å…¨å±€å˜é‡å foo ä¸ä¼šè¢«æ‹¼å†™ä¸º globals.fooã€‚global è¯­å¥ä¼šä¿ç•™     

> é‚®ä»¶ï¼šâ€œç”¨å…¨å±€å†…ç½®å¯¹è±¡æ›¿æ¢ globals() å’Œ global è¯­å¥â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-July/002485.html](https://mail.python.org/pipermail/python-3000/2006-July/002485.html) ï¼Œâ€œæ˜¾å¼è¯æ³•ä½œç”¨åŸŸï¼ˆpre-PEP?ï¼‰ â€ï¼Œ[https://mail.python.org/pipermail/python-dev/2006-July/067111.html](https://mail.python.org/pipermail/python-dev/2006-July/067111.html) 

-  ä¸ä¼šæœ‰æ›¿ä»£çš„ç»‘å®šæ“ä½œç¬¦ï¼Œä¾‹å¦‚ := ã€‚ 

> é‚®ä»¶ï¼šâ€œæ˜¾å¼è¯æ³•ä½œç”¨åŸŸï¼ˆpre-PEP?ï¼‰â€ï¼Œ[https://mail.python.org/pipermail/python-dev/2006-July/066995.html](https://mail.python.org/pipermail/python-dev/2006-July/066995.html)

-  æˆ‘ä»¬ä¸ä¼šåˆ é™¤å®¹å™¨å­—é¢é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ{expr:expr, ...}ï¼Œ[expr, ...] å’Œ(expr, ...)å°†ä¿ç•™ã€‚

> é‚®ä»¶ï¼šâ€œå»é™¤å®¹å™¨å­—é¢é‡â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-July/002550.html](https://mail.python.org/pipermail/python-3000/2006-July/002550.html)ï¼š

-  while å’Œ for å¾ªç¯ä¸­çš„ else å­å¥ä¸ä¼šæ›´æ”¹è¯­ä¹‰ï¼Œä¹Ÿä¸ä¼šè¢«åˆ é™¤ã€‚      

> é‚®ä»¶ï¼šâ€œ for/except/else è¯­æ³•â€ [https://mail.python.org/pipermail/python-ideas/2009-October/006083.html](https://mail.python.org/pipermail/python-ideas/2009-October/006083.html) 

## å†…ç½®å¯¹è±¡

-  zip() ä¸ä¼šå¢åŠ å…³é”®å­—å‚æ•°æˆ–å…¶å®ƒæœºåˆ¶æ¥é˜²æ­¢å®ƒåœ¨æœ€çŸ­åºåˆ—çš„æœ«å°¾åœæ­¢ã€‚ 

> é‚®ä»¶ï¼šâ€œå¯¹äºä¸åŒé•¿åº¦çš„åºåˆ—ï¼Œä»¤ zip() å¼•å‘å¼‚å¸¸â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-August/003338.html](https://mail.python.org/pipermail/python-3000/2006-August/003338.html)

-  hash() ä¸ä¼šæˆä¸ºå±æ€§ï¼Œå› ä¸ºå±æ€§åº”è¯¥æ˜¯æ˜“äºè®¡ç®—çš„ï¼Œä½†å“ˆå¸Œå¹¶ä¸ä¸€å®šæ˜¯è¿™ç§æƒ…å†µã€‚ 

> é‚®ä»¶ï¼šâ€œå“ˆå¸Œä½œä¸ºå±æ€§/ç‰¹æ€§â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-April/000362.html](https://mail.python.org/pipermail/python-3000/2006-April/000362.html) 

## æ ‡å‡†ç±»å‹

-  éå†å­—å…¸å°†ç»§ç»­è¿”å› keyã€‚

> é‚®ä»¶ï¼šâ€œéå†å­—å…¸â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-April/000283.html](https://mail.python.org/pipermail/python-3000/2006-April/000283.html)
>
> é‚®ä»¶ï¼šè®© iter(mapping) ç”Ÿæˆ (key, value) å¯¹[https://mail.python.org/pipermail/python-3000/2006-June/002368.html](https://mail.python.org/pipermail/python-3000/2006-June/002368.html)

-  ä¸ä¼šæœ‰ `frozenlist` ç±»å‹ã€‚  

> é‚®ä»¶ï¼šâ€œä¸å¯å˜çš„åˆ—è¡¨â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-May/002219.html](https://mail.python.org/pipermail/python-3000/2006-May/002219.html)

-  int ä¸ä¼šæ”¯æŒä¸‹æ ‡æ¥ç”Ÿæˆ rangeã€‚ 

> é‚®ä»¶ï¼šâ€œ xrange vs.int .\_\_ getslice\_\_â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-June/002450.html](https://mail.python.org/pipermail/python-3000/2006-June/002450.html)  

## ç¼–ç é£æ ¼

-  å¯¹äº C å’Œ Python ä»£ç ï¼Œï¼ˆæ¨èçš„ï¼‰æœ€å¤§è¡Œå®½å°†ä¿æŒ 80 ä¸ªå­—ç¬¦ã€‚


> é‚®ä»¶ï¼šâ€œ C é£æ ¼æŒ‡å—â€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-March/000131.html](https://mail.python.org/pipermail/python-3000/2006-March/000131.html) 

## äº¤äº’å¼è§£é‡Šå™¨

-  è§£é‡Šå™¨æç¤ºï¼ˆ>>>ï¼‰ä¸ä¼šæ”¹å˜ã€‚å®ƒç»™ Guido å¸¦æ¥æ¸©æš–çš„æ¨¡ç³Šæ„Ÿè§‰ã€‚


> é‚®ä»¶ï¼šâ€œä½å‚çš„æœå®ï¼šæ›´æ”¹è§£é‡Šå™¨çš„æç¤ºï¼Ÿâ€ï¼Œ[https://mail.python.org/pipermail/python-3000/2006-November/004891.html](https://mail.python.org/pipermail/python-3000/2006-November/004891.html)

## ç‰ˆæƒ

æœ¬æ–‡æ¡£å·²æ”¾ç½®åœ¨å…¬å…±é¢†åŸŸã€‚æºæ–‡æ¡£ï¼š
[https://github.com/python/peps/blob/master/pep-3099.txt](https://github.com/python/peps/blob/master/pep-3099.txt)

## è¯‘è€…æ³¨

æ–‡ä¸­å‡ºç°çš„â€œé‚®ä»¶â€ï¼ŒåŸæ–‡æ˜¯â€œthreadâ€ï¼Œè‹±æ–‡è§£é‡Šåº”è¯¥æ˜¯ï¼ša series of connected messages on aÂ message boardÂ on the Internet which have been sent by different peopleã€‚å®é™…æŒ‡çš„æ˜¯â€œé‚®ä»¶åˆ—è¡¨ä¸­çš„è®®é¢˜â€ï¼Œä¸ºç®€æ´èµ·è§ï¼Œçœè¯‘ä¸ºâ€œé‚®ä»¶â€ã€‚



