---
title: Angular ä¸­å¦‚ä½•å¯¹ä¸€ä¸ªåŠ¨æ€è¡¨å•æ ¹æ® select çš„é€‰é¡¹ disable å…³è”çš„ inputï¼Ÿ

tags: 
  - å‰ç«¯
  - Angular
categories: 
  - ğŸ’»å·¥ä½œ
  - å‰ç«¯
  - Angular
date: 2020-06-11 17:21:46
permalink: /pages/e93dec/
---
## ä»£ç 
åŸºæœ¬æ€è·¯æ˜¯ä½¿ç”¨`statusChanges`ç›‘æµ‹ form çš„ select æ§ä»¶å€¼ï¼Œå½“å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯¹å…³è”å€¼è°ƒç”¨`disable()`æ–¹æ³•ä½¿èƒ½æˆ–ç¦ç”¨ã€‚
```plain
createForm() {
    const controlsConfig = {};
    _.forEach(this.moduleOptions, (moduleOption) => {
      controlsConfig[moduleOption.name] = [
        moduleOption.default_value,
        this.getValidators(moduleOption),
      ];
    });
    this.ipmiModuleForm = this.formBuilder.group(controlsConfig);
    // see also:
    // 1. https://stackoverflow.com/questions/39681674/use-disable-with-model-driven-form
    // 2. https://stackoverflow.com/questions/45412773/how-to-disable-all-formcontrols-inside-a-formgroup
    let modelControl = this.ipmiModuleForm.get('model')
    let ipControl = this.ipmiModuleForm.get('ip_addr')
    let maskControl = this.ipmiModuleForm.get('netmask')
    let gwControl = this.ipmiModuleForm.get('gateway')

    modelControl.statusChanges.subscribe((newStatus) => {
    if (modelControl.value !='dhcp') {
      // å¦‚æœç½‘ç»œæ¨¡å¼æ”¹ä¸ºdhcpï¼Œåˆ™é…ç½®é¡¹å…¨disable,å¦åˆ™enable
      ipControl.enable();
      maskControl.enable();
      gwControl.enable();
    } else {
      ipControl.disable();
      maskControl.disable();
      gwControl.disable();
    }
  });
  }
```

## æ•ˆæœ
![å…³è”ç¦ç”¨è¾“å…¥æ¡†](https://cdn.jsdelivr.net/gh/masantu/statics/images/form-disable.gif)

## å‚è€ƒé“¾æ¥
1. [angular - Use disable with model-driven form - StackOverflow](https://stackoverflow.com/questions/39681674/use-disable-with-model-driven-form)
2. [angular - Disable Input fields in reactive form - StackOverflow](https://stackoverflow.com/questions/42840136/disable-input-fields-in-reactive-form)
3. [angular - How to disable all FormControls inside a FormGroup - StackOverflow](https://stackoverflow.com/questions/45412773/how-to-disable-all-formcontrols-inside-a-formgroup)